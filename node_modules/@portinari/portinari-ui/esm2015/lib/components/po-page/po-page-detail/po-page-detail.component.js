import * as tslib_1 from "tslib";
import { Component, ViewContainerRef } from '@angular/core';
import { PoPageDetailBaseComponent } from './po-page-detail-base.component';
import { callAction, hasAction } from '../po-page-util/po-page-util';
/**
 * @docsExtends PoPageDetailBaseComponent
 *
 * @example
 *
 * <example name="po-page-detail-basic" title="Portinari Page Detail Basic">
 *  <file name="sample-po-page-detail-basic/sample-po-page-detail-basic.component.html"> </file>
 *  <file name="sample-po-page-detail-basic/sample-po-page-detail-basic.component.ts"> </file>
 * </example>
 *
 * <example name="po-page-detail-labs" title="Portinari Page Detail Labs">
 *  <file name="sample-po-page-detail-labs/sample-po-page-detail-labs.component.html"> </file>
 *  <file name="sample-po-page-detail-labs/sample-po-page-detail-labs.component.ts"> </file>
 * </example>
 *
 * <example name="po-page-detail-user" title="Portinari Page Detail - User">
 *  <file name="sample-po-page-detail-user/sample-po-page-detail-user.component.html"> </file>
 *  <file name="sample-po-page-detail-user/sample-po-page-detail-user.component.ts"> </file>
 * </example>
 */
let PoPageDetailComponent = class PoPageDetailComponent extends PoPageDetailBaseComponent {
    constructor(viewRef) {
        super();
        this.callActionFn = callAction;
        this.hasActionFn = hasAction;
        this.parentContext = viewRef['_view']['component'];
    }
    hasAnyAction() {
        return this.hasActionFn('back', this.parentContext) ||
            this.hasActionFn('edit', this.parentContext) ||
            this.hasActionFn('remove', this.parentContext);
    }
    hasEditFn(property) {
        if (property === 'icon') {
            return this.hasActionFn('edit', this.parentContext) ? '' : 'po-icon-delete';
        }
        else if (property === 'type') {
            return this.hasActionFn('edit', this.parentContext) ? 'default' : 'primary';
        }
        else {
            return '';
        }
    }
    hasEditOrRemoveFn(property) {
        if (property === 'icon') {
            return this.hasActionFn('edit', this.parentContext) || this.hasActionFn('remove', this.parentContext) ? '' : 'po-icon-arrow-left';
        }
        else if (property === 'type') {
            return this.hasActionFn('edit', this.parentContext) || this.hasActionFn('remove', this.parentContext) ? 'default' : 'primary';
        }
        else {
            return '';
        }
    }
    hasPageHeader() {
        return !!(this.title || this.hasAnyAction() || (this.breadcrumb && this.breadcrumb.items.length));
    }
};
PoPageDetailComponent.ctorParameters = () => [
    { type: ViewContainerRef }
];
PoPageDetailComponent = tslib_1.__decorate([
    Component({
        selector: 'po-page-detail',
        template: "<po-page>\n  <!-- HEADER -->\n  <po-page-header\n    *ngIf=\"hasPageHeader()\"\n    [p-breadcrumb]=\"breadcrumb\"\n    [p-title]=\"title\">\n\n    <!-- OPERATIONS -->\n    <div *ngIf=\"hasAnyAction()\" class=\"po-page-header-actions\">\n      <po-button *ngIf=\"hasActionFn('back', parentContext)\"\n        [p-icon]=\"hasEditOrRemoveFn('icon')\"\n        [p-label]=\"literals.back\"\n        [p-type]=\"hasEditOrRemoveFn('type')\"\n        (p-click)=\"callActionFn('back', parentContext)\">\n      </po-button>\n\n      <po-button *ngIf=\"hasActionFn('remove', parentContext)\"\n        [p-icon]=\"hasEditFn('icon')\"\n        [p-label]=\"literals.remove\"\n        [p-type]=\"hasEditFn('type')\"\n        (p-click)=\"callActionFn('remove', parentContext)\">\n      </po-button>\n\n      <po-button *ngIf=\"hasActionFn('edit', parentContext)\"\n        p-icon=\"po-icon-edit\"\n        p-type=\"primary\"\n        [p-label]=\"literals.edit\"\n        (p-click)=\"callActionFn('edit', parentContext)\">\n      </po-button>\n    </div>\n\n  </po-page-header>\n\n  <!-- CONTENT -->\n  <po-page-content>\n    <ng-content>\n    </ng-content>\n  </po-page-content>\n\n</po-page>\n"
    }),
    tslib_1.__metadata("design:paramtypes", [ViewContainerRef])
], PoPageDetailComponent);
export { PoPageDetailComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tcGFnZS1kZXRhaWwuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQHBvcnRpbmFyaS9wb3J0aW5hcmktdWkvIiwic291cmNlcyI6WyJsaWIvY29tcG9uZW50cy9wby1wYWdlL3BvLXBhZ2UtZGV0YWlsL3BvLXBhZ2UtZGV0YWlsLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUU1RCxPQUFPLEVBQUUseUJBQXlCLEVBQUUsTUFBTSxpQ0FBaUMsQ0FBQztBQUM1RSxPQUFPLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxNQUFNLDhCQUE4QixDQUFDO0FBRXJFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBbUJHO0FBS0gsSUFBYSxxQkFBcUIsR0FBbEMsTUFBYSxxQkFBc0IsU0FBUSx5QkFBeUI7SUFNbEUsWUFBWSxPQUF5QjtRQUNuQyxLQUFLLEVBQUUsQ0FBQztRQUxWLGlCQUFZLEdBQUcsVUFBVSxDQUFDO1FBQzFCLGdCQUFXLEdBQUcsU0FBUyxDQUFDO1FBS3RCLElBQUksQ0FBQyxhQUFhLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ3JELENBQUM7SUFFRCxZQUFZO1FBQ1YsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDO1lBQ2pELElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUM7WUFDNUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQ25ELENBQUM7SUFFRCxTQUFTLENBQUMsUUFBZ0I7UUFDeEIsSUFBSSxRQUFRLEtBQUssTUFBTSxFQUFFO1lBQ3ZCLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixDQUFDO1NBQzdFO2FBQU0sSUFBSSxRQUFRLEtBQUssTUFBTSxFQUFFO1lBQzlCLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztTQUM3RTthQUFNO1lBQ0wsT0FBTyxFQUFFLENBQUM7U0FDWDtJQUNILENBQUM7SUFFRCxpQkFBaUIsQ0FBQyxRQUFnQjtRQUNoQyxJQUFJLFFBQVEsS0FBSyxNQUFNLEVBQUU7WUFDdkIsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLG9CQUFvQixDQUFDO1NBQ25JO2FBQU0sSUFBSSxRQUFRLEtBQUssTUFBTSxFQUFFO1lBQzlCLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7U0FDL0g7YUFBTTtZQUNMLE9BQU8sRUFBRSxDQUFDO1NBQ1g7SUFDSCxDQUFDO0lBRUQsYUFBYTtRQUNYLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFDcEcsQ0FBQztDQUVGLENBQUE7O1lBbkNzQixnQkFBZ0I7O0FBTjFCLHFCQUFxQjtJQUpqQyxTQUFTLENBQUM7UUFDVCxRQUFRLEVBQUUsZ0JBQWdCO1FBQzFCLG1xQ0FBOEM7S0FDL0MsQ0FBQzs2Q0FPcUIsZ0JBQWdCO0dBTjFCLHFCQUFxQixDQXlDakM7U0F6Q1kscUJBQXFCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBWaWV3Q29udGFpbmVyUmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IFBvUGFnZURldGFpbEJhc2VDb21wb25lbnQgfSBmcm9tICcuL3BvLXBhZ2UtZGV0YWlsLWJhc2UuY29tcG9uZW50JztcbmltcG9ydCB7IGNhbGxBY3Rpb24sIGhhc0FjdGlvbiB9IGZyb20gJy4uL3BvLXBhZ2UtdXRpbC9wby1wYWdlLXV0aWwnO1xuXG4vKipcbiAqIEBkb2NzRXh0ZW5kcyBQb1BhZ2VEZXRhaWxCYXNlQ29tcG9uZW50XG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwicG8tcGFnZS1kZXRhaWwtYmFzaWNcIiB0aXRsZT1cIlBvcnRpbmFyaSBQYWdlIERldGFpbCBCYXNpY1wiPlxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtcG8tcGFnZS1kZXRhaWwtYmFzaWMvc2FtcGxlLXBvLXBhZ2UtZGV0YWlsLWJhc2ljLmNvbXBvbmVudC5odG1sXCI+IDwvZmlsZT5cbiAqICA8ZmlsZSBuYW1lPVwic2FtcGxlLXBvLXBhZ2UtZGV0YWlsLWJhc2ljL3NhbXBsZS1wby1wYWdlLWRldGFpbC1iYXNpYy5jb21wb25lbnQudHNcIj4gPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJwby1wYWdlLWRldGFpbC1sYWJzXCIgdGl0bGU9XCJQb3J0aW5hcmkgUGFnZSBEZXRhaWwgTGFic1wiPlxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtcG8tcGFnZS1kZXRhaWwtbGFicy9zYW1wbGUtcG8tcGFnZS1kZXRhaWwtbGFicy5jb21wb25lbnQuaHRtbFwiPiA8L2ZpbGU+XG4gKiAgPGZpbGUgbmFtZT1cInNhbXBsZS1wby1wYWdlLWRldGFpbC1sYWJzL3NhbXBsZS1wby1wYWdlLWRldGFpbC1sYWJzLmNvbXBvbmVudC50c1wiPiA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKlxuICogPGV4YW1wbGUgbmFtZT1cInBvLXBhZ2UtZGV0YWlsLXVzZXJcIiB0aXRsZT1cIlBvcnRpbmFyaSBQYWdlIERldGFpbCAtIFVzZXJcIj5cbiAqICA8ZmlsZSBuYW1lPVwic2FtcGxlLXBvLXBhZ2UtZGV0YWlsLXVzZXIvc2FtcGxlLXBvLXBhZ2UtZGV0YWlsLXVzZXIuY29tcG9uZW50Lmh0bWxcIj4gPC9maWxlPlxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtcG8tcGFnZS1kZXRhaWwtdXNlci9zYW1wbGUtcG8tcGFnZS1kZXRhaWwtdXNlci5jb21wb25lbnQudHNcIj4gPC9maWxlPlxuICogPC9leGFtcGxlPlxuICovXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdwby1wYWdlLWRldGFpbCcsXG4gIHRlbXBsYXRlVXJsOiAnLi9wby1wYWdlLWRldGFpbC5jb21wb25lbnQuaHRtbCdcbn0pXG5leHBvcnQgY2xhc3MgUG9QYWdlRGV0YWlsQ29tcG9uZW50IGV4dGVuZHMgUG9QYWdlRGV0YWlsQmFzZUNvbXBvbmVudCB7XG5cbiAgY2FsbEFjdGlvbkZuID0gY2FsbEFjdGlvbjtcbiAgaGFzQWN0aW9uRm4gPSBoYXNBY3Rpb247XG4gIHBhcmVudENvbnRleHQ6IFZpZXdDb250YWluZXJSZWY7XG5cbiAgY29uc3RydWN0b3Iodmlld1JlZjogVmlld0NvbnRhaW5lclJlZikge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5wYXJlbnRDb250ZXh0ID0gdmlld1JlZlsnX3ZpZXcnXVsnY29tcG9uZW50J107XG4gIH1cblxuICBoYXNBbnlBY3Rpb24oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuaGFzQWN0aW9uRm4oJ2JhY2snLCB0aGlzLnBhcmVudENvbnRleHQpIHx8XG4gICAgICB0aGlzLmhhc0FjdGlvbkZuKCdlZGl0JywgdGhpcy5wYXJlbnRDb250ZXh0KSB8fFxuICAgICAgdGhpcy5oYXNBY3Rpb25GbigncmVtb3ZlJywgdGhpcy5wYXJlbnRDb250ZXh0KTtcbiAgfVxuXG4gIGhhc0VkaXRGbihwcm9wZXJ0eTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAocHJvcGVydHkgPT09ICdpY29uJykge1xuICAgICAgcmV0dXJuIHRoaXMuaGFzQWN0aW9uRm4oJ2VkaXQnLCB0aGlzLnBhcmVudENvbnRleHQpID8gJycgOiAncG8taWNvbi1kZWxldGUnO1xuICAgIH0gZWxzZSBpZiAocHJvcGVydHkgPT09ICd0eXBlJykge1xuICAgICAgcmV0dXJuIHRoaXMuaGFzQWN0aW9uRm4oJ2VkaXQnLCB0aGlzLnBhcmVudENvbnRleHQpID8gJ2RlZmF1bHQnIDogJ3ByaW1hcnknO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICB9XG5cbiAgaGFzRWRpdE9yUmVtb3ZlRm4ocHJvcGVydHk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgaWYgKHByb3BlcnR5ID09PSAnaWNvbicpIHtcbiAgICAgIHJldHVybiB0aGlzLmhhc0FjdGlvbkZuKCdlZGl0JywgdGhpcy5wYXJlbnRDb250ZXh0KSB8fCB0aGlzLmhhc0FjdGlvbkZuKCdyZW1vdmUnLCB0aGlzLnBhcmVudENvbnRleHQpID8gJycgOiAncG8taWNvbi1hcnJvdy1sZWZ0JztcbiAgICB9IGVsc2UgaWYgKHByb3BlcnR5ID09PSAndHlwZScpIHtcbiAgICAgIHJldHVybiB0aGlzLmhhc0FjdGlvbkZuKCdlZGl0JywgdGhpcy5wYXJlbnRDb250ZXh0KSB8fCB0aGlzLmhhc0FjdGlvbkZuKCdyZW1vdmUnLCB0aGlzLnBhcmVudENvbnRleHQpID8gJ2RlZmF1bHQnIDogJ3ByaW1hcnknO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICB9XG5cbiAgaGFzUGFnZUhlYWRlcigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gISEodGhpcy50aXRsZSB8fCB0aGlzLmhhc0FueUFjdGlvbigpIHx8ICh0aGlzLmJyZWFkY3J1bWIgJiYgdGhpcy5icmVhZGNydW1iLml0ZW1zLmxlbmd0aCkpO1xuICB9XG5cbn1cbiJdfQ==