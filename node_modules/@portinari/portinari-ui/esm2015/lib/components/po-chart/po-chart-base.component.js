import * as tslib_1 from "tslib";
import { EventEmitter, Input, Output } from '@angular/core';
import { convertToInt, isTypeof } from '../../utils/util';
import { PoChartType } from './enums/po-chart-type.enum';
const poChartDefaultHeight = 400;
const poChartMinHeight = 200;
const poChartTypeDefault = PoChartType.Pie;
/**
 * @description
 *
 * O `po-chart` é um componente para renderização de dados através de gráficos, com isso facilitando a compreensão e tornando a
 * visualização destes dados mais agradável.
 *
 * Através de suas principais propriedades é possível definir o tipo de gráfico, uma altura e um título.
 *
 * Além disso, também é possível definir uma ação que será executada ao clicar em determinado elemento do gráfico
 * e outra que será executada ao passar o *mouse* sobre o elemento.
 *
 * #### Boas práticas
 *
 * - Para que o gráfico não fique ilegível e incompreensível, evite uma quantia excessiva de séries.
 * - Para exibir a intensidade de um único dado dê preferência ao tipo `gauge`.
 */
export class PoChartBaseComponent {
    constructor() {
        this._type = poChartTypeDefault;
        this.poChartType = PoChartType;
        /**
         * @optional
         *
         * @description
         *
         * Evento executado quando o usuário clicar sobre um elemento do gráfico.
         *
         * > Será passado por parâmetro um objeto contendo a categoria e valor da série.
         */
        this.seriesClick = new EventEmitter();
        /**
         * @optional
         *
         * @description
         *
         * Evento executado quando o usuário passar o *mouse* sobre um elemento do gráfico.
         *
         * > Será passado por parâmetro um objeto contendo a categoria e valor da série.
         */
        this.seriesHover = new EventEmitter();
    }
    /**
     * @optional
     *
     * @description
     *
     * Define a altura do gráfico.
     *
     * O valor padrão dos gráficos são:
     * - para o tipo *gauge*: `200px`;
     * - para os demais tipos: `400px`.
     *
     * > O valor mínimo aceito nesta propriedade é 200.
     *
     * @default `400px`
     */
    set height(value) {
        const intValue = convertToInt(value);
        let height;
        if (isTypeof(value, 'number')) {
            height = intValue <= poChartMinHeight ? poChartMinHeight : intValue;
        }
        else {
            height = this.setDefaultHeight();
        }
        this._height = height;
        this.rebuildComponent();
    }
    get height() {
        return this._height || this.setDefaultHeight();
    }
    /**
     * @description
     *
     * Define os elementos do gráfico que serão criados dinamicamente.
     *
     * > A coleção de objetos deve implementar alguma das interfaces abaixo:
     * - `PoDonutChartSeries`
     * - `PoPieChartSeries`
     * - `PoChartGaugeSerie`
     */
    set series(value) {
        this._series = value || [];
        this.chartSeries = Array.isArray(this._series) ? [...this._series] : this.transformObjectToArrayObject(this._series);
    }
    get series() {
        return this._series;
    }
    /**
     * @optional
     *
     * @description
     *
     * Define o tipo de gráfico.
     *
     * > Veja os valores válidos no *enum* `PoChartType`.
     *
     * @default `PoChartType.Pie`
     */
    set type(value) {
        this._type = Object.values(PoChartType).includes(value) ? value : poChartTypeDefault;
        this.rebuildComponent();
    }
    get type() {
        return this._type;
    }
    onSeriesClick(event) {
        this.seriesClick.emit(event);
    }
    onSeriesHover(event) {
        this.seriesHover.emit(event);
    }
    setDefaultHeight() {
        return this.type === PoChartType.Gauge ? poChartMinHeight : poChartDefaultHeight;
    }
    transformObjectToArrayObject(serie) {
        return typeof serie === 'object' && Object.keys(serie).length ? [Object.assign({}, serie)] : [];
    }
}
tslib_1.__decorate([
    Input('p-height'),
    tslib_1.__metadata("design:type", Number),
    tslib_1.__metadata("design:paramtypes", [Number])
], PoChartBaseComponent.prototype, "height", null);
tslib_1.__decorate([
    Input('p-series'),
    tslib_1.__metadata("design:type", Object),
    tslib_1.__metadata("design:paramtypes", [Object])
], PoChartBaseComponent.prototype, "series", null);
tslib_1.__decorate([
    Input('p-title'),
    tslib_1.__metadata("design:type", String)
], PoChartBaseComponent.prototype, "title", void 0);
tslib_1.__decorate([
    Input('p-type'),
    tslib_1.__metadata("design:type", String),
    tslib_1.__metadata("design:paramtypes", [String])
], PoChartBaseComponent.prototype, "type", null);
tslib_1.__decorate([
    Output('p-series-click'),
    tslib_1.__metadata("design:type", Object)
], PoChartBaseComponent.prototype, "seriesClick", void 0);
tslib_1.__decorate([
    Output('p-series-hover'),
    tslib_1.__metadata("design:type", Object)
], PoChartBaseComponent.prototype, "seriesHover", void 0);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tY2hhcnQtYmFzZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AcG9ydGluYXJpL3BvcnRpbmFyaS11aS8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL3BvLWNoYXJ0L3BvLWNoYXJ0LWJhc2UuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFNUQsT0FBTyxFQUFFLFlBQVksRUFBRSxRQUFRLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUcxRCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFJekQsTUFBTSxvQkFBb0IsR0FBRyxHQUFHLENBQUM7QUFDakMsTUFBTSxnQkFBZ0IsR0FBRyxHQUFHLENBQUM7QUFDN0IsTUFBTSxrQkFBa0IsR0FBRyxXQUFXLENBQUMsR0FBRyxDQUFDO0FBSTNDOzs7Ozs7Ozs7Ozs7Ozs7R0FlRztBQUNILE1BQU0sT0FBZ0Isb0JBQW9CO0lBQTFDO1FBSVUsVUFBSyxHQUFnQixrQkFBa0IsQ0FBQztRQUtoQyxnQkFBVyxHQUFHLFdBQVcsQ0FBQztRQWdGMUM7Ozs7Ozs7O1dBUUc7UUFFSCxnQkFBVyxHQUFHLElBQUksWUFBWSxFQUE2RCxDQUFDO1FBRTVGOzs7Ozs7OztXQVFHO1FBRUgsZ0JBQVcsR0FBRyxJQUFJLFlBQVksRUFBNkQsQ0FBQztJQW9COUYsQ0FBQztJQXhIQzs7Ozs7Ozs7Ozs7Ozs7T0FjRztJQUNnQixJQUFJLE1BQU0sQ0FBQyxLQUFhO1FBQ3pDLE1BQU0sUUFBUSxHQUFHLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNyQyxJQUFJLE1BQWMsQ0FBQztRQUVuQixJQUFJLFFBQVEsQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLEVBQUU7WUFDN0IsTUFBTSxHQUFHLFFBQVEsSUFBSSxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQztTQUNyRTthQUFNO1lBQ0wsTUFBTSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1NBQ2xDO1FBRUQsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7UUFFdEIsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7SUFDMUIsQ0FBQztJQUVELElBQUksTUFBTTtRQUNSLE9BQU8sSUFBSSxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztJQUNqRCxDQUFDO0lBRUQ7Ozs7Ozs7OztPQVNHO0lBQ2dCLElBQUksTUFBTSxDQUFDLEtBQXVFO1FBQ25HLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxJQUFJLEVBQUUsQ0FBQztRQUUzQixJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsNEJBQTRCLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3ZILENBQUM7SUFFRCxJQUFJLE1BQU07UUFDUixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUM7SUFDdEIsQ0FBQztJQUtEOzs7Ozs7Ozs7O09BVUc7SUFDYyxJQUFJLElBQUksQ0FBQyxLQUFrQjtRQUMxQyxJQUFJLENBQUMsS0FBSyxHQUFTLE1BQU8sQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLGtCQUFrQixDQUFDO1FBRTVGLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO0lBQzFCLENBQUM7SUFFRCxJQUFJLElBQUk7UUFDTixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDcEIsQ0FBQztJQTBCRCxhQUFhLENBQUMsS0FBVTtRQUN0QixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUMvQixDQUFDO0lBRUQsYUFBYSxDQUFDLEtBQVU7UUFDdEIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQUVPLGdCQUFnQjtRQUN0QixPQUFPLElBQUksQ0FBQyxJQUFJLEtBQUssV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLG9CQUFvQixDQUFDO0lBQ25GLENBQUM7SUFFTyw0QkFBNEIsQ0FBQyxLQUF3QjtRQUMzRCxPQUFPLE9BQU8sS0FBSyxLQUFLLFFBQVEsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsbUJBQUssS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUNwRixDQUFDO0NBSUY7QUF6R29CO0lBQWxCLEtBQUssQ0FBQyxVQUFVLENBQUM7OztrREFhakI7QUFnQmtCO0lBQWxCLEtBQUssQ0FBQyxVQUFVLENBQUM7OztrREFJakI7QUFPaUI7SUFBakIsS0FBSyxDQUFDLFNBQVMsQ0FBQzs7bURBQWdCO0FBYWhCO0lBQWhCLEtBQUssQ0FBQyxRQUFRLENBQUM7OztnREFJZjtBQWdCRDtJQURDLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQzs7eURBQ21FO0FBWTVGO0lBREMsTUFBTSxDQUFDLGdCQUFnQixDQUFDOzt5REFDbUUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFdmVudEVtaXR0ZXIsIElucHV0LCBPdXRwdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgY29udmVydFRvSW50LCBpc1R5cGVvZiB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWwnO1xuXG5pbXBvcnQgeyBQb0NoYXJ0R2F1Z2VTZXJpZSB9IGZyb20gJy4vcG8tY2hhcnQtdHlwZXMvcG8tY2hhcnQtZ2F1Z2UvcG8tY2hhcnQtZ2F1Z2Utc2VyaWVzLmludGVyZmFjZSc7XG5pbXBvcnQgeyBQb0NoYXJ0VHlwZSB9IGZyb20gJy4vZW51bXMvcG8tY2hhcnQtdHlwZS5lbnVtJztcbmltcG9ydCB7IFBvRG9udXRDaGFydFNlcmllcyB9IGZyb20gJy4vcG8tY2hhcnQtdHlwZXMvcG8tY2hhcnQtZG9udXQvcG8tY2hhcnQtZG9udXQtc2VyaWVzLmludGVyZmFjZSc7XG5pbXBvcnQgeyBQb1BpZUNoYXJ0U2VyaWVzIH0gZnJvbSAnLi9wby1jaGFydC10eXBlcy9wby1jaGFydC1waWUvcG8tY2hhcnQtcGllLXNlcmllcy5pbnRlcmZhY2UnO1xuXG5jb25zdCBwb0NoYXJ0RGVmYXVsdEhlaWdodCA9IDQwMDtcbmNvbnN0IHBvQ2hhcnRNaW5IZWlnaHQgPSAyMDA7XG5jb25zdCBwb0NoYXJ0VHlwZURlZmF1bHQgPSBQb0NoYXJ0VHlwZS5QaWU7XG5cbmV4cG9ydCB0eXBlIFBvQ2hhcnRTZXJpZXMgPSBBcnJheTxQb0RvbnV0Q2hhcnRTZXJpZXMgfCBQb1BpZUNoYXJ0U2VyaWVzIHwgUG9DaGFydEdhdWdlU2VyaWU+O1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIE8gYHBvLWNoYXJ0YCDDqSB1bSBjb21wb25lbnRlIHBhcmEgcmVuZGVyaXphw6fDo28gZGUgZGFkb3MgYXRyYXbDqXMgZGUgZ3LDoWZpY29zLCBjb20gaXNzbyBmYWNpbGl0YW5kbyBhIGNvbXByZWVuc8OjbyBlIHRvcm5hbmRvIGFcbiAqIHZpc3VhbGl6YcOnw6NvIGRlc3RlcyBkYWRvcyBtYWlzIGFncmFkw6F2ZWwuXG4gKlxuICogQXRyYXbDqXMgZGUgc3VhcyBwcmluY2lwYWlzIHByb3ByaWVkYWRlcyDDqSBwb3Nzw612ZWwgZGVmaW5pciBvIHRpcG8gZGUgZ3LDoWZpY28sIHVtYSBhbHR1cmEgZSB1bSB0w610dWxvLlxuICpcbiAqIEFsw6ltIGRpc3NvLCB0YW1iw6ltIMOpIHBvc3PDrXZlbCBkZWZpbmlyIHVtYSBhw6fDo28gcXVlIHNlcsOhIGV4ZWN1dGFkYSBhbyBjbGljYXIgZW0gZGV0ZXJtaW5hZG8gZWxlbWVudG8gZG8gZ3LDoWZpY29cbiAqIGUgb3V0cmEgcXVlIHNlcsOhIGV4ZWN1dGFkYSBhbyBwYXNzYXIgbyAqbW91c2UqIHNvYnJlIG8gZWxlbWVudG8uXG4gKlxuICogIyMjIyBCb2FzIHByw6F0aWNhc1xuICpcbiAqIC0gUGFyYSBxdWUgbyBncsOhZmljbyBuw6NvIGZpcXVlIGlsZWfDrXZlbCBlIGluY29tcHJlZW5zw612ZWwsIGV2aXRlIHVtYSBxdWFudGlhIGV4Y2Vzc2l2YSBkZSBzw6lyaWVzLlxuICogLSBQYXJhIGV4aWJpciBhIGludGVuc2lkYWRlIGRlIHVtIMO6bmljbyBkYWRvIGTDqiBwcmVmZXLDqm5jaWEgYW8gdGlwbyBgZ2F1Z2VgLlxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgUG9DaGFydEJhc2VDb21wb25lbnQge1xuXG4gIHByaXZhdGUgX2hlaWdodDogbnVtYmVyO1xuICBwcml2YXRlIF9zZXJpZXM6IEFycmF5PFBvRG9udXRDaGFydFNlcmllcyB8IFBvUGllQ2hhcnRTZXJpZXM+IHwgUG9DaGFydEdhdWdlU2VyaWU7XG4gIHByaXZhdGUgX3R5cGU6IFBvQ2hhcnRUeXBlID0gcG9DaGFydFR5cGVEZWZhdWx0O1xuXG4gIC8vIG1hbmlwdWxhw6fDo28gZGFzIHPDqXJpZXMgdHJhdGFkYXMgaW50ZXJuYW1lbnRlIHBhcmEgcHJlc2VydmFyICdwLXNlcmllcyc7XG4gIHByb3RlY3RlZCBjaGFydFNlcmllczogUG9DaGFydFNlcmllcztcblxuICBwdWJsaWMgcmVhZG9ubHkgcG9DaGFydFR5cGUgPSBQb0NoYXJ0VHlwZTtcblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBEZWZpbmUgYSBhbHR1cmEgZG8gZ3LDoWZpY28uXG4gICAqXG4gICAqIE8gdmFsb3IgcGFkcsOjbyBkb3MgZ3LDoWZpY29zIHPDo286XG4gICAqIC0gcGFyYSBvIHRpcG8gKmdhdWdlKjogYDIwMHB4YDtcbiAgICogLSBwYXJhIG9zIGRlbWFpcyB0aXBvczogYDQwMHB4YC5cbiAgICpcbiAgICogPiBPIHZhbG9yIG3DrW5pbW8gYWNlaXRvIG5lc3RhIHByb3ByaWVkYWRlIMOpIDIwMC5cbiAgICpcbiAgICogQGRlZmF1bHQgYDQwMHB4YFxuICAgKi9cbiAgQElucHV0KCdwLWhlaWdodCcpIHNldCBoZWlnaHQodmFsdWU6IG51bWJlcikge1xuICAgIGNvbnN0IGludFZhbHVlID0gY29udmVydFRvSW50KHZhbHVlKTtcbiAgICBsZXQgaGVpZ2h0OiBudW1iZXI7XG5cbiAgICBpZiAoaXNUeXBlb2YodmFsdWUsICdudW1iZXInKSkge1xuICAgICAgaGVpZ2h0ID0gaW50VmFsdWUgPD0gcG9DaGFydE1pbkhlaWdodCA/IHBvQ2hhcnRNaW5IZWlnaHQgOiBpbnRWYWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVpZ2h0ID0gdGhpcy5zZXREZWZhdWx0SGVpZ2h0KCk7XG4gICAgfVxuXG4gICAgdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgdGhpcy5yZWJ1aWxkQ29tcG9uZW50KCk7XG4gIH1cblxuICBnZXQgaGVpZ2h0KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX2hlaWdodCB8fCB0aGlzLnNldERlZmF1bHRIZWlnaHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogRGVmaW5lIG9zIGVsZW1lbnRvcyBkbyBncsOhZmljbyBxdWUgc2Vyw6NvIGNyaWFkb3MgZGluYW1pY2FtZW50ZS5cbiAgICpcbiAgICogPiBBIGNvbGXDp8OjbyBkZSBvYmpldG9zIGRldmUgaW1wbGVtZW50YXIgYWxndW1hIGRhcyBpbnRlcmZhY2VzIGFiYWl4bzpcbiAgICogLSBgUG9Eb251dENoYXJ0U2VyaWVzYFxuICAgKiAtIGBQb1BpZUNoYXJ0U2VyaWVzYFxuICAgKiAtIGBQb0NoYXJ0R2F1Z2VTZXJpZWBcbiAgICovXG4gIEBJbnB1dCgncC1zZXJpZXMnKSBzZXQgc2VyaWVzKHZhbHVlOiBQb0NoYXJ0R2F1Z2VTZXJpZSB8IEFycmF5PFBvRG9udXRDaGFydFNlcmllcyB8IFBvUGllQ2hhcnRTZXJpZXM+KSB7XG4gICAgdGhpcy5fc2VyaWVzID0gdmFsdWUgfHwgW107XG5cbiAgICB0aGlzLmNoYXJ0U2VyaWVzID0gQXJyYXkuaXNBcnJheSh0aGlzLl9zZXJpZXMpID8gWy4uLnRoaXMuX3Nlcmllc10gOiB0aGlzLnRyYW5zZm9ybU9iamVjdFRvQXJyYXlPYmplY3QodGhpcy5fc2VyaWVzKTtcbiAgfVxuXG4gIGdldCBzZXJpZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NlcmllcztcbiAgfVxuXG4gIC8qKiBEZWZpbmUgbyB0w610dWxvIGRvIGdyw6FmaWNvLiAqL1xuICBASW5wdXQoJ3AtdGl0bGUnKSB0aXRsZT86IHN0cmluZztcblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBEZWZpbmUgbyB0aXBvIGRlIGdyw6FmaWNvLlxuICAgKlxuICAgKiA+IFZlamEgb3MgdmFsb3JlcyB2w6FsaWRvcyBubyAqZW51bSogYFBvQ2hhcnRUeXBlYC5cbiAgICpcbiAgICogQGRlZmF1bHQgYFBvQ2hhcnRUeXBlLlBpZWBcbiAgICovXG4gIEBJbnB1dCgncC10eXBlJykgc2V0IHR5cGUodmFsdWU6IFBvQ2hhcnRUeXBlKSB7XG4gICAgdGhpcy5fdHlwZSA9ICg8YW55Pk9iamVjdCkudmFsdWVzKFBvQ2hhcnRUeXBlKS5pbmNsdWRlcyh2YWx1ZSkgPyB2YWx1ZSA6IHBvQ2hhcnRUeXBlRGVmYXVsdDtcblxuICAgIHRoaXMucmVidWlsZENvbXBvbmVudCgpO1xuICB9XG5cbiAgZ2V0IHR5cGUoKTogUG9DaGFydFR5cGUge1xuICAgIHJldHVybiB0aGlzLl90eXBlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogRXZlbnRvIGV4ZWN1dGFkbyBxdWFuZG8gbyB1c3XDoXJpbyBjbGljYXIgc29icmUgdW0gZWxlbWVudG8gZG8gZ3LDoWZpY28uXG4gICAqXG4gICAqID4gU2Vyw6EgcGFzc2FkbyBwb3IgcGFyw6JtZXRybyB1bSBvYmpldG8gY29udGVuZG8gYSBjYXRlZ29yaWEgZSB2YWxvciBkYSBzw6lyaWUuXG4gICAqL1xuICBAT3V0cHV0KCdwLXNlcmllcy1jbGljaycpXG4gIHNlcmllc0NsaWNrID0gbmV3IEV2ZW50RW1pdHRlcjxQb0RvbnV0Q2hhcnRTZXJpZXMgfCBQb1BpZUNoYXJ0U2VyaWVzIHwgUG9DaGFydEdhdWdlU2VyaWU+KCk7XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogRXZlbnRvIGV4ZWN1dGFkbyBxdWFuZG8gbyB1c3XDoXJpbyBwYXNzYXIgbyAqbW91c2UqIHNvYnJlIHVtIGVsZW1lbnRvIGRvIGdyw6FmaWNvLlxuICAgKlxuICAgKiA+IFNlcsOhIHBhc3NhZG8gcG9yIHBhcsOibWV0cm8gdW0gb2JqZXRvIGNvbnRlbmRvIGEgY2F0ZWdvcmlhIGUgdmFsb3IgZGEgc8OpcmllLlxuICAgKi9cbiAgQE91dHB1dCgncC1zZXJpZXMtaG92ZXInKVxuICBzZXJpZXNIb3ZlciA9IG5ldyBFdmVudEVtaXR0ZXI8UG9Eb251dENoYXJ0U2VyaWVzIHwgUG9QaWVDaGFydFNlcmllcyB8IFBvQ2hhcnRHYXVnZVNlcmllPigpO1xuXG4gIG9uU2VyaWVzQ2xpY2soZXZlbnQ6IGFueSk6IHZvaWQge1xuICAgIHRoaXMuc2VyaWVzQ2xpY2suZW1pdChldmVudCk7XG4gIH1cblxuICBvblNlcmllc0hvdmVyKGV2ZW50OiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLnNlcmllc0hvdmVyLmVtaXQoZXZlbnQpO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXREZWZhdWx0SGVpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLnR5cGUgPT09IFBvQ2hhcnRUeXBlLkdhdWdlID8gcG9DaGFydE1pbkhlaWdodCA6IHBvQ2hhcnREZWZhdWx0SGVpZ2h0O1xuICB9XG5cbiAgcHJpdmF0ZSB0cmFuc2Zvcm1PYmplY3RUb0FycmF5T2JqZWN0KHNlcmllOiBQb0NoYXJ0R2F1Z2VTZXJpZSkge1xuICAgIHJldHVybiB0eXBlb2Ygc2VyaWUgPT09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKHNlcmllKS5sZW5ndGggPyBbey4uLnNlcmllfV0gOiBbXTtcbiAgfVxuXG4gIGFic3RyYWN0IHJlYnVpbGRDb21wb25lbnQoKTogdm9pZDtcblxufVxuIl19