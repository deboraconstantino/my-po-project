import * as tslib_1 from "tslib";
import { Input, EventEmitter } from '@angular/core';
import { convertToBoolean } from './../../utils/util';
/**
 * @description
 *
 * O componente `po-modal` é utilizado para incluir conteúdos rápidos e informativos.
 *
 * No cabeçalho do componente é possível definir um título e como também permite ocultar o ícone de fechamento da modal.
 *
 * Em seu corpo é possível definir um conteúdo informativo, podendo utilizar componentes como por exemplo `po-chart`,
 * `po-table` e os demais componentes do PO.
 *
 * No rodapé encontram-se os botões de ação primária e secundária, no qual permitem definir uma ação e um rótulo, bem como
 * definir um estado de carregando e / ou desabilitado. Também é possível definir o botão com o tipo *danger*.
 *
 * > É possível fechar a modal através da tecla *ESC*, quando a propriedade `p-hide-close` não estiver habilitada.
 */
export class PoModalBaseComponent {
    constructor() {
        this._hideClose = false;
        this._size = 'md';
        /**
         * Define o fechamento da modal ao clicar fora da mesma.
         * Informe o valor `true` para ativar o fechamento ao clicar fora da modal.
         */
        this.clickOut = false;
        // Controla se a modal fica oculto ou visível, por padrão é oculto
        this.isHidden = true;
        // Event emmiter para quando a modal é fechada pelo 'X'.
        this.onXClosed = new EventEmitter();
    }
    /**
     * Define o tamanho da modal.
     *
     * Valores válidos:
     *  - `sm` (pequeno)
     *  - `md` (médio)
     *  - `lg` (grande)
     *  - `xl` (extra grande)
     *  - `auto` (automático)
     *
     * > Quando informado `auto` a modal calculará automaticamente seu tamanho baseado em seu conteúdo.
     * Caso não seja informado um valor, a modal terá o tamanho definido como `md`.
     *
     * > Todas as opções de tamanho possuem uma largura máxima de **768px**.
     */
    set size(value) {
        const sizes = ['sm', 'md', 'lg', 'xl', 'auto'];
        this._size = sizes.indexOf(value) > -1 ? value : 'md';
    }
    get size() {
        return this._size;
    }
    set setClickOut(value) {
        this.clickOut = (value === '') ? false : convertToBoolean(value);
    }
    /**
     * @optional
     *
     * @description
     *
     * Oculta o ícone de fechar do cabeçalho da modal.
     *
     * > Caso a propriedade estiver habilitada, não será possível fechar a modal através da tecla *ESC*.
     *
     * @default `false`
     */
    set hideClose(value) {
        this._hideClose = convertToBoolean(value);
    }
    get hideClose() {
        return this._hideClose;
    }
    /** Função para fechar a modal. */
    close(xClosed = false) {
        this.isHidden = true;
        if (xClosed) {
            this.onXClosed.emit(xClosed);
        }
    }
    /** Função para abrir a modal. */
    open() {
        this.validPrimaryAction();
        this.isHidden = false;
    }
    validPrimaryAction() {
        if (!this.primaryAction) {
            this.primaryAction = {
                action: () => this.close(),
                label: 'Ok',
            };
        }
        if (!this.primaryAction['action']) {
            this.primaryAction['action'] = () => this.close();
        }
        if (!this.primaryAction['label']) {
            this.primaryAction['label'] = 'Ok';
        }
    }
}
tslib_1.__decorate([
    Input('p-title'),
    tslib_1.__metadata("design:type", String)
], PoModalBaseComponent.prototype, "title", void 0);
tslib_1.__decorate([
    Input('p-primary-action'),
    tslib_1.__metadata("design:type", Object)
], PoModalBaseComponent.prototype, "primaryAction", void 0);
tslib_1.__decorate([
    Input('p-secondary-action'),
    tslib_1.__metadata("design:type", Object)
], PoModalBaseComponent.prototype, "secondaryAction", void 0);
tslib_1.__decorate([
    Input('p-size'),
    tslib_1.__metadata("design:type", String),
    tslib_1.__metadata("design:paramtypes", [String])
], PoModalBaseComponent.prototype, "size", null);
tslib_1.__decorate([
    Input('p-click-out'),
    tslib_1.__metadata("design:type", Object),
    tslib_1.__metadata("design:paramtypes", [Object])
], PoModalBaseComponent.prototype, "setClickOut", null);
tslib_1.__decorate([
    Input('p-hide-close'),
    tslib_1.__metadata("design:type", Boolean),
    tslib_1.__metadata("design:paramtypes", [Boolean])
], PoModalBaseComponent.prototype, "hideClose", null);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tbW9kYWwtYmFzZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AcG9ydGluYXJpL3BvcnRpbmFyaS11aS8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL3BvLW1vZGFsL3BvLW1vZGFsLWJhc2UuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUVwRCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUd0RDs7Ozs7Ozs7Ozs7Ozs7R0FjRztBQUNILE1BQU0sT0FBTyxvQkFBb0I7SUFBakM7UUFFVSxlQUFVLEdBQWEsS0FBSyxDQUFDO1FBQzdCLFVBQUssR0FBWSxJQUFJLENBQUM7UUF1QzlCOzs7V0FHRztRQUNILGFBQVEsR0FBYSxLQUFLLENBQUM7UUF3QjNCLGtFQUFrRTtRQUNsRSxhQUFRLEdBQUcsSUFBSSxDQUFDO1FBRWhCLHdEQUF3RDtRQUNqRCxjQUFTLEdBQUcsSUFBSSxZQUFZLEVBQVcsQ0FBQztJQWlDakQsQ0FBQztJQXpGQzs7Ozs7Ozs7Ozs7Ozs7T0FjRztJQUNjLElBQUksSUFBSSxDQUFDLEtBQWE7UUFDckMsTUFBTSxLQUFLLEdBQUcsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDL0MsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztJQUN4RCxDQUFDO0lBRUQsSUFBSSxJQUFJO1FBQ04sT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQ3BCLENBQUM7SUFPcUIsSUFBSSxXQUFXLENBQUMsS0FBdUI7UUFDM0QsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLEtBQUssS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNuRSxDQUFDO0lBRUQ7Ozs7Ozs7Ozs7T0FVRztJQUNvQixJQUFJLFNBQVMsQ0FBQyxLQUFjO1FBQ2pELElBQUksQ0FBQyxVQUFVLEdBQUcsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDNUMsQ0FBQztJQUVELElBQUksU0FBUztRQUNYLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUN6QixDQUFDO0lBUUQsa0NBQWtDO0lBQ2xDLEtBQUssQ0FBQyxPQUFPLEdBQUcsS0FBSztRQUNuQixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztRQUNyQixJQUFJLE9BQU8sRUFBRTtZQUNYLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQzlCO0lBQ0gsQ0FBQztJQUVELGlDQUFpQztJQUNqQyxJQUFJO1FBQ0YsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUM7UUFFMUIsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7SUFDeEIsQ0FBQztJQUVELGtCQUFrQjtRQUNoQixJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRTtZQUN2QixJQUFJLENBQUMsYUFBYSxHQUFHO2dCQUNuQixNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRTtnQkFDMUIsS0FBSyxFQUFFLElBQUk7YUFDWixDQUFDO1NBQ0g7UUFFRCxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUNqQyxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztTQUNuRDtRQUNELElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ2hDLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLEdBQUcsSUFBSSxDQUFDO1NBQ3BDO0lBQ0gsQ0FBQztDQUVGO0FBckdtQjtJQUFqQixLQUFLLENBQUMsU0FBUyxDQUFDOzttREFBZTtBQU9MO0lBQTFCLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQzs7MkRBQStCO0FBRzVCO0lBQTVCLEtBQUssQ0FBQyxvQkFBb0IsQ0FBQzs7NkRBQWlDO0FBaUI1QztJQUFoQixLQUFLLENBQUMsUUFBUSxDQUFDOzs7Z0RBR2Y7QUFXcUI7SUFBckIsS0FBSyxDQUFDLGFBQWEsQ0FBQzs7O3VEQUVwQjtBQWFzQjtJQUF0QixLQUFLLENBQUMsY0FBYyxDQUFDOzs7cURBRXJCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5wdXQsIEV2ZW50RW1pdHRlciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBjb252ZXJ0VG9Cb29sZWFuIH0gZnJvbSAnLi8uLi8uLi91dGlscy91dGlsJztcbmltcG9ydCB7IFBvTW9kYWxBY3Rpb24gfSBmcm9tICcuL3BvLW1vZGFsLWFjdGlvbi5pbnRlcmZhY2UnO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIE8gY29tcG9uZW50ZSBgcG8tbW9kYWxgIMOpIHV0aWxpemFkbyBwYXJhIGluY2x1aXIgY29udGXDumRvcyByw6FwaWRvcyBlIGluZm9ybWF0aXZvcy5cbiAqXG4gKiBObyBjYWJlw6dhbGhvIGRvIGNvbXBvbmVudGUgw6kgcG9zc8OtdmVsIGRlZmluaXIgdW0gdMOtdHVsbyBlIGNvbW8gdGFtYsOpbSBwZXJtaXRlIG9jdWx0YXIgbyDDrWNvbmUgZGUgZmVjaGFtZW50byBkYSBtb2RhbC5cbiAqXG4gKiBFbSBzZXUgY29ycG8gw6kgcG9zc8OtdmVsIGRlZmluaXIgdW0gY29udGXDumRvIGluZm9ybWF0aXZvLCBwb2RlbmRvIHV0aWxpemFyIGNvbXBvbmVudGVzIGNvbW8gcG9yIGV4ZW1wbG8gYHBvLWNoYXJ0YCxcbiAqIGBwby10YWJsZWAgZSBvcyBkZW1haXMgY29tcG9uZW50ZXMgZG8gUE8uXG4gKlxuICogTm8gcm9kYXDDqSBlbmNvbnRyYW0tc2Ugb3MgYm90w7VlcyBkZSBhw6fDo28gcHJpbcOhcmlhIGUgc2VjdW5kw6FyaWEsIG5vIHF1YWwgcGVybWl0ZW0gZGVmaW5pciB1bWEgYcOnw6NvIGUgdW0gcsOzdHVsbywgYmVtIGNvbW9cbiAqIGRlZmluaXIgdW0gZXN0YWRvIGRlIGNhcnJlZ2FuZG8gZSAvIG91IGRlc2FiaWxpdGFkby4gVGFtYsOpbSDDqSBwb3Nzw612ZWwgZGVmaW5pciBvIGJvdMOjbyBjb20gbyB0aXBvICpkYW5nZXIqLlxuICpcbiAqID4gw4kgcG9zc8OtdmVsIGZlY2hhciBhIG1vZGFsIGF0cmF2w6lzIGRhIHRlY2xhICpFU0MqLCBxdWFuZG8gYSBwcm9wcmllZGFkZSBgcC1oaWRlLWNsb3NlYCBuw6NvIGVzdGl2ZXIgaGFiaWxpdGFkYS5cbiAqL1xuZXhwb3J0IGNsYXNzIFBvTW9kYWxCYXNlQ29tcG9uZW50IHtcblxuICBwcml2YXRlIF9oaWRlQ2xvc2U/OiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgX3NpemU/OiBzdHJpbmcgPSAnbWQnO1xuXG4gIC8qKiBUw610dWxvIGRhIG1vZGFsLiAqL1xuICBASW5wdXQoJ3AtdGl0bGUnKSB0aXRsZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBEZXZlIHNlciBkZWZpbmlkbyB1bSBvYmpldG8gcXVlIGltcGxlbWVudGEgYSBpbnRlcmZhY2UgYFBvTW9kYWxBY3Rpb25gIGNvbnRlbmRvIGEgbGFiZWwgZSBhIGZ1bsOnw6NvIGRhIHByaW1laXJhIGHDp8Ojby5cbiAgICogQ2FzbyBlc3RhIHByb3ByaWVkYWRlIG7Do28gc2VqYSBkZWZpbmlkYSBvdSBlc3RlamEgaW5jb21wbGV0YSwgYXV0b21hdGljYW1lbnRlIHNlcsOhIGFkaWNpb25hZG8gdW0gYm90w6NvIGRlIGHDp8OjbyBjb21cbiAgICogYSBmdW7Dp8OjbyBkZSBmZWNoYXIgYSBtb2RhbC5cbiAgICovXG4gIEBJbnB1dCgncC1wcmltYXJ5LWFjdGlvbicpIHByaW1hcnlBY3Rpb24/OiBQb01vZGFsQWN0aW9uO1xuXG4gIC8qKiBEZXZlIHNlciBkZWZpbmlkbyB1bSBvYmpldG8gcXVlIGltcGxlbWVudGEgYSBpbnRlcmZhY2UgYFBvTW9kYWxBY3Rpb25gIGNvbnRlbmRvIGEgbGFiZWwgZSBhIGZ1bsOnw6NvIGRhIHNlZ3VuZGEgYcOnw6NvLiAqL1xuICBASW5wdXQoJ3Atc2Vjb25kYXJ5LWFjdGlvbicpIHNlY29uZGFyeUFjdGlvbj86IFBvTW9kYWxBY3Rpb247XG5cbiAgLyoqXG4gICAqIERlZmluZSBvIHRhbWFuaG8gZGEgbW9kYWwuXG4gICAqXG4gICAqIFZhbG9yZXMgdsOhbGlkb3M6XG4gICAqICAtIGBzbWAgKHBlcXVlbm8pXG4gICAqICAtIGBtZGAgKG3DqWRpbylcbiAgICogIC0gYGxnYCAoZ3JhbmRlKVxuICAgKiAgLSBgeGxgIChleHRyYSBncmFuZGUpXG4gICAqICAtIGBhdXRvYCAoYXV0b23DoXRpY28pXG4gICAqXG4gICAqID4gUXVhbmRvIGluZm9ybWFkbyBgYXV0b2AgYSBtb2RhbCBjYWxjdWxhcsOhIGF1dG9tYXRpY2FtZW50ZSBzZXUgdGFtYW5obyBiYXNlYWRvIGVtIHNldSBjb250ZcO6ZG8uXG4gICAqIENhc28gbsOjbyBzZWphIGluZm9ybWFkbyB1bSB2YWxvciwgYSBtb2RhbCB0ZXLDoSBvIHRhbWFuaG8gZGVmaW5pZG8gY29tbyBgbWRgLlxuICAgKlxuICAgKiA+IFRvZGFzIGFzIG9ww6fDtWVzIGRlIHRhbWFuaG8gcG9zc3VlbSB1bWEgbGFyZ3VyYSBtw6F4aW1hIGRlICoqNzY4cHgqKi5cbiAgICovXG4gIEBJbnB1dCgncC1zaXplJykgc2V0IHNpemUodmFsdWU6IHN0cmluZykge1xuICAgIGNvbnN0IHNpemVzID0gWydzbScsICdtZCcsICdsZycsICd4bCcsICdhdXRvJ107XG4gICAgdGhpcy5fc2l6ZSA9IHNpemVzLmluZGV4T2YodmFsdWUpID4gLTEgPyB2YWx1ZSA6ICdtZCc7XG4gIH1cblxuICBnZXQgc2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2l6ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWZpbmUgbyBmZWNoYW1lbnRvIGRhIG1vZGFsIGFvIGNsaWNhciBmb3JhIGRhIG1lc21hLlxuICAgKiBJbmZvcm1lIG8gdmFsb3IgYHRydWVgIHBhcmEgYXRpdmFyIG8gZmVjaGFtZW50byBhbyBjbGljYXIgZm9yYSBkYSBtb2RhbC5cbiAgICovXG4gIGNsaWNrT3V0PzogYm9vbGVhbiA9IGZhbHNlO1xuICBASW5wdXQoJ3AtY2xpY2stb3V0Jykgc2V0IHNldENsaWNrT3V0KHZhbHVlOiBib29sZWFuIHwgc3RyaW5nKSB7XG4gICAgdGhpcy5jbGlja091dCA9ICh2YWx1ZSA9PT0gJycpID8gZmFsc2UgOiBjb252ZXJ0VG9Cb29sZWFuKHZhbHVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIE9jdWx0YSBvIMOtY29uZSBkZSBmZWNoYXIgZG8gY2FiZcOnYWxobyBkYSBtb2RhbC5cbiAgICpcbiAgICogPiBDYXNvIGEgcHJvcHJpZWRhZGUgZXN0aXZlciBoYWJpbGl0YWRhLCBuw6NvIHNlcsOhIHBvc3PDrXZlbCBmZWNoYXIgYSBtb2RhbCBhdHJhdsOpcyBkYSB0ZWNsYSAqRVNDKi5cbiAgICpcbiAgICogQGRlZmF1bHQgYGZhbHNlYFxuICAgKi9cbiAgQElucHV0KCdwLWhpZGUtY2xvc2UnKSBzZXQgaGlkZUNsb3NlKHZhbHVlOiBib29sZWFuKSB7XG4gICAgdGhpcy5faGlkZUNsb3NlID0gY29udmVydFRvQm9vbGVhbih2YWx1ZSk7XG4gIH1cblxuICBnZXQgaGlkZUNsb3NlKCkge1xuICAgIHJldHVybiB0aGlzLl9oaWRlQ2xvc2U7XG4gIH1cblxuICAvLyBDb250cm9sYSBzZSBhIG1vZGFsIGZpY2Egb2N1bHRvIG91IHZpc8OtdmVsLCBwb3IgcGFkcsOjbyDDqSBvY3VsdG9cbiAgaXNIaWRkZW4gPSB0cnVlO1xuXG4gIC8vIEV2ZW50IGVtbWl0ZXIgcGFyYSBxdWFuZG8gYSBtb2RhbCDDqSBmZWNoYWRhIHBlbG8gJ1gnLlxuICBwdWJsaWMgb25YQ2xvc2VkID0gbmV3IEV2ZW50RW1pdHRlcjxib29sZWFuPigpO1xuXG4gIC8qKiBGdW7Dp8OjbyBwYXJhIGZlY2hhciBhIG1vZGFsLiAqL1xuICBjbG9zZSh4Q2xvc2VkID0gZmFsc2UpOiB2b2lkIHtcbiAgICB0aGlzLmlzSGlkZGVuID0gdHJ1ZTtcbiAgICBpZiAoeENsb3NlZCkge1xuICAgICAgdGhpcy5vblhDbG9zZWQuZW1pdCh4Q2xvc2VkKTtcbiAgICB9XG4gIH1cblxuICAvKiogRnVuw6fDo28gcGFyYSBhYnJpciBhIG1vZGFsLiAqL1xuICBvcGVuKCk6IHZvaWQge1xuICAgIHRoaXMudmFsaWRQcmltYXJ5QWN0aW9uKCk7XG5cbiAgICB0aGlzLmlzSGlkZGVuID0gZmFsc2U7XG4gIH1cblxuICB2YWxpZFByaW1hcnlBY3Rpb24oKSB7XG4gICAgaWYgKCF0aGlzLnByaW1hcnlBY3Rpb24pIHtcbiAgICAgIHRoaXMucHJpbWFyeUFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAoKSA9PiB0aGlzLmNsb3NlKCksXG4gICAgICAgIGxhYmVsOiAnT2snLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMucHJpbWFyeUFjdGlvblsnYWN0aW9uJ10pIHtcbiAgICAgIHRoaXMucHJpbWFyeUFjdGlvblsnYWN0aW9uJ10gPSAoKSA9PiB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICAgIGlmICghdGhpcy5wcmltYXJ5QWN0aW9uWydsYWJlbCddKSB7XG4gICAgICB0aGlzLnByaW1hcnlBY3Rpb25bJ2xhYmVsJ10gPSAnT2snO1xuICAgIH1cbiAgfVxuXG59XG4iXX0=