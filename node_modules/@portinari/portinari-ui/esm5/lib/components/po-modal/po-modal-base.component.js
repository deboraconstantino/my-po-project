import * as tslib_1 from "tslib";
import { Input, EventEmitter } from '@angular/core';
import { convertToBoolean } from './../../utils/util';
/**
 * @description
 *
 * O componente `po-modal` é utilizado para incluir conteúdos rápidos e informativos.
 *
 * No cabeçalho do componente é possível definir um título e como também permite ocultar o ícone de fechamento da modal.
 *
 * Em seu corpo é possível definir um conteúdo informativo, podendo utilizar componentes como por exemplo `po-chart`,
 * `po-table` e os demais componentes do PO.
 *
 * No rodapé encontram-se os botões de ação primária e secundária, no qual permitem definir uma ação e um rótulo, bem como
 * definir um estado de carregando e / ou desabilitado. Também é possível definir o botão com o tipo *danger*.
 *
 * > É possível fechar a modal através da tecla *ESC*, quando a propriedade `p-hide-close` não estiver habilitada.
 */
var PoModalBaseComponent = /** @class */ (function () {
    function PoModalBaseComponent() {
        this._hideClose = false;
        this._size = 'md';
        /**
         * Define o fechamento da modal ao clicar fora da mesma.
         * Informe o valor `true` para ativar o fechamento ao clicar fora da modal.
         */
        this.clickOut = false;
        // Controla se a modal fica oculto ou visível, por padrão é oculto
        this.isHidden = true;
        // Event emmiter para quando a modal é fechada pelo 'X'.
        this.onXClosed = new EventEmitter();
    }
    Object.defineProperty(PoModalBaseComponent.prototype, "size", {
        get: function () {
            return this._size;
        },
        /**
         * Define o tamanho da modal.
         *
         * Valores válidos:
         *  - `sm` (pequeno)
         *  - `md` (médio)
         *  - `lg` (grande)
         *  - `xl` (extra grande)
         *  - `auto` (automático)
         *
         * > Quando informado `auto` a modal calculará automaticamente seu tamanho baseado em seu conteúdo.
         * Caso não seja informado um valor, a modal terá o tamanho definido como `md`.
         *
         * > Todas as opções de tamanho possuem uma largura máxima de **768px**.
         */
        set: function (value) {
            var sizes = ['sm', 'md', 'lg', 'xl', 'auto'];
            this._size = sizes.indexOf(value) > -1 ? value : 'md';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PoModalBaseComponent.prototype, "setClickOut", {
        set: function (value) {
            this.clickOut = (value === '') ? false : convertToBoolean(value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PoModalBaseComponent.prototype, "hideClose", {
        get: function () {
            return this._hideClose;
        },
        /**
         * @optional
         *
         * @description
         *
         * Oculta o ícone de fechar do cabeçalho da modal.
         *
         * > Caso a propriedade estiver habilitada, não será possível fechar a modal através da tecla *ESC*.
         *
         * @default `false`
         */
        set: function (value) {
            this._hideClose = convertToBoolean(value);
        },
        enumerable: true,
        configurable: true
    });
    /** Função para fechar a modal. */
    PoModalBaseComponent.prototype.close = function (xClosed) {
        if (xClosed === void 0) { xClosed = false; }
        this.isHidden = true;
        if (xClosed) {
            this.onXClosed.emit(xClosed);
        }
    };
    /** Função para abrir a modal. */
    PoModalBaseComponent.prototype.open = function () {
        this.validPrimaryAction();
        this.isHidden = false;
    };
    PoModalBaseComponent.prototype.validPrimaryAction = function () {
        var _this = this;
        if (!this.primaryAction) {
            this.primaryAction = {
                action: function () { return _this.close(); },
                label: 'Ok',
            };
        }
        if (!this.primaryAction['action']) {
            this.primaryAction['action'] = function () { return _this.close(); };
        }
        if (!this.primaryAction['label']) {
            this.primaryAction['label'] = 'Ok';
        }
    };
    tslib_1.__decorate([
        Input('p-title'),
        tslib_1.__metadata("design:type", String)
    ], PoModalBaseComponent.prototype, "title", void 0);
    tslib_1.__decorate([
        Input('p-primary-action'),
        tslib_1.__metadata("design:type", Object)
    ], PoModalBaseComponent.prototype, "primaryAction", void 0);
    tslib_1.__decorate([
        Input('p-secondary-action'),
        tslib_1.__metadata("design:type", Object)
    ], PoModalBaseComponent.prototype, "secondaryAction", void 0);
    tslib_1.__decorate([
        Input('p-size'),
        tslib_1.__metadata("design:type", String),
        tslib_1.__metadata("design:paramtypes", [String])
    ], PoModalBaseComponent.prototype, "size", null);
    tslib_1.__decorate([
        Input('p-click-out'),
        tslib_1.__metadata("design:type", Object),
        tslib_1.__metadata("design:paramtypes", [Object])
    ], PoModalBaseComponent.prototype, "setClickOut", null);
    tslib_1.__decorate([
        Input('p-hide-close'),
        tslib_1.__metadata("design:type", Boolean),
        tslib_1.__metadata("design:paramtypes", [Boolean])
    ], PoModalBaseComponent.prototype, "hideClose", null);
    return PoModalBaseComponent;
}());
export { PoModalBaseComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tbW9kYWwtYmFzZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AcG9ydGluYXJpL3BvcnRpbmFyaS11aS8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL3BvLW1vZGFsL3BvLW1vZGFsLWJhc2UuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUVwRCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUd0RDs7Ozs7Ozs7Ozs7Ozs7R0FjRztBQUNIO0lBQUE7UUFFVSxlQUFVLEdBQWEsS0FBSyxDQUFDO1FBQzdCLFVBQUssR0FBWSxJQUFJLENBQUM7UUF1QzlCOzs7V0FHRztRQUNILGFBQVEsR0FBYSxLQUFLLENBQUM7UUF3QjNCLGtFQUFrRTtRQUNsRSxhQUFRLEdBQUcsSUFBSSxDQUFDO1FBRWhCLHdEQUF3RDtRQUNqRCxjQUFTLEdBQUcsSUFBSSxZQUFZLEVBQVcsQ0FBQztJQWlDakQsQ0FBQztJQTFFa0Isc0JBQUksc0NBQUk7YUFLekI7WUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDcEIsQ0FBQztRQXRCRDs7Ozs7Ozs7Ozs7Ozs7V0FjRzthQUNjLFVBQVMsS0FBYTtZQUNyQyxJQUFNLEtBQUssR0FBRyxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQztZQUMvQyxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQ3hELENBQUM7OztPQUFBO0lBV3FCLHNCQUFJLDZDQUFXO2FBQWYsVUFBZ0IsS0FBdUI7WUFDM0QsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLEtBQUssS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuRSxDQUFDOzs7T0FBQTtJQWFzQixzQkFBSSwyQ0FBUzthQUlwQztZQUNFLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQztRQUN6QixDQUFDO1FBakJEOzs7Ozs7Ozs7O1dBVUc7YUFDb0IsVUFBYyxLQUFjO1lBQ2pELElBQUksQ0FBQyxVQUFVLEdBQUcsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDNUMsQ0FBQzs7O09BQUE7SUFZRCxrQ0FBa0M7SUFDbEMsb0NBQUssR0FBTCxVQUFNLE9BQWU7UUFBZix3QkFBQSxFQUFBLGVBQWU7UUFDbkIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7UUFDckIsSUFBSSxPQUFPLEVBQUU7WUFDWCxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUM5QjtJQUNILENBQUM7SUFFRCxpQ0FBaUM7SUFDakMsbUNBQUksR0FBSjtRQUNFLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO1FBRTFCLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO0lBQ3hCLENBQUM7SUFFRCxpREFBa0IsR0FBbEI7UUFBQSxpQkFjQztRQWJDLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFO1lBQ3ZCLElBQUksQ0FBQyxhQUFhLEdBQUc7Z0JBQ25CLE1BQU0sRUFBRSxjQUFNLE9BQUEsS0FBSSxDQUFDLEtBQUssRUFBRSxFQUFaLENBQVk7Z0JBQzFCLEtBQUssRUFBRSxJQUFJO2FBQ1osQ0FBQztTQUNIO1FBRUQsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFDakMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsR0FBRyxjQUFNLE9BQUEsS0FBSSxDQUFDLEtBQUssRUFBRSxFQUFaLENBQVksQ0FBQztTQUNuRDtRQUNELElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ2hDLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLEdBQUcsSUFBSSxDQUFDO1NBQ3BDO0lBQ0gsQ0FBQztJQW5HaUI7UUFBakIsS0FBSyxDQUFDLFNBQVMsQ0FBQzs7dURBQWU7SUFPTDtRQUExQixLQUFLLENBQUMsa0JBQWtCLENBQUM7OytEQUErQjtJQUc1QjtRQUE1QixLQUFLLENBQUMsb0JBQW9CLENBQUM7O2lFQUFpQztJQWlCNUM7UUFBaEIsS0FBSyxDQUFDLFFBQVEsQ0FBQzs7O29EQUdmO0lBV3FCO1FBQXJCLEtBQUssQ0FBQyxhQUFhLENBQUM7OzsyREFFcEI7SUFhc0I7UUFBdEIsS0FBSyxDQUFDLGNBQWMsQ0FBQzs7O3lEQUVyQjtJQTJDSCwyQkFBQztDQUFBLEFBM0dELElBMkdDO1NBM0dZLG9CQUFvQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElucHV0LCBFdmVudEVtaXR0ZXIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgY29udmVydFRvQm9vbGVhbiB9IGZyb20gJy4vLi4vLi4vdXRpbHMvdXRpbCc7XG5pbXBvcnQgeyBQb01vZGFsQWN0aW9uIH0gZnJvbSAnLi9wby1tb2RhbC1hY3Rpb24uaW50ZXJmYWNlJztcblxuLyoqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBPIGNvbXBvbmVudGUgYHBvLW1vZGFsYCDDqSB1dGlsaXphZG8gcGFyYSBpbmNsdWlyIGNvbnRlw7pkb3MgcsOhcGlkb3MgZSBpbmZvcm1hdGl2b3MuXG4gKlxuICogTm8gY2FiZcOnYWxobyBkbyBjb21wb25lbnRlIMOpIHBvc3PDrXZlbCBkZWZpbmlyIHVtIHTDrXR1bG8gZSBjb21vIHRhbWLDqW0gcGVybWl0ZSBvY3VsdGFyIG8gw61jb25lIGRlIGZlY2hhbWVudG8gZGEgbW9kYWwuXG4gKlxuICogRW0gc2V1IGNvcnBvIMOpIHBvc3PDrXZlbCBkZWZpbmlyIHVtIGNvbnRlw7pkbyBpbmZvcm1hdGl2bywgcG9kZW5kbyB1dGlsaXphciBjb21wb25lbnRlcyBjb21vIHBvciBleGVtcGxvIGBwby1jaGFydGAsXG4gKiBgcG8tdGFibGVgIGUgb3MgZGVtYWlzIGNvbXBvbmVudGVzIGRvIFBPLlxuICpcbiAqIE5vIHJvZGFww6kgZW5jb250cmFtLXNlIG9zIGJvdMO1ZXMgZGUgYcOnw6NvIHByaW3DoXJpYSBlIHNlY3VuZMOhcmlhLCBubyBxdWFsIHBlcm1pdGVtIGRlZmluaXIgdW1hIGHDp8OjbyBlIHVtIHLDs3R1bG8sIGJlbSBjb21vXG4gKiBkZWZpbmlyIHVtIGVzdGFkbyBkZSBjYXJyZWdhbmRvIGUgLyBvdSBkZXNhYmlsaXRhZG8uIFRhbWLDqW0gw6kgcG9zc8OtdmVsIGRlZmluaXIgbyBib3TDo28gY29tIG8gdGlwbyAqZGFuZ2VyKi5cbiAqXG4gKiA+IMOJIHBvc3PDrXZlbCBmZWNoYXIgYSBtb2RhbCBhdHJhdsOpcyBkYSB0ZWNsYSAqRVNDKiwgcXVhbmRvIGEgcHJvcHJpZWRhZGUgYHAtaGlkZS1jbG9zZWAgbsOjbyBlc3RpdmVyIGhhYmlsaXRhZGEuXG4gKi9cbmV4cG9ydCBjbGFzcyBQb01vZGFsQmFzZUNvbXBvbmVudCB7XG5cbiAgcHJpdmF0ZSBfaGlkZUNsb3NlPzogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIF9zaXplPzogc3RyaW5nID0gJ21kJztcblxuICAvKiogVMOtdHVsbyBkYSBtb2RhbC4gKi9cbiAgQElucHV0KCdwLXRpdGxlJykgdGl0bGU6IHN0cmluZztcblxuICAvKipcbiAgICogRGV2ZSBzZXIgZGVmaW5pZG8gdW0gb2JqZXRvIHF1ZSBpbXBsZW1lbnRhIGEgaW50ZXJmYWNlIGBQb01vZGFsQWN0aW9uYCBjb250ZW5kbyBhIGxhYmVsIGUgYSBmdW7Dp8OjbyBkYSBwcmltZWlyYSBhw6fDo28uXG4gICAqIENhc28gZXN0YSBwcm9wcmllZGFkZSBuw6NvIHNlamEgZGVmaW5pZGEgb3UgZXN0ZWphIGluY29tcGxldGEsIGF1dG9tYXRpY2FtZW50ZSBzZXLDoSBhZGljaW9uYWRvIHVtIGJvdMOjbyBkZSBhw6fDo28gY29tXG4gICAqIGEgZnVuw6fDo28gZGUgZmVjaGFyIGEgbW9kYWwuXG4gICAqL1xuICBASW5wdXQoJ3AtcHJpbWFyeS1hY3Rpb24nKSBwcmltYXJ5QWN0aW9uPzogUG9Nb2RhbEFjdGlvbjtcblxuICAvKiogRGV2ZSBzZXIgZGVmaW5pZG8gdW0gb2JqZXRvIHF1ZSBpbXBsZW1lbnRhIGEgaW50ZXJmYWNlIGBQb01vZGFsQWN0aW9uYCBjb250ZW5kbyBhIGxhYmVsIGUgYSBmdW7Dp8OjbyBkYSBzZWd1bmRhIGHDp8Ojby4gKi9cbiAgQElucHV0KCdwLXNlY29uZGFyeS1hY3Rpb24nKSBzZWNvbmRhcnlBY3Rpb24/OiBQb01vZGFsQWN0aW9uO1xuXG4gIC8qKlxuICAgKiBEZWZpbmUgbyB0YW1hbmhvIGRhIG1vZGFsLlxuICAgKlxuICAgKiBWYWxvcmVzIHbDoWxpZG9zOlxuICAgKiAgLSBgc21gIChwZXF1ZW5vKVxuICAgKiAgLSBgbWRgIChtw6lkaW8pXG4gICAqICAtIGBsZ2AgKGdyYW5kZSlcbiAgICogIC0gYHhsYCAoZXh0cmEgZ3JhbmRlKVxuICAgKiAgLSBgYXV0b2AgKGF1dG9tw6F0aWNvKVxuICAgKlxuICAgKiA+IFF1YW5kbyBpbmZvcm1hZG8gYGF1dG9gIGEgbW9kYWwgY2FsY3VsYXLDoSBhdXRvbWF0aWNhbWVudGUgc2V1IHRhbWFuaG8gYmFzZWFkbyBlbSBzZXUgY29udGXDumRvLlxuICAgKiBDYXNvIG7Do28gc2VqYSBpbmZvcm1hZG8gdW0gdmFsb3IsIGEgbW9kYWwgdGVyw6EgbyB0YW1hbmhvIGRlZmluaWRvIGNvbW8gYG1kYC5cbiAgICpcbiAgICogPiBUb2RhcyBhcyBvcMOnw7VlcyBkZSB0YW1hbmhvIHBvc3N1ZW0gdW1hIGxhcmd1cmEgbcOheGltYSBkZSAqKjc2OHB4KiouXG4gICAqL1xuICBASW5wdXQoJ3Atc2l6ZScpIHNldCBzaXplKHZhbHVlOiBzdHJpbmcpIHtcbiAgICBjb25zdCBzaXplcyA9IFsnc20nLCAnbWQnLCAnbGcnLCAneGwnLCAnYXV0byddO1xuICAgIHRoaXMuX3NpemUgPSBzaXplcy5pbmRleE9mKHZhbHVlKSA+IC0xID8gdmFsdWUgOiAnbWQnO1xuICB9XG5cbiAgZ2V0IHNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NpemU7XG4gIH1cblxuICAvKipcbiAgICogRGVmaW5lIG8gZmVjaGFtZW50byBkYSBtb2RhbCBhbyBjbGljYXIgZm9yYSBkYSBtZXNtYS5cbiAgICogSW5mb3JtZSBvIHZhbG9yIGB0cnVlYCBwYXJhIGF0aXZhciBvIGZlY2hhbWVudG8gYW8gY2xpY2FyIGZvcmEgZGEgbW9kYWwuXG4gICAqL1xuICBjbGlja091dD86IGJvb2xlYW4gPSBmYWxzZTtcbiAgQElucHV0KCdwLWNsaWNrLW91dCcpIHNldCBzZXRDbGlja091dCh2YWx1ZTogYm9vbGVhbiB8IHN0cmluZykge1xuICAgIHRoaXMuY2xpY2tPdXQgPSAodmFsdWUgPT09ICcnKSA/IGZhbHNlIDogY29udmVydFRvQm9vbGVhbih2YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBPY3VsdGEgbyDDrWNvbmUgZGUgZmVjaGFyIGRvIGNhYmXDp2FsaG8gZGEgbW9kYWwuXG4gICAqXG4gICAqID4gQ2FzbyBhIHByb3ByaWVkYWRlIGVzdGl2ZXIgaGFiaWxpdGFkYSwgbsOjbyBzZXLDoSBwb3Nzw612ZWwgZmVjaGFyIGEgbW9kYWwgYXRyYXbDqXMgZGEgdGVjbGEgKkVTQyouXG4gICAqXG4gICAqIEBkZWZhdWx0IGBmYWxzZWBcbiAgICovXG4gIEBJbnB1dCgncC1oaWRlLWNsb3NlJykgc2V0IGhpZGVDbG9zZSh2YWx1ZTogYm9vbGVhbikge1xuICAgIHRoaXMuX2hpZGVDbG9zZSA9IGNvbnZlcnRUb0Jvb2xlYW4odmFsdWUpO1xuICB9XG5cbiAgZ2V0IGhpZGVDbG9zZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faGlkZUNsb3NlO1xuICB9XG5cbiAgLy8gQ29udHJvbGEgc2UgYSBtb2RhbCBmaWNhIG9jdWx0byBvdSB2aXPDrXZlbCwgcG9yIHBhZHLDo28gw6kgb2N1bHRvXG4gIGlzSGlkZGVuID0gdHJ1ZTtcblxuICAvLyBFdmVudCBlbW1pdGVyIHBhcmEgcXVhbmRvIGEgbW9kYWwgw6kgZmVjaGFkYSBwZWxvICdYJy5cbiAgcHVibGljIG9uWENsb3NlZCA9IG5ldyBFdmVudEVtaXR0ZXI8Ym9vbGVhbj4oKTtcblxuICAvKiogRnVuw6fDo28gcGFyYSBmZWNoYXIgYSBtb2RhbC4gKi9cbiAgY2xvc2UoeENsb3NlZCA9IGZhbHNlKTogdm9pZCB7XG4gICAgdGhpcy5pc0hpZGRlbiA9IHRydWU7XG4gICAgaWYgKHhDbG9zZWQpIHtcbiAgICAgIHRoaXMub25YQ2xvc2VkLmVtaXQoeENsb3NlZCk7XG4gICAgfVxuICB9XG5cbiAgLyoqIEZ1bsOnw6NvIHBhcmEgYWJyaXIgYSBtb2RhbC4gKi9cbiAgb3BlbigpOiB2b2lkIHtcbiAgICB0aGlzLnZhbGlkUHJpbWFyeUFjdGlvbigpO1xuXG4gICAgdGhpcy5pc0hpZGRlbiA9IGZhbHNlO1xuICB9XG5cbiAgdmFsaWRQcmltYXJ5QWN0aW9uKCkge1xuICAgIGlmICghdGhpcy5wcmltYXJ5QWN0aW9uKSB7XG4gICAgICB0aGlzLnByaW1hcnlBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogKCkgPT4gdGhpcy5jbG9zZSgpLFxuICAgICAgICBsYWJlbDogJ09rJyxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnByaW1hcnlBY3Rpb25bJ2FjdGlvbiddKSB7XG4gICAgICB0aGlzLnByaW1hcnlBY3Rpb25bJ2FjdGlvbiddID0gKCkgPT4gdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgICBpZiAoIXRoaXMucHJpbWFyeUFjdGlvblsnbGFiZWwnXSkge1xuICAgICAgdGhpcy5wcmltYXJ5QWN0aW9uWydsYWJlbCddID0gJ09rJztcbiAgICB9XG4gIH1cblxufVxuIl19