import * as tslib_1 from "tslib";
import { Component, ElementRef, Input, ViewChild } from '@angular/core';
import { isIEOrEdge } from '../../../utils/util';
import { PoSlideContentTemplateDirective } from '../directives/po-slide-content-template.directive';
/**
 * @docsPrivate
 *
 * @description
 *
 * Componente para cada item do po-slide.
 */
var PoSlideItemComponent = /** @class */ (function () {
    function PoSlideItemComponent() {
        this.isIEOrEdge = isIEOrEdge();
    }
    PoSlideItemComponent.prototype.setLinkType = function () {
        if (!this.template && this.link) {
            return this.link.startsWith('http') ? 'externalLink' : 'internalLink';
        }
        return 'noLink';
    };
    tslib_1.__decorate([
        ViewChild('slideItem', { static: true }),
        tslib_1.__metadata("design:type", ElementRef)
    ], PoSlideItemComponent.prototype, "itemElement", void 0);
    tslib_1.__decorate([
        Input('p-action'),
        tslib_1.__metadata("design:type", Function)
    ], PoSlideItemComponent.prototype, "action", void 0);
    tslib_1.__decorate([
        Input('p-alt'),
        tslib_1.__metadata("design:type", String)
    ], PoSlideItemComponent.prototype, "alt", void 0);
    tslib_1.__decorate([
        Input('p-data'),
        tslib_1.__metadata("design:type", Array)
    ], PoSlideItemComponent.prototype, "data", void 0);
    tslib_1.__decorate([
        Input('p-image'),
        tslib_1.__metadata("design:type", String)
    ], PoSlideItemComponent.prototype, "image", void 0);
    tslib_1.__decorate([
        Input('p-image-height'),
        tslib_1.__metadata("design:type", Number)
    ], PoSlideItemComponent.prototype, "imageHeight", void 0);
    tslib_1.__decorate([
        Input('p-template'),
        tslib_1.__metadata("design:type", PoSlideContentTemplateDirective)
    ], PoSlideItemComponent.prototype, "template", void 0);
    tslib_1.__decorate([
        Input('p-link'),
        tslib_1.__metadata("design:type", String)
    ], PoSlideItemComponent.prototype, "link", void 0);
    PoSlideItemComponent = tslib_1.__decorate([
        Component({
            selector: 'po-slide-item',
            template: "<div #slideItem\n  class=\"po-slide-item\"\n  [class.po-slide-item-background-image]=\"!template && isIEOrEdge\"\n  [style.background-image]=\"!template && isIEOrEdge ? 'url(' + image + ')' : ''\"\n  [ngSwitch]=\"setLinkType()\">\n\n  <!-- slide com link interno -->\n  <a\n    *ngSwitchCase=\"'internalLink'\" \n    class=\"po-slide-item-link\" \n    [routerLink]=\"link\">\n    <ng-container \n      [ngTemplateOutlet]=\"slideItemImage\" \n      [ngTemplateOutletContext]=\"{ item: { alt: alt, image: image }}\">\n    </ng-container>\n  </a>\n  <!-- slide com link externo -->\n  <a \n    *ngSwitchCase=\"'externalLink'\"\n    class=\"po-slide-item-link\" \n    [href]=\"link\">\n    <ng-container \n      [ngTemplateOutlet]=\"slideItemImage\" \n      [ngTemplateOutletContext]=\"{ item: { alt: alt, image: image }}\">\n    </ng-container>\n  </a>\n  <!-- slide sem link -->\n  <a \n    *ngSwitchCase=\"'noLink'\"\n    [ngClass]=\"action ? 'po-slide-item-link' : 'po-slide-item-no-link'\"\n    (click)=\"action ? action(data) : undefined\">\n    <ng-container \n      [ngTemplateOutlet]=\"template ? slideItemTemplate : slideItemImage\"\n      [ngTemplateOutletContext]=\"{ item: { alt: alt, image: image, data: data }}\">\n    </ng-container>\n  </a>\n\n</div>\n\n<ng-template #slideItemTemplate let-item='item'; let-index='index'>\n  <div\n    *ngIf=\"template\"\n    class=\"po-slide-item-content\">\n    <ng-template\n      [ngTemplateOutlet]=\"template.templateRef\"\n      [ngTemplateOutletContext]=\"{ $implicit: item.data, index: index }\">\n    </ng-template>\n  </div>\n</ng-template>\n\n<ng-template #slideItemImage let-item='item'>\n  <img\n    *ngIf=\"item.image && !isIEOrEdge\"\n    class=\"po-slide-image\"\n    [alt]=\"item.alt\"\n    [src]=\"item.image\"\n    [style.height.px]=\"imageHeight\">\n</ng-template>\n"
        })
    ], PoSlideItemComponent);
    return PoSlideItemComponent;
}());
export { PoSlideItemComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tc2xpZGUtaXRlbS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AcG9ydGluYXJpL3BvcnRpbmFyaS11aS8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL3BvLXNsaWRlL3BvLXNsaWRlLWl0ZW0vcG8tc2xpZGUtaXRlbS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFeEUsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBRWpELE9BQU8sRUFBRSwrQkFBK0IsRUFBRSxNQUFNLG1EQUFtRCxDQUFDO0FBRXBHOzs7Ozs7R0FNRztBQUtIO0lBSkE7UUFRRSxlQUFVLEdBQVEsVUFBVSxFQUFFLENBQUM7SUErQmpDLENBQUM7SUFSQywwQ0FBVyxHQUFYO1FBQ0UsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDLElBQUksRUFBRTtZQUMvQixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQztTQUN2RTtRQUVELE9BQU8sUUFBUSxDQUFDO0lBQ2xCLENBQUM7SUEvQnlDO1FBQXpDLFNBQVMsQ0FBQyxXQUFXLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLENBQUM7MENBQWMsVUFBVTs2REFBQztJQUsvQztRQUFsQixLQUFLLENBQUMsVUFBVSxDQUFDOzBDQUFTLFFBQVE7d0RBQUM7SUFHcEI7UUFBZixLQUFLLENBQUMsT0FBTyxDQUFDOztxREFBYTtJQUdYO1FBQWhCLEtBQUssQ0FBQyxRQUFRLENBQUM7MENBQU8sS0FBSztzREFBTTtJQUdoQjtRQUFqQixLQUFLLENBQUMsU0FBUyxDQUFDOzt1REFBZTtJQUdQO1FBQXhCLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQzs7NkRBQXFCO0lBR3hCO1FBQXBCLEtBQUssQ0FBQyxZQUFZLENBQUM7MENBQVcsK0JBQStCOzBEQUFDO0lBRzlDO1FBQWhCLEtBQUssQ0FBQyxRQUFRLENBQUM7O3NEQUFjO0lBekJuQixvQkFBb0I7UUFKaEMsU0FBUyxDQUFDO1lBQ1QsUUFBUSxFQUFFLGVBQWU7WUFDekIsb3pEQUE2QztTQUM5QyxDQUFDO09BQ1csb0JBQW9CLENBbUNoQztJQUFELDJCQUFDO0NBQUEsQUFuQ0QsSUFtQ0M7U0FuQ1ksb0JBQW9CIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBFbGVtZW50UmVmLCBJbnB1dCwgVmlld0NoaWxkIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IGlzSUVPckVkZ2UgfSBmcm9tICcuLi8uLi8uLi91dGlscy91dGlsJztcblxuaW1wb3J0IHsgUG9TbGlkZUNvbnRlbnRUZW1wbGF0ZURpcmVjdGl2ZSB9IGZyb20gJy4uL2RpcmVjdGl2ZXMvcG8tc2xpZGUtY29udGVudC10ZW1wbGF0ZS5kaXJlY3RpdmUnO1xuXG4vKipcbiAqIEBkb2NzUHJpdmF0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIENvbXBvbmVudGUgcGFyYSBjYWRhIGl0ZW0gZG8gcG8tc2xpZGUuXG4gKi9cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3BvLXNsaWRlLWl0ZW0nLFxuICB0ZW1wbGF0ZVVybDogJy4vcG8tc2xpZGUtaXRlbS5jb21wb25lbnQuaHRtbCdcbn0pXG5leHBvcnQgY2xhc3MgUG9TbGlkZUl0ZW1Db21wb25lbnQge1xuXG4gIEBWaWV3Q2hpbGQoJ3NsaWRlSXRlbScsIHsgc3RhdGljOiB0cnVlIH0pIGl0ZW1FbGVtZW50OiBFbGVtZW50UmVmO1xuXG4gIGlzSUVPckVkZ2U6IGFueSA9IGlzSUVPckVkZ2UoKTtcblxuICAvKiogQcOnw6NvIGV4ZWN1dGFkYSBhbyBjbGljYXIgZW0gdW1hIGltYWdlbSAqL1xuICBASW5wdXQoJ3AtYWN0aW9uJykgYWN0aW9uOiBGdW5jdGlvbjtcblxuICAvKiogVGV4dG8gYWx0ZXJuYXRpdm8gcXVhbmRvIGEgaW1hZ2VtIG7Do28gw6kgZW5jb250cmFkYSAqL1xuICBASW5wdXQoJ3AtYWx0JykgYWx0OiBzdHJpbmc7XG5cbiAgLyoqIERhZG9zIHBhcmEgbyB0ZW1wbGF0ZSBjdXN0b21pemFkbyAqL1xuICBASW5wdXQoJ3AtZGF0YScpIGRhdGE6IEFycmF5PGFueT47XG5cbiAgLyoqIENhbWluaG8gZGEgaW1hZ2VtICovXG4gIEBJbnB1dCgncC1pbWFnZScpIGltYWdlOiBzdHJpbmc7XG5cbiAgLyoqIEFsdHVyYSBkYSBpbWFnZW0gKi9cbiAgQElucHV0KCdwLWltYWdlLWhlaWdodCcpIGltYWdlSGVpZ2h0OiBudW1iZXI7XG5cbiAgLyoqIFRlbXBsYXRlIGN1c3RvbWl6YWRvICovXG4gIEBJbnB1dCgncC10ZW1wbGF0ZScpIHRlbXBsYXRlOiBQb1NsaWRlQ29udGVudFRlbXBsYXRlRGlyZWN0aXZlO1xuXG4gIC8qKiBMaW5rIGV4ZWN1dGFkbyBhbyBjbGljYXIgZW0gdW1hIGltYWdlbSAqL1xuICBASW5wdXQoJ3AtbGluaycpIGxpbms6IHN0cmluZztcblxuICBzZXRMaW5rVHlwZSgpIHtcbiAgICBpZiAoIXRoaXMudGVtcGxhdGUgJiYgdGhpcy5saW5rKSB7XG4gICAgICByZXR1cm4gdGhpcy5saW5rLnN0YXJ0c1dpdGgoJ2h0dHAnKSA/ICdleHRlcm5hbExpbmsnIDogJ2ludGVybmFsTGluayc7XG4gICAgfVxuXG4gICAgcmV0dXJuICdub0xpbmsnO1xuICB9XG5cbn1cbiJdfQ==