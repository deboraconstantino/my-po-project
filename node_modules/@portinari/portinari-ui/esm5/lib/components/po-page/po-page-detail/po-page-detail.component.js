import * as tslib_1 from "tslib";
import { Component, ViewContainerRef } from '@angular/core';
import { PoPageDetailBaseComponent } from './po-page-detail-base.component';
import { callAction, hasAction } from '../po-page-util/po-page-util';
/**
 * @docsExtends PoPageDetailBaseComponent
 *
 * @example
 *
 * <example name="po-page-detail-basic" title="Portinari Page Detail Basic">
 *  <file name="sample-po-page-detail-basic/sample-po-page-detail-basic.component.html"> </file>
 *  <file name="sample-po-page-detail-basic/sample-po-page-detail-basic.component.ts"> </file>
 * </example>
 *
 * <example name="po-page-detail-labs" title="Portinari Page Detail Labs">
 *  <file name="sample-po-page-detail-labs/sample-po-page-detail-labs.component.html"> </file>
 *  <file name="sample-po-page-detail-labs/sample-po-page-detail-labs.component.ts"> </file>
 * </example>
 *
 * <example name="po-page-detail-user" title="Portinari Page Detail - User">
 *  <file name="sample-po-page-detail-user/sample-po-page-detail-user.component.html"> </file>
 *  <file name="sample-po-page-detail-user/sample-po-page-detail-user.component.ts"> </file>
 * </example>
 */
var PoPageDetailComponent = /** @class */ (function (_super) {
    tslib_1.__extends(PoPageDetailComponent, _super);
    function PoPageDetailComponent(viewRef) {
        var _this = _super.call(this) || this;
        _this.callActionFn = callAction;
        _this.hasActionFn = hasAction;
        _this.parentContext = viewRef['_view']['component'];
        return _this;
    }
    PoPageDetailComponent.prototype.hasAnyAction = function () {
        return this.hasActionFn('back', this.parentContext) ||
            this.hasActionFn('edit', this.parentContext) ||
            this.hasActionFn('remove', this.parentContext);
    };
    PoPageDetailComponent.prototype.hasEditFn = function (property) {
        if (property === 'icon') {
            return this.hasActionFn('edit', this.parentContext) ? '' : 'po-icon-delete';
        }
        else if (property === 'type') {
            return this.hasActionFn('edit', this.parentContext) ? 'default' : 'primary';
        }
        else {
            return '';
        }
    };
    PoPageDetailComponent.prototype.hasEditOrRemoveFn = function (property) {
        if (property === 'icon') {
            return this.hasActionFn('edit', this.parentContext) || this.hasActionFn('remove', this.parentContext) ? '' : 'po-icon-arrow-left';
        }
        else if (property === 'type') {
            return this.hasActionFn('edit', this.parentContext) || this.hasActionFn('remove', this.parentContext) ? 'default' : 'primary';
        }
        else {
            return '';
        }
    };
    PoPageDetailComponent.prototype.hasPageHeader = function () {
        return !!(this.title || this.hasAnyAction() || (this.breadcrumb && this.breadcrumb.items.length));
    };
    PoPageDetailComponent.ctorParameters = function () { return [
        { type: ViewContainerRef }
    ]; };
    PoPageDetailComponent = tslib_1.__decorate([
        Component({
            selector: 'po-page-detail',
            template: "<po-page>\n  <!-- HEADER -->\n  <po-page-header\n    *ngIf=\"hasPageHeader()\"\n    [p-breadcrumb]=\"breadcrumb\"\n    [p-title]=\"title\">\n\n    <!-- OPERATIONS -->\n    <div *ngIf=\"hasAnyAction()\" class=\"po-page-header-actions\">\n      <po-button *ngIf=\"hasActionFn('back', parentContext)\"\n        [p-icon]=\"hasEditOrRemoveFn('icon')\"\n        [p-label]=\"literals.back\"\n        [p-type]=\"hasEditOrRemoveFn('type')\"\n        (p-click)=\"callActionFn('back', parentContext)\">\n      </po-button>\n\n      <po-button *ngIf=\"hasActionFn('remove', parentContext)\"\n        [p-icon]=\"hasEditFn('icon')\"\n        [p-label]=\"literals.remove\"\n        [p-type]=\"hasEditFn('type')\"\n        (p-click)=\"callActionFn('remove', parentContext)\">\n      </po-button>\n\n      <po-button *ngIf=\"hasActionFn('edit', parentContext)\"\n        p-icon=\"po-icon-edit\"\n        p-type=\"primary\"\n        [p-label]=\"literals.edit\"\n        (p-click)=\"callActionFn('edit', parentContext)\">\n      </po-button>\n    </div>\n\n  </po-page-header>\n\n  <!-- CONTENT -->\n  <po-page-content>\n    <ng-content>\n    </ng-content>\n  </po-page-content>\n\n</po-page>\n"
        }),
        tslib_1.__metadata("design:paramtypes", [ViewContainerRef])
    ], PoPageDetailComponent);
    return PoPageDetailComponent;
}(PoPageDetailBaseComponent));
export { PoPageDetailComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tcGFnZS1kZXRhaWwuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQHBvcnRpbmFyaS9wb3J0aW5hcmktdWkvIiwic291cmNlcyI6WyJsaWIvY29tcG9uZW50cy9wby1wYWdlL3BvLXBhZ2UtZGV0YWlsL3BvLXBhZ2UtZGV0YWlsLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUU1RCxPQUFPLEVBQUUseUJBQXlCLEVBQUUsTUFBTSxpQ0FBaUMsQ0FBQztBQUM1RSxPQUFPLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxNQUFNLDhCQUE4QixDQUFDO0FBRXJFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBbUJHO0FBS0g7SUFBMkMsaURBQXlCO0lBTWxFLCtCQUFZLE9BQXlCO1FBQXJDLFlBQ0UsaUJBQU8sU0FFUjtRQVBELGtCQUFZLEdBQUcsVUFBVSxDQUFDO1FBQzFCLGlCQUFXLEdBQUcsU0FBUyxDQUFDO1FBS3RCLEtBQUksQ0FBQyxhQUFhLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDOztJQUNyRCxDQUFDO0lBRUQsNENBQVksR0FBWjtRQUNFLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQztZQUNqRCxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDO1lBQzVDLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUNuRCxDQUFDO0lBRUQseUNBQVMsR0FBVCxVQUFVLFFBQWdCO1FBQ3hCLElBQUksUUFBUSxLQUFLLE1BQU0sRUFBRTtZQUN2QixPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQztTQUM3RTthQUFNLElBQUksUUFBUSxLQUFLLE1BQU0sRUFBRTtZQUM5QixPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7U0FDN0U7YUFBTTtZQUNMLE9BQU8sRUFBRSxDQUFDO1NBQ1g7SUFDSCxDQUFDO0lBRUQsaURBQWlCLEdBQWpCLFVBQWtCLFFBQWdCO1FBQ2hDLElBQUksUUFBUSxLQUFLLE1BQU0sRUFBRTtZQUN2QixPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsb0JBQW9CLENBQUM7U0FDbkk7YUFBTSxJQUFJLFFBQVEsS0FBSyxNQUFNLEVBQUU7WUFDOUIsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztTQUMvSDthQUFNO1lBQ0wsT0FBTyxFQUFFLENBQUM7U0FDWDtJQUNILENBQUM7SUFFRCw2Q0FBYSxHQUFiO1FBQ0UsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUNwRyxDQUFDOztnQkFqQ29CLGdCQUFnQjs7SUFOMUIscUJBQXFCO1FBSmpDLFNBQVMsQ0FBQztZQUNULFFBQVEsRUFBRSxnQkFBZ0I7WUFDMUIsbXFDQUE4QztTQUMvQyxDQUFDO2lEQU9xQixnQkFBZ0I7T0FOMUIscUJBQXFCLENBeUNqQztJQUFELDRCQUFDO0NBQUEsQUF6Q0QsQ0FBMkMseUJBQXlCLEdBeUNuRTtTQXpDWSxxQkFBcUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIFZpZXdDb250YWluZXJSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgUG9QYWdlRGV0YWlsQmFzZUNvbXBvbmVudCB9IGZyb20gJy4vcG8tcGFnZS1kZXRhaWwtYmFzZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgY2FsbEFjdGlvbiwgaGFzQWN0aW9uIH0gZnJvbSAnLi4vcG8tcGFnZS11dGlsL3BvLXBhZ2UtdXRpbCc7XG5cbi8qKlxuICogQGRvY3NFeHRlbmRzIFBvUGFnZURldGFpbEJhc2VDb21wb25lbnRcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJwby1wYWdlLWRldGFpbC1iYXNpY1wiIHRpdGxlPVwiUG9ydGluYXJpIFBhZ2UgRGV0YWlsIEJhc2ljXCI+XG4gKiAgPGZpbGUgbmFtZT1cInNhbXBsZS1wby1wYWdlLWRldGFpbC1iYXNpYy9zYW1wbGUtcG8tcGFnZS1kZXRhaWwtYmFzaWMuY29tcG9uZW50Lmh0bWxcIj4gPC9maWxlPlxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtcG8tcGFnZS1kZXRhaWwtYmFzaWMvc2FtcGxlLXBvLXBhZ2UtZGV0YWlsLWJhc2ljLmNvbXBvbmVudC50c1wiPiA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKlxuICogPGV4YW1wbGUgbmFtZT1cInBvLXBhZ2UtZGV0YWlsLWxhYnNcIiB0aXRsZT1cIlBvcnRpbmFyaSBQYWdlIERldGFpbCBMYWJzXCI+XG4gKiAgPGZpbGUgbmFtZT1cInNhbXBsZS1wby1wYWdlLWRldGFpbC1sYWJzL3NhbXBsZS1wby1wYWdlLWRldGFpbC1sYWJzLmNvbXBvbmVudC5odG1sXCI+IDwvZmlsZT5cbiAqICA8ZmlsZSBuYW1lPVwic2FtcGxlLXBvLXBhZ2UtZGV0YWlsLWxhYnMvc2FtcGxlLXBvLXBhZ2UtZGV0YWlsLWxhYnMuY29tcG9uZW50LnRzXCI+IDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwicG8tcGFnZS1kZXRhaWwtdXNlclwiIHRpdGxlPVwiUG9ydGluYXJpIFBhZ2UgRGV0YWlsIC0gVXNlclwiPlxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtcG8tcGFnZS1kZXRhaWwtdXNlci9zYW1wbGUtcG8tcGFnZS1kZXRhaWwtdXNlci5jb21wb25lbnQuaHRtbFwiPiA8L2ZpbGU+XG4gKiAgPGZpbGUgbmFtZT1cInNhbXBsZS1wby1wYWdlLWRldGFpbC11c2VyL3NhbXBsZS1wby1wYWdlLWRldGFpbC11c2VyLmNvbXBvbmVudC50c1wiPiA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKi9cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3BvLXBhZ2UtZGV0YWlsJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3BvLXBhZ2UtZGV0YWlsLmNvbXBvbmVudC5odG1sJ1xufSlcbmV4cG9ydCBjbGFzcyBQb1BhZ2VEZXRhaWxDb21wb25lbnQgZXh0ZW5kcyBQb1BhZ2VEZXRhaWxCYXNlQ29tcG9uZW50IHtcblxuICBjYWxsQWN0aW9uRm4gPSBjYWxsQWN0aW9uO1xuICBoYXNBY3Rpb25GbiA9IGhhc0FjdGlvbjtcbiAgcGFyZW50Q29udGV4dDogVmlld0NvbnRhaW5lclJlZjtcblxuICBjb25zdHJ1Y3Rvcih2aWV3UmVmOiBWaWV3Q29udGFpbmVyUmVmKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnBhcmVudENvbnRleHQgPSB2aWV3UmVmWydfdmlldyddWydjb21wb25lbnQnXTtcbiAgfVxuXG4gIGhhc0FueUFjdGlvbigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5oYXNBY3Rpb25GbignYmFjaycsIHRoaXMucGFyZW50Q29udGV4dCkgfHxcbiAgICAgIHRoaXMuaGFzQWN0aW9uRm4oJ2VkaXQnLCB0aGlzLnBhcmVudENvbnRleHQpIHx8XG4gICAgICB0aGlzLmhhc0FjdGlvbkZuKCdyZW1vdmUnLCB0aGlzLnBhcmVudENvbnRleHQpO1xuICB9XG5cbiAgaGFzRWRpdEZuKHByb3BlcnR5OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmIChwcm9wZXJ0eSA9PT0gJ2ljb24nKSB7XG4gICAgICByZXR1cm4gdGhpcy5oYXNBY3Rpb25GbignZWRpdCcsIHRoaXMucGFyZW50Q29udGV4dCkgPyAnJyA6ICdwby1pY29uLWRlbGV0ZSc7XG4gICAgfSBlbHNlIGlmIChwcm9wZXJ0eSA9PT0gJ3R5cGUnKSB7XG4gICAgICByZXR1cm4gdGhpcy5oYXNBY3Rpb25GbignZWRpdCcsIHRoaXMucGFyZW50Q29udGV4dCkgPyAnZGVmYXVsdCcgOiAncHJpbWFyeSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gIH1cblxuICBoYXNFZGl0T3JSZW1vdmVGbihwcm9wZXJ0eTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAocHJvcGVydHkgPT09ICdpY29uJykge1xuICAgICAgcmV0dXJuIHRoaXMuaGFzQWN0aW9uRm4oJ2VkaXQnLCB0aGlzLnBhcmVudENvbnRleHQpIHx8IHRoaXMuaGFzQWN0aW9uRm4oJ3JlbW92ZScsIHRoaXMucGFyZW50Q29udGV4dCkgPyAnJyA6ICdwby1pY29uLWFycm93LWxlZnQnO1xuICAgIH0gZWxzZSBpZiAocHJvcGVydHkgPT09ICd0eXBlJykge1xuICAgICAgcmV0dXJuIHRoaXMuaGFzQWN0aW9uRm4oJ2VkaXQnLCB0aGlzLnBhcmVudENvbnRleHQpIHx8IHRoaXMuaGFzQWN0aW9uRm4oJ3JlbW92ZScsIHRoaXMucGFyZW50Q29udGV4dCkgPyAnZGVmYXVsdCcgOiAncHJpbWFyeSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gIH1cblxuICBoYXNQYWdlSGVhZGVyKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhISh0aGlzLnRpdGxlIHx8IHRoaXMuaGFzQW55QWN0aW9uKCkgfHwgKHRoaXMuYnJlYWRjcnVtYiAmJiB0aGlzLmJyZWFkY3J1bWIuaXRlbXMubGVuZ3RoKSk7XG4gIH1cblxufVxuIl19