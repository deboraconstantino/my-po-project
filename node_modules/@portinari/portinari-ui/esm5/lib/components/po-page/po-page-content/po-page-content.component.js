import * as tslib_1 from "tslib";
import { AfterViewInit, Component, OnDestroy, Renderer2 } from '@angular/core';
import { PoPageContentBaseComponent } from './po-page-content-base.component';
/**
 * @docsPrivate
 *
 * @docsExtends PoPageContentBaseComponent
 */
var PoPageContentComponent = /** @class */ (function (_super) {
    tslib_1.__extends(PoPageContentComponent, _super);
    function PoPageContentComponent(renderer) {
        var _this = _super.call(this) || this;
        _this.renderer = renderer;
        _this.contentOpacity = 0;
        _this.height = '90%';
        _this.overflowY = 'none';
        _this.initializeListeners();
        return _this;
    }
    PoPageContentComponent.prototype.ngAfterViewInit = function () {
        this.recalculateHeaderSize();
    };
    PoPageContentComponent.prototype.ngOnDestroy = function () {
        this.removeListeners();
    };
    PoPageContentComponent.prototype.recalculateHeaderSize = function () {
        var _this = this;
        setTimeout(function () {
            var pageHeaderElement = document.querySelector('div.po-page-header');
            _this.setHeightContent(pageHeaderElement);
            _this.contentOpacity = 1;
        });
    };
    PoPageContentComponent.prototype.setHeightContent = function (poPageHeader) {
        var bodyHeight = document.body.clientHeight;
        var pageHeaderHeight = poPageHeader ? poPageHeader.offsetTop + poPageHeader.offsetHeight : 0;
        var newHeight = bodyHeight - pageHeaderHeight;
        this.height = newHeight + "px";
    };
    PoPageContentComponent.prototype.initializeListeners = function () {
        var _this = this;
        this.resizeListener = this.renderer.listen('window', 'resize', function () {
            _this.recalculateHeaderSize();
        });
    };
    PoPageContentComponent.prototype.removeListeners = function () {
        this.resizeListener();
    };
    PoPageContentComponent.ctorParameters = function () { return [
        { type: Renderer2 }
    ]; };
    PoPageContentComponent = tslib_1.__decorate([
        Component({
            selector: 'po-page-content',
            template: "<div class=\"po-page-content\"\n  [style.height]=\"height\"\n  [style.opacity]=\"contentOpacity\"\n  [style.overflow-y]=\"overflowY\">\n  <ng-content></ng-content>\n</div>\n"
        }),
        tslib_1.__metadata("design:paramtypes", [Renderer2])
    ], PoPageContentComponent);
    return PoPageContentComponent;
}(PoPageContentBaseComponent));
export { PoPageContentComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tcGFnZS1jb250ZW50LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0Bwb3J0aW5hcmkvcG9ydGluYXJpLXVpLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvcG8tcGFnZS9wby1wYWdlLWNvbnRlbnQvcG8tcGFnZS1jb250ZW50LmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLGFBQWEsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUUvRSxPQUFPLEVBQUUsMEJBQTBCLEVBQUUsTUFBTSxrQ0FBa0MsQ0FBQztBQUU5RTs7OztHQUlHO0FBS0g7SUFBNEMsa0RBQTBCO0lBTXBFLGdDQUFtQixRQUFtQjtRQUF0QyxZQUNFLGlCQUFPLFNBRVI7UUFIa0IsY0FBUSxHQUFSLFFBQVEsQ0FBVztRQUp0QyxvQkFBYyxHQUFXLENBQUMsQ0FBQztRQUMzQixZQUFNLEdBQVcsS0FBSyxDQUFDO1FBQ3ZCLGVBQVMsR0FBVyxNQUFNLENBQUM7UUFJekIsS0FBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7O0lBQzdCLENBQUM7SUFFRCxnREFBZSxHQUFmO1FBQ0UsSUFBSSxDQUFDLHFCQUFxQixFQUFFLENBQUM7SUFDL0IsQ0FBQztJQUVELDRDQUFXLEdBQVg7UUFDRSxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7SUFDekIsQ0FBQztJQUVELHNEQUFxQixHQUFyQjtRQUFBLGlCQU9DO1FBTkMsVUFBVSxDQUFDO1lBQ1QsSUFBTSxpQkFBaUIsR0FBZ0IsUUFBUSxDQUFDLGFBQWEsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1lBRXBGLEtBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1lBQ3pDLEtBQUksQ0FBQyxjQUFjLEdBQUcsQ0FBQyxDQUFDO1FBQzFCLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELGlEQUFnQixHQUFoQixVQUFpQixZQUF5QjtRQUN4QyxJQUFNLFVBQVUsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQztRQUM5QyxJQUFNLGdCQUFnQixHQUFHLFlBQVksQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLFNBQVMsR0FBRyxZQUFZLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDL0YsSUFBTSxTQUFTLEdBQUcsVUFBVSxHQUFHLGdCQUFnQixDQUFDO1FBRWhELElBQUksQ0FBQyxNQUFNLEdBQU0sU0FBUyxPQUFJLENBQUM7SUFDakMsQ0FBQztJQUVPLG9EQUFtQixHQUEzQjtRQUFBLGlCQUlDO1FBSEMsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsUUFBUSxFQUFFO1lBQzdELEtBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO1FBQy9CLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVPLGdEQUFlLEdBQXZCO1FBQ0UsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO0lBQ3hCLENBQUM7O2dCQXRDNEIsU0FBUzs7SUFOM0Isc0JBQXNCO1FBSmxDLFNBQVMsQ0FBQztZQUNULFFBQVEsRUFBRSxpQkFBaUI7WUFDM0IseUxBQStDO1NBQ2hELENBQUM7aURBTzZCLFNBQVM7T0FOM0Isc0JBQXNCLENBOENsQztJQUFELDZCQUFDO0NBQUEsQUE5Q0QsQ0FBNEMsMEJBQTBCLEdBOENyRTtTQTlDWSxzQkFBc0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBZnRlclZpZXdJbml0LCBDb21wb25lbnQsIE9uRGVzdHJveSwgUmVuZGVyZXIyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IFBvUGFnZUNvbnRlbnRCYXNlQ29tcG9uZW50IH0gZnJvbSAnLi9wby1wYWdlLWNvbnRlbnQtYmFzZS5jb21wb25lbnQnO1xuXG4vKipcbiAqIEBkb2NzUHJpdmF0ZVxuICpcbiAqIEBkb2NzRXh0ZW5kcyBQb1BhZ2VDb250ZW50QmFzZUNvbXBvbmVudFxuICovXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdwby1wYWdlLWNvbnRlbnQnLFxuICB0ZW1wbGF0ZVVybDogJy4vcG8tcGFnZS1jb250ZW50LmNvbXBvbmVudC5odG1sJ1xufSlcbmV4cG9ydCBjbGFzcyBQb1BhZ2VDb250ZW50Q29tcG9uZW50IGV4dGVuZHMgUG9QYWdlQ29udGVudEJhc2VDb21wb25lbnQgaW1wbGVtZW50cyBBZnRlclZpZXdJbml0LCBPbkRlc3Ryb3kge1xuXG4gIGNvbnRlbnRPcGFjaXR5OiBudW1iZXIgPSAwO1xuICBoZWlnaHQ6IHN0cmluZyA9ICc5MCUnO1xuICBvdmVyZmxvd1k6IHN0cmluZyA9ICdub25lJztcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVuZGVyZXI6IFJlbmRlcmVyMikge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5pbml0aWFsaXplTGlzdGVuZXJzKCk7XG4gIH1cblxuICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgdGhpcy5yZWNhbGN1bGF0ZUhlYWRlclNpemUoKTtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXJzKCk7XG4gIH1cblxuICByZWNhbGN1bGF0ZUhlYWRlclNpemUoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCBwYWdlSGVhZGVyRWxlbWVudDogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXYucG8tcGFnZS1oZWFkZXInKTtcblxuICAgICAgdGhpcy5zZXRIZWlnaHRDb250ZW50KHBhZ2VIZWFkZXJFbGVtZW50KTtcbiAgICAgIHRoaXMuY29udGVudE9wYWNpdHkgPSAxO1xuICAgIH0pO1xuICB9XG5cbiAgc2V0SGVpZ2h0Q29udGVudChwb1BhZ2VIZWFkZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgY29uc3QgYm9keUhlaWdodCA9IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0O1xuICAgIGNvbnN0IHBhZ2VIZWFkZXJIZWlnaHQgPSBwb1BhZ2VIZWFkZXIgPyBwb1BhZ2VIZWFkZXIub2Zmc2V0VG9wICsgcG9QYWdlSGVhZGVyLm9mZnNldEhlaWdodCA6IDA7XG4gICAgY29uc3QgbmV3SGVpZ2h0ID0gYm9keUhlaWdodCAtIHBhZ2VIZWFkZXJIZWlnaHQ7XG5cbiAgICB0aGlzLmhlaWdodCA9IGAke25ld0hlaWdodH1weGA7XG4gIH1cblxuICBwcml2YXRlIGluaXRpYWxpemVMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5yZXNpemVMaXN0ZW5lciA9IHRoaXMucmVuZGVyZXIubGlzdGVuKCd3aW5kb3cnLCAncmVzaXplJywgKCkgPT4ge1xuICAgICAgdGhpcy5yZWNhbGN1bGF0ZUhlYWRlclNpemUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVtb3ZlTGlzdGVuZXJzKCkge1xuICAgIHRoaXMucmVzaXplTGlzdGVuZXIoKTtcbiAgfVxuXG59XG4iXX0=