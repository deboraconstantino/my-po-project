import * as tslib_1 from "tslib";
import { EventEmitter, Input, Output } from '@angular/core';
import { convertToBoolean } from '../../utils/util';
import { PoStepperOrientation } from './enums/po-stepper-orientation.enum';
import { PoStepperStatus } from './enums/po-stepper-status.enum';
var poStepperOrientationDefault = PoStepperOrientation.Horizontal;
/**
 * @description
 *
 * O `po-stepper` permite que um processo seja dividido em passos para que o usuário o realize
 * mais facilmente.
 *
 * Existem duas formas de utilização:
 *
 * 1 - Usando o componente [**po-step**](/documentation/po-step) para renderizar e descrever os passos.
 *
 * 2 - Através da propriedade `p-steps` para descrever os passos do processo, sendo responsabilidade do desenvolvedor o controle
 * de renderização do que será exibido a cada *step* ativo.
 *
 * Através de suas propriedades, é possível definir se sua orientação será horizontal ou vertical,
 * além da possibilidade de aumentar o tamanho dos *steps*.
 *
 * Também é possível navegar entre os *steps* através do teclado utilizando a tecla *tab* e, para ativar o *step* em foco basta
 * pressionar a tecla *enter*. Além disso, é possível ativar a exibição de ícones no lugar de números nos *steps* através da
 * propriedade [`p-step-icons`](/documentation/po-stepper#stepIconsProperty).
 *
 * #### Utilizando os métodos do componente:
 *
 * Para acessar os métodos do componente é necessário ter a referência do mesmo.
 *
 * Por exemplo, utilizando um [**ViewChild**](https://angular.io/api/core/ViewChild):
 *
 * ```
 * @ViewChild(PoStepperComponent) poStepperComponent: PoStepperComponent;
 * ```
 *
 * E para acessar o método:
 *
 * ```
 * poStepperComponent.next();
 * ```
 *
 * #### Boas práticas
 *
 * - Evite `labels` extensos que quebram o layout do `po-stepper`, use `labels` diretos, curtos e intuitivos.
 * - Utilize apenas um `po-stepper` por página.
 */
var PoStepperBaseComponent = /** @class */ (function () {
    function PoStepperBaseComponent() {
        this._orientation = poStepperOrientationDefault;
        this._sequential = true;
        this._step = 1;
        this._steps = [];
        /** Ação que será executada quando o usuário mudar o passo do `po-stepper`. */
        this.onChangeStep = new EventEmitter();
    }
    Object.defineProperty(PoStepperBaseComponent.prototype, "orientation", {
        get: function () {
            return this._orientation;
        },
        /**
         * @optional
         *
         * @description
         *
         * Define a orientação de exibição do `po-stepper`.
         *
         * > Veja os valores válidos no *enum* [PoStepperOrientation](documentation/po-stepper#stepperOrientation).
         *
         * @default `PoStepperOrientation.Horizontal`
         */
        set: function (value) {
            this._orientation = Object.values(PoStepperOrientation).includes(value) ? value : poStepperOrientationDefault;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PoStepperBaseComponent.prototype, "step", {
        get: function () {
            return this._step;
        },
        /**
         * @optional
         *
         * @description
         *
         * Controla o passo atual do `po-stepper`.
         *
         * > Ao utilizar esta propriedade e também utilizar o componente [**po-step**](/documentation/po-step),
         * o valor desta propriedade será ignorada permanecendo a definição do [**po-step**](/documentation/po-step).
         *
         * @default `1`
         */
        set: function (step) {
            if (step >= 1 && step <= this.steps.length) {
                this._step = step;
                this._steps[this._step - 1].status = PoStepperStatus.Active;
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PoStepperBaseComponent.prototype, "steps", {
        get: function () {
            return this._steps;
        },
        /**
         * @optional
         *
         * @description
         *
         * Lista dos itens do stepper. Se o valor estiver indefinido ou inválido, será inicializado como um array vazio.
         *
         * > Ao utilizar esta propriedade e também utilizar o componente [**po-step**](/documentation/po-step),
         * o valor desta propriedade será ignorada permanecendo a definição do [**po-step**](/documentation/po-step).
         */
        set: function (steps) {
            this._steps = Array.isArray(steps) ? steps : [];
            this._steps.forEach(function (step) { return step.status = PoStepperStatus.Default; });
            this.step = 1;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PoStepperBaseComponent.prototype, "sequential", {
        get: function () {
            return this._sequential;
        },
        /**
         * @optional
         *
         * @description
         *
         * Define se o `po-stepper` será sequencial ou aleatório.
         *
         * > Ao utilizar o componente [**po-step**](/documentation/po-step), o valor desta propriedade sempre será verdadeiro.
         *
         * @default `true`
         */
        set: function (sequential) {
            this._sequential = convertToBoolean(sequential);
        },
        enumerable: true,
        configurable: true
    });
    tslib_1.__decorate([
        Input('p-orientation'),
        tslib_1.__metadata("design:type", String),
        tslib_1.__metadata("design:paramtypes", [String])
    ], PoStepperBaseComponent.prototype, "orientation", null);
    tslib_1.__decorate([
        Input('p-step'),
        tslib_1.__metadata("design:type", Number),
        tslib_1.__metadata("design:paramtypes", [Number])
    ], PoStepperBaseComponent.prototype, "step", null);
    tslib_1.__decorate([
        Input('p-steps'),
        tslib_1.__metadata("design:type", Array),
        tslib_1.__metadata("design:paramtypes", [Array])
    ], PoStepperBaseComponent.prototype, "steps", null);
    tslib_1.__decorate([
        Input('p-step-icons'),
        tslib_1.__metadata("design:type", Boolean)
    ], PoStepperBaseComponent.prototype, "stepIcons", void 0);
    tslib_1.__decorate([
        Input('p-step-size'),
        tslib_1.__metadata("design:type", Number)
    ], PoStepperBaseComponent.prototype, "stepSize", void 0);
    tslib_1.__decorate([
        Input('p-sequential'),
        tslib_1.__metadata("design:type", Boolean),
        tslib_1.__metadata("design:paramtypes", [Boolean])
    ], PoStepperBaseComponent.prototype, "sequential", null);
    tslib_1.__decorate([
        Output('p-change-step'),
        tslib_1.__metadata("design:type", Object)
    ], PoStepperBaseComponent.prototype, "onChangeStep", void 0);
    return PoStepperBaseComponent;
}());
export { PoStepperBaseComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tc3RlcHBlci1iYXNlLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0Bwb3J0aW5hcmkvcG9ydGluYXJpLXVpLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvcG8tc3RlcHBlci9wby1zdGVwcGVyLWJhc2UuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFNUQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFJcEQsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0scUNBQXFDLENBQUM7QUFDM0UsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBRWpFLElBQU0sMkJBQTJCLEdBQUcsb0JBQW9CLENBQUMsVUFBVSxDQUFDO0FBRXBFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBd0NHO0FBQ0g7SUFBQTtRQUVVLGlCQUFZLEdBQTBCLDJCQUEyQixDQUFDO1FBQ2xFLGdCQUFXLEdBQWEsSUFBSSxDQUFDO1FBQzdCLFVBQUssR0FBVyxDQUFDLENBQUM7UUFDbEIsV0FBTSxHQUF5QixFQUFFLENBQUM7UUFnSDFDLDhFQUE4RTtRQUNyRCxpQkFBWSxHQUFHLElBQUksWUFBWSxFQUE0QixDQUFDO0lBRXZGLENBQUM7SUF0R3lCLHNCQUFJLCtDQUFXO2FBSXZDO1lBQ0UsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDO1FBQzNCLENBQUM7UUFqQkQ7Ozs7Ozs7Ozs7V0FVRzthQUNxQixVQUFnQixLQUEyQjtZQUNqRSxJQUFJLENBQUMsWUFBWSxHQUFTLE1BQU8sQ0FBQyxNQUFNLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsMkJBQTJCLENBQUM7UUFDdkgsQ0FBQzs7O09BQUE7SUFrQmdCLHNCQUFJLHdDQUFJO2FBT3pCO1lBQ0UsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ3BCLENBQUM7UUFyQkQ7Ozs7Ozs7Ozs7O1dBV0c7YUFDYyxVQUFTLElBQVk7WUFDcEMsSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRTtnQkFDMUMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7Z0JBQ2xCLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUcsZUFBZSxDQUFDLE1BQU0sQ0FBQzthQUM3RDtRQUNILENBQUM7OztPQUFBO0lBZ0JpQixzQkFBSSx5Q0FBSzthQU0zQjtZQUNFLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUNyQixDQUFDO1FBbEJEOzs7Ozs7Ozs7V0FTRzthQUNlLFVBQVUsS0FBMkI7WUFDckQsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUNoRCxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxVQUFBLElBQUksSUFBSSxPQUFBLElBQUksQ0FBQyxNQUFNLEdBQUcsZUFBZSxDQUFDLE9BQU8sRUFBckMsQ0FBcUMsQ0FBQyxDQUFDO1lBQ25FLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDO1FBQ2hCLENBQUM7OztPQUFBO0lBOENzQixzQkFBSSw4Q0FBVTthQUlyQztZQUNFLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQztRQUMxQixDQUFDO1FBakJEOzs7Ozs7Ozs7O1dBVUc7YUFDb0IsVUFBZSxVQUFtQjtZQUN2RCxJQUFJLENBQUMsV0FBVyxHQUFHLGdCQUFnQixDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ2xELENBQUM7OztPQUFBO0lBN0Z1QjtRQUF2QixLQUFLLENBQUMsZUFBZSxDQUFDOzs7NkRBRXRCO0lBa0JnQjtRQUFoQixLQUFLLENBQUMsUUFBUSxDQUFDOzs7c0RBS2Y7SUFnQmlCO1FBQWpCLEtBQUssQ0FBQyxTQUFTLENBQUM7MENBQWtCLEtBQUs7aURBQUwsS0FBSzt1REFJdkM7SUFrQnNCO1FBQXRCLEtBQUssQ0FBQyxjQUFjLENBQUM7OzZEQUFvQjtJQWVwQjtRQUFyQixLQUFLLENBQUMsYUFBYSxDQUFDOzs0REFBa0I7SUFhaEI7UUFBdEIsS0FBSyxDQUFDLGNBQWMsQ0FBQzs7OzREQUVyQjtJQU93QjtRQUF4QixNQUFNLENBQUMsZUFBZSxDQUFDOztnRUFBNkQ7SUFFdkYsNkJBQUM7Q0FBQSxBQXhIRCxJQXdIQztTQXhIWSxzQkFBc0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFdmVudEVtaXR0ZXIsIElucHV0LCBPdXRwdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgY29udmVydFRvQm9vbGVhbiB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWwnO1xuXG5pbXBvcnQgeyBQb1N0ZXBDb21wb25lbnQgfSBmcm9tICcuL3BvLXN0ZXAvcG8tc3RlcC5jb21wb25lbnQnO1xuaW1wb3J0IHsgUG9TdGVwcGVySXRlbSB9IGZyb20gJy4vcG8tc3RlcHBlci1pdGVtLmludGVyZmFjZSc7XG5pbXBvcnQgeyBQb1N0ZXBwZXJPcmllbnRhdGlvbiB9IGZyb20gJy4vZW51bXMvcG8tc3RlcHBlci1vcmllbnRhdGlvbi5lbnVtJztcbmltcG9ydCB7IFBvU3RlcHBlclN0YXR1cyB9IGZyb20gJy4vZW51bXMvcG8tc3RlcHBlci1zdGF0dXMuZW51bSc7XG5cbmNvbnN0IHBvU3RlcHBlck9yaWVudGF0aW9uRGVmYXVsdCA9IFBvU3RlcHBlck9yaWVudGF0aW9uLkhvcml6b250YWw7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogTyBgcG8tc3RlcHBlcmAgcGVybWl0ZSBxdWUgdW0gcHJvY2Vzc28gc2VqYSBkaXZpZGlkbyBlbSBwYXNzb3MgcGFyYSBxdWUgbyB1c3XDoXJpbyBvIHJlYWxpemVcbiAqIG1haXMgZmFjaWxtZW50ZS5cbiAqXG4gKiBFeGlzdGVtIGR1YXMgZm9ybWFzIGRlIHV0aWxpemHDp8OjbzpcbiAqXG4gKiAxIC0gVXNhbmRvIG8gY29tcG9uZW50ZSBbKipwby1zdGVwKipdKC9kb2N1bWVudGF0aW9uL3BvLXN0ZXApIHBhcmEgcmVuZGVyaXphciBlIGRlc2NyZXZlciBvcyBwYXNzb3MuXG4gKlxuICogMiAtIEF0cmF2w6lzIGRhIHByb3ByaWVkYWRlIGBwLXN0ZXBzYCBwYXJhIGRlc2NyZXZlciBvcyBwYXNzb3MgZG8gcHJvY2Vzc28sIHNlbmRvIHJlc3BvbnNhYmlsaWRhZGUgZG8gZGVzZW52b2x2ZWRvciBvIGNvbnRyb2xlXG4gKiBkZSByZW5kZXJpemHDp8OjbyBkbyBxdWUgc2Vyw6EgZXhpYmlkbyBhIGNhZGEgKnN0ZXAqIGF0aXZvLlxuICpcbiAqIEF0cmF2w6lzIGRlIHN1YXMgcHJvcHJpZWRhZGVzLCDDqSBwb3Nzw612ZWwgZGVmaW5pciBzZSBzdWEgb3JpZW50YcOnw6NvIHNlcsOhIGhvcml6b250YWwgb3UgdmVydGljYWwsXG4gKiBhbMOpbSBkYSBwb3NzaWJpbGlkYWRlIGRlIGF1bWVudGFyIG8gdGFtYW5obyBkb3MgKnN0ZXBzKi5cbiAqXG4gKiBUYW1iw6ltIMOpIHBvc3PDrXZlbCBuYXZlZ2FyIGVudHJlIG9zICpzdGVwcyogYXRyYXbDqXMgZG8gdGVjbGFkbyB1dGlsaXphbmRvIGEgdGVjbGEgKnRhYiogZSwgcGFyYSBhdGl2YXIgbyAqc3RlcCogZW0gZm9jbyBiYXN0YVxuICogcHJlc3Npb25hciBhIHRlY2xhICplbnRlciouIEFsw6ltIGRpc3NvLCDDqSBwb3Nzw612ZWwgYXRpdmFyIGEgZXhpYmnDp8OjbyBkZSDDrWNvbmVzIG5vIGx1Z2FyIGRlIG7Dum1lcm9zIG5vcyAqc3RlcHMqIGF0cmF2w6lzIGRhXG4gKiBwcm9wcmllZGFkZSBbYHAtc3RlcC1pY29uc2BdKC9kb2N1bWVudGF0aW9uL3BvLXN0ZXBwZXIjc3RlcEljb25zUHJvcGVydHkpLlxuICpcbiAqICMjIyMgVXRpbGl6YW5kbyBvcyBtw6l0b2RvcyBkbyBjb21wb25lbnRlOlxuICpcbiAqIFBhcmEgYWNlc3NhciBvcyBtw6l0b2RvcyBkbyBjb21wb25lbnRlIMOpIG5lY2Vzc8OhcmlvIHRlciBhIHJlZmVyw6puY2lhIGRvIG1lc21vLlxuICpcbiAqIFBvciBleGVtcGxvLCB1dGlsaXphbmRvIHVtIFsqKlZpZXdDaGlsZCoqXShodHRwczovL2FuZ3VsYXIuaW8vYXBpL2NvcmUvVmlld0NoaWxkKTpcbiAqXG4gKiBgYGBcbiAqIEBWaWV3Q2hpbGQoUG9TdGVwcGVyQ29tcG9uZW50KSBwb1N0ZXBwZXJDb21wb25lbnQ6IFBvU3RlcHBlckNvbXBvbmVudDtcbiAqIGBgYFxuICpcbiAqIEUgcGFyYSBhY2Vzc2FyIG8gbcOpdG9kbzpcbiAqXG4gKiBgYGBcbiAqIHBvU3RlcHBlckNvbXBvbmVudC5uZXh0KCk7XG4gKiBgYGBcbiAqXG4gKiAjIyMjIEJvYXMgcHLDoXRpY2FzXG4gKlxuICogLSBFdml0ZSBgbGFiZWxzYCBleHRlbnNvcyBxdWUgcXVlYnJhbSBvIGxheW91dCBkbyBgcG8tc3RlcHBlcmAsIHVzZSBgbGFiZWxzYCBkaXJldG9zLCBjdXJ0b3MgZSBpbnR1aXRpdm9zLlxuICogLSBVdGlsaXplIGFwZW5hcyB1bSBgcG8tc3RlcHBlcmAgcG9yIHDDoWdpbmEuXG4gKi9cbmV4cG9ydCBjbGFzcyBQb1N0ZXBwZXJCYXNlQ29tcG9uZW50IHtcblxuICBwcml2YXRlIF9vcmllbnRhdGlvbj86IFBvU3RlcHBlck9yaWVudGF0aW9uID0gcG9TdGVwcGVyT3JpZW50YXRpb25EZWZhdWx0O1xuICBwcml2YXRlIF9zZXF1ZW50aWFsPzogYm9vbGVhbiA9IHRydWU7XG4gIHByaXZhdGUgX3N0ZXA6IG51bWJlciA9IDE7XG4gIHByaXZhdGUgX3N0ZXBzOiBBcnJheTxQb1N0ZXBwZXJJdGVtPiA9IFtdO1xuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIERlZmluZSBhIG9yaWVudGHDp8OjbyBkZSBleGliacOnw6NvIGRvIGBwby1zdGVwcGVyYC5cbiAgICpcbiAgICogPiBWZWphIG9zIHZhbG9yZXMgdsOhbGlkb3Mgbm8gKmVudW0qIFtQb1N0ZXBwZXJPcmllbnRhdGlvbl0oZG9jdW1lbnRhdGlvbi9wby1zdGVwcGVyI3N0ZXBwZXJPcmllbnRhdGlvbikuXG4gICAqXG4gICAqIEBkZWZhdWx0IGBQb1N0ZXBwZXJPcmllbnRhdGlvbi5Ib3Jpem9udGFsYFxuICAgKi9cbiAgQElucHV0KCdwLW9yaWVudGF0aW9uJykgc2V0IG9yaWVudGF0aW9uKHZhbHVlOiBQb1N0ZXBwZXJPcmllbnRhdGlvbikge1xuICAgIHRoaXMuX29yaWVudGF0aW9uID0gKDxhbnk+T2JqZWN0KS52YWx1ZXMoUG9TdGVwcGVyT3JpZW50YXRpb24pLmluY2x1ZGVzKHZhbHVlKSA/IHZhbHVlIDogcG9TdGVwcGVyT3JpZW50YXRpb25EZWZhdWx0O1xuICB9XG5cbiAgZ2V0IG9yaWVudGF0aW9uKCk6IFBvU3RlcHBlck9yaWVudGF0aW9uIHtcbiAgICByZXR1cm4gdGhpcy5fb3JpZW50YXRpb247XG4gIH1cblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBDb250cm9sYSBvIHBhc3NvIGF0dWFsIGRvIGBwby1zdGVwcGVyYC5cbiAgICpcbiAgICogPiBBbyB1dGlsaXphciBlc3RhIHByb3ByaWVkYWRlIGUgdGFtYsOpbSB1dGlsaXphciBvIGNvbXBvbmVudGUgWyoqcG8tc3RlcCoqXSgvZG9jdW1lbnRhdGlvbi9wby1zdGVwKSxcbiAgICogbyB2YWxvciBkZXN0YSBwcm9wcmllZGFkZSBzZXLDoSBpZ25vcmFkYSBwZXJtYW5lY2VuZG8gYSBkZWZpbmnDp8OjbyBkbyBbKipwby1zdGVwKipdKC9kb2N1bWVudGF0aW9uL3BvLXN0ZXApLlxuICAgKlxuICAgKiBAZGVmYXVsdCBgMWBcbiAgICovXG4gIEBJbnB1dCgncC1zdGVwJykgc2V0IHN0ZXAoc3RlcDogbnVtYmVyKSB7XG4gICAgaWYgKHN0ZXAgPj0gMSAmJiBzdGVwIDw9IHRoaXMuc3RlcHMubGVuZ3RoKSB7XG4gICAgICB0aGlzLl9zdGVwID0gc3RlcDtcbiAgICAgIHRoaXMuX3N0ZXBzW3RoaXMuX3N0ZXAgLSAxXS5zdGF0dXMgPSBQb1N0ZXBwZXJTdGF0dXMuQWN0aXZlO1xuICAgIH1cbiAgfVxuXG4gIGdldCBzdGVwKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX3N0ZXA7XG4gIH1cblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBMaXN0YSBkb3MgaXRlbnMgZG8gc3RlcHBlci4gU2UgbyB2YWxvciBlc3RpdmVyIGluZGVmaW5pZG8gb3UgaW52w6FsaWRvLCBzZXLDoSBpbmljaWFsaXphZG8gY29tbyB1bSBhcnJheSB2YXppby5cbiAgICpcbiAgICogPiBBbyB1dGlsaXphciBlc3RhIHByb3ByaWVkYWRlIGUgdGFtYsOpbSB1dGlsaXphciBvIGNvbXBvbmVudGUgWyoqcG8tc3RlcCoqXSgvZG9jdW1lbnRhdGlvbi9wby1zdGVwKSxcbiAgICogbyB2YWxvciBkZXN0YSBwcm9wcmllZGFkZSBzZXLDoSBpZ25vcmFkYSBwZXJtYW5lY2VuZG8gYSBkZWZpbmnDp8OjbyBkbyBbKipwby1zdGVwKipdKC9kb2N1bWVudGF0aW9uL3BvLXN0ZXApLlxuICAgKi9cbiAgQElucHV0KCdwLXN0ZXBzJykgc2V0IHN0ZXBzKHN0ZXBzOiBBcnJheTxQb1N0ZXBwZXJJdGVtPikge1xuICAgIHRoaXMuX3N0ZXBzID0gQXJyYXkuaXNBcnJheShzdGVwcykgPyBzdGVwcyA6IFtdO1xuICAgIHRoaXMuX3N0ZXBzLmZvckVhY2goc3RlcCA9PiBzdGVwLnN0YXR1cyA9IFBvU3RlcHBlclN0YXR1cy5EZWZhdWx0KTtcbiAgICB0aGlzLnN0ZXAgPSAxO1xuICB9XG5cbiAgZ2V0IHN0ZXBzKCk6IEFycmF5PFBvU3RlcHBlckl0ZW0+IHtcbiAgICByZXR1cm4gdGhpcy5fc3RlcHM7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiA8YSBpZD1cInN0ZXBJY29uc1Byb3BlcnR5XCI+PC9hPlxuICAgKlxuICAgKiBIYWJpbGl0YSBhIGV4aWJpw6fDo28gZGUgw61jb25lIGFvIGludsOpcyBkZSBuw7ptZXJvIG5vIGNlbnRybyBkbyBjw61yY3VsbyBkb3MgKnN0ZXBzKi5cbiAgICpcbiAgICogQGRlZmF1bHQgYGZhbHNlYFxuICAgKi9cbiAgQElucHV0KCdwLXN0ZXAtaWNvbnMnKSBzdGVwSWNvbnM6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogRGVmaW5lIG8gdGFtYW5obyBkb3MgKnN0ZXBzKiBlbSAqcGl4ZWxzKiwgcG9zc2liaWxpdGFuZG8gdW0gbWFpb3IgZGVzdGFxdWUuXG4gICAqXG4gICAqIE8gdmFsb3IgaW5mb3JtYWRvIGRldmUgc2VyIGVudHJlIGAyNGAgZSBgNjRgLlxuICAgKlxuICAgKiA+IFZhbG9yZXMgcXVlIG7Do28gc2UgZW5xdWFkcmFyZW0gYSBlc3RhIHJlZ3JhIHNlcsOjbyBpZ25vcmFkb3MsIG1hbnRlbmRvLXNlIG8gdmFsb3IgKmRlZmF1bHQqLlxuICAgKlxuICAgKiBAZGVmYXVsdCBgMjRgXG4gICAqL1xuICBASW5wdXQoJ3Atc3RlcC1zaXplJykgc3RlcFNpemU6IG51bWJlcjtcblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBEZWZpbmUgc2UgbyBgcG8tc3RlcHBlcmAgc2Vyw6Egc2VxdWVuY2lhbCBvdSBhbGVhdMOzcmlvLlxuICAgKlxuICAgKiA+IEFvIHV0aWxpemFyIG8gY29tcG9uZW50ZSBbKipwby1zdGVwKipdKC9kb2N1bWVudGF0aW9uL3BvLXN0ZXApLCBvIHZhbG9yIGRlc3RhIHByb3ByaWVkYWRlIHNlbXByZSBzZXLDoSB2ZXJkYWRlaXJvLlxuICAgKlxuICAgKiBAZGVmYXVsdCBgdHJ1ZWBcbiAgICovXG4gIEBJbnB1dCgncC1zZXF1ZW50aWFsJykgc2V0IHNlcXVlbnRpYWwoc2VxdWVudGlhbDogYm9vbGVhbikge1xuICAgIHRoaXMuX3NlcXVlbnRpYWwgPSBjb252ZXJ0VG9Cb29sZWFuKHNlcXVlbnRpYWwpO1xuICB9XG5cbiAgZ2V0IHNlcXVlbnRpYWwoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX3NlcXVlbnRpYWw7XG4gIH1cblxuICAvKiogQcOnw6NvIHF1ZSBzZXLDoSBleGVjdXRhZGEgcXVhbmRvIG8gdXN1w6FyaW8gbXVkYXIgbyBwYXNzbyBkbyBgcG8tc3RlcHBlcmAuICovXG4gIEBPdXRwdXQoJ3AtY2hhbmdlLXN0ZXAnKSBvbkNoYW5nZVN0ZXAgPSBuZXcgRXZlbnRFbWl0dGVyPG51bWJlciB8IFBvU3RlcENvbXBvbmVudD4oKTtcblxufVxuIl19