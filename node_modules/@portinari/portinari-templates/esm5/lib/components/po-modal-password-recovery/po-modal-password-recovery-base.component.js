/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { EventEmitter, Input, Output } from '@angular/core';
import { browserLanguage, poLocaleDefault } from '../../utils/util';
import { poModalPasswordRecoveryLiterals } from './literals/i18n/po-modal-password-recovery-literals';
import { PoModalPasswordRecoveryType } from './enums/po-modal-password-recovery-type.enum';
/** @type {?} */
var PoModalPasswordRecoveryDefaultMaxLength = 15;
/** @type {?} */
var PoModalPasswordRecoveryDefaultMinLength = 15;
/** @type {?} */
var PoModalPasswordRecoveryDefaultPhone = '(99) 99999-9999';
/** @type {?} */
var PoModalPasswordRecoveryTypeDefault = PoModalPasswordRecoveryType.Email;
/**
 * \@description
 *
 * O componente `po-modal-password-recovery` é utilizado como template para solicitação de troca de senha.
 *
 * É composto por uma modal que possui três telas, cada uma com as seguintes características:
 *
 * - A primeira possui campos para preenchimento de email ou número de telefone;
 * - Tela com campo para preenchimento de código SMS enviado para o número de telefone enviado;
 * - A terceira se trata de uma confirmação de envio de link para a caixa de email do usuário.
 *
 *
 * A propriedade `p-url-recovery` automatiza a rotina do componente e simplifica o processo
 * para recuperação de senha, bastando definir uma url para requisição dos recursos.
 * Seu detalhamento para uso pode ser visto logo abaixo em *propriedades*.
 * Caso julgue necessário, pode-se também definir manualmente a rotina do componente.
 *
 *
 * Para a modal de digitação de código SMS, é possível definir uma mensagem de erro
 * customizada com a propriedade `p-code-error` e há um link para
 * reenvio de código por SMS. Ao reenviar, o evento `p-code-submit` envia um objeto com o telefone do usuário e a quantidade
 * de vezes em que o usuário fez a solicitação de reenvio.
 *
 * > É indicada a utilização da tela de digitação para envio de código SMS apenas
 * se a opção por envio SMS for disponibilizada para o usuário.
 *
 *
 * A modal de confirmação contém uma ação de reenvio e o evento `p-submit`
 * é quem passa o objeto contendo o email em conjunto com a quantidade de tentativas de reenvio.
 *
 * > A tela de confirmação é indicada para quando o usuário solicitar a troca através do email.
 *
 * > Os textos das modals são pré-definidos, imutáveis e são traduzidos de acordo com o idioma do *browser* (pt, en e es)
 *
 * Para que as imagens sejam exibidas corretamente, é necessário incluir o caminho delas ao projeto. Para isso, edite
 * o *assets* no arquivo **angular.json** da aplicação na seguinte ordem:
 * ```
 *   "assets": [
 *     "src/assets",
 *     "src/favicon.ico",
 *     {
 *       "glob": "**\/*",
 *       "input": "node_modules/\@portinari/style/images",
 *       "output": "assets/images"
 *     }
 *   ]
 * ```
 * @abstract
 */
var PoModalPasswordRecoveryBaseComponent = /** @class */ (function () {
    function PoModalPasswordRecoveryBaseComponent() {
        this._phoneMask = PoModalPasswordRecoveryDefaultPhone;
        this._type = PoModalPasswordRecoveryTypeDefault;
        this.maxLength = PoModalPasswordRecoveryDefaultMaxLength;
        this.minLength = PoModalPasswordRecoveryDefaultMinLength;
        this.literals = tslib_1.__assign({}, poModalPasswordRecoveryLiterals[poLocaleDefault], poModalPasswordRecoveryLiterals[browserLanguage()]);
        /**
         * \@optional
         *
         * \@description
         *
         * Ação contendo como parâmetro o código enviado por SMS e digitado pelo usuário.
         *
         * > Esta propriedade será ignorada se for definido valor para a propriedade `p-url-recovery`.
         */
        this.codeSubmit = new EventEmitter();
        /**
         * \@optional
         *
         * \@description
         *
         * Ação contendo o email como parâmetro e que é executada quando o usuário clica sobres os botões de 'enviar' e 'reenviar' e-mail.
         *
         * > Esta propriedade será ignorada se for definido valor para a propriedade `p-url-recovery`.
         */
        this.submit = new EventEmitter();
    }
    Object.defineProperty(PoModalPasswordRecoveryBaseComponent.prototype, "contactEmail", {
        get: /**
         * @return {?}
         */
        function () {
            return this._contactEmail;
        },
        /**
         * @optional
         *
         * @description
         *
         * Definição do e-mail que é exibido na mensagem para contato de suporte.
         */
        set: /**
         * \@optional
         *
         * \@description
         *
         * Definição do e-mail que é exibido na mensagem para contato de suporte.
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._contactEmail = value;
            this.smsCodeErrorMessage = this.concatenateSMSErrorMessage(value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PoModalPasswordRecoveryBaseComponent.prototype, "phoneMask", {
        get: /**
         * @return {?}
         */
        function () {
            return this._phoneMask;
        },
        /**
         * @optional
         *
         * @description
         *
         * Definição da mascara do campo de telefone.
         *
         * @default `(99) 99999-9999`
         */
        set: /**
         * \@optional
         *
         * \@description
         *
         * Definição da mascara do campo de telefone.
         *
         * \@default `(99) 99999-9999`
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._phoneMask = value || PoModalPasswordRecoveryDefaultPhone;
            this.minLength = this.maxLength = this._phoneMask.length;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PoModalPasswordRecoveryBaseComponent.prototype, "type", {
        get: /**
         * @return {?}
         */
        function () {
            return this._type;
        },
        /**
         * @optional
         *
         * @description
         *
         * Define o tipo de recuperação de senha que será exibido.
         *
         * @default `PoModalPasswordRecoveryType.Email`
         *
         */
        set: /**
         * \@optional
         *
         * \@description
         *
         * Define o tipo de recuperação de senha que será exibido.
         *
         * \@default `PoModalPasswordRecoveryType.Email`
         *
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._type = ((/** @type {?} */ (Object))).values(PoModalPasswordRecoveryType).includes(value) ? value : PoModalPasswordRecoveryTypeDefault;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @private
     * @param {?} value
     * @return {?}
     */
    PoModalPasswordRecoveryBaseComponent.prototype.concatenateSMSErrorMessage = /**
     * @private
     * @param {?} value
     * @return {?}
     */
    function (value) {
        /** @type {?} */
        var literalCodeErrorMessage = this.literals.smsCodeErrorMessagePhrase;
        return value && value !== '' ? literalCodeErrorMessage + " " + this.literals.prepositionIn + " " + value + "." : literalCodeErrorMessage;
    };
    PoModalPasswordRecoveryBaseComponent.propDecorators = {
        contactEmail: [{ type: Input, args: ['p-contact-email',] }],
        codeError: [{ type: Input, args: ['p-code-error',] }],
        phoneMask: [{ type: Input, args: ['p-phone-mask',] }],
        type: [{ type: Input, args: ['p-type',] }],
        urlRecovery: [{ type: Input, args: ['p-url-recovery',] }],
        codeSubmit: [{ type: Output, args: ['p-code-submit',] }],
        submit: [{ type: Output, args: ['p-submit',] }]
    };
    return PoModalPasswordRecoveryBaseComponent;
}());
export { PoModalPasswordRecoveryBaseComponent };
if (false) {
    /**
     * @type {?}
     * @private
     */
    PoModalPasswordRecoveryBaseComponent.prototype._contactEmail;
    /**
     * @type {?}
     * @private
     */
    PoModalPasswordRecoveryBaseComponent.prototype._phoneMask;
    /**
     * @type {?}
     * @private
     */
    PoModalPasswordRecoveryBaseComponent.prototype._type;
    /** @type {?} */
    PoModalPasswordRecoveryBaseComponent.prototype.email;
    /** @type {?} */
    PoModalPasswordRecoveryBaseComponent.prototype.maxLength;
    /** @type {?} */
    PoModalPasswordRecoveryBaseComponent.prototype.minLength;
    /** @type {?} */
    PoModalPasswordRecoveryBaseComponent.prototype.modalPasswordRecoveryTypeAll;
    /** @type {?} */
    PoModalPasswordRecoveryBaseComponent.prototype.phone;
    /** @type {?} */
    PoModalPasswordRecoveryBaseComponent.prototype.smsCode;
    /** @type {?} */
    PoModalPasswordRecoveryBaseComponent.prototype.smsCodeErrorMessage;
    /** @type {?} */
    PoModalPasswordRecoveryBaseComponent.prototype.literals;
    /**
     * \@optional
     *
     * \@description
     *
     * Definição de mensagem de erro customizada para quando o usuário passar um código SMS inválido ou errado.
     * @type {?}
     */
    PoModalPasswordRecoveryBaseComponent.prototype.codeError;
    /**
     * \@optional
     *
     * \@description
     *
     * Endpoint usado pelo template para requisição do recurso. Quando preenchido,
     * o métodos `p-submit` e `p-submit-code` serão ignorados e o componente adquirirá automatização
     * para o processo de solicitação de troca de senha.
     *
     * ### Processos
     * Ao digitar um valor válido no campo de email/telefone e pressionar **enviar**,
     * o componente fará uma requisição `POST` na url especificada nesta propriedade passando o objeto contendo o valor definido pelo usuário.
     *
     * ```
     * body {
     *  email: email,
     *  retry?: retry
     * }
     * ```
     *
     *
     * #### Recuperação por email
     * Para a recuperação de senha por **email**, o código de resposta HTTP de status esperado é `204`.
     *
     * Em caso de **sucesso**, será exibida a modal de confirmação de e-mail para o usuário.
     *
     *
     * > A ação **Reenviar** na tela de confirmação efetua uma nova requisição
     * passando-se o objeto com incremento para o valor da propriedade **retry**.
     *
     * *Processo finalizado.*
     *
     *
     * #### Recuperação por SMS
     * Se a opção de recuperação for por **SMS**, o código de status de sucesso deve ser `200`.
     * Em caso de **sucesso**, abre-se a modal de digitação de código SMS e a resposta
     * desta requisição deve retornar uma definição de dados abaixo:
     *
     * ```
     * 200:
     *  {
     *    hash: hash,
     *    urlValidationCode?: url
     *  }
     * ```
     *
     *
     * - O **hash** será o código de validação da solicitação do SMS para ser enviado juntamente com o código de verificação do SMS;
     * - **urlValidationCode** é a url usada para validação do código enviado por SMS.
     *
     *
     * > Caso não seja passado urlValidationCode, o endpoint usado para validação do código será `<p-url-recovery>/validation`.
     *
     *
     * #### Validação do código SMS
     * Ao digitar um valor válido no campo de código SMS e pressionar **continuar**, o componente fará uma requisição `POST` contendo:
     *
     * ```
     * POST /<p-url-recovery>/validation OU /<urlValidationCode>
     * Body {
     *  hash: hash,
     *  code: code
     * }
     * ```
     *
     *
     * O código de resposta HTTP de status esperado é `200`.
     *
     * Em caso de **erro** na validação do código SMS, a modal se mantém com o campo para digitação
     * de código SMS
     *
     *
     * > Pode-se atribuir a mensagem de erro (message) para o atributo `p-code-error` conforme retorno abaixo:
     *
     * ```
     * 400
     *  {
     *    error {
     *      message: 'Error Message'
     *    }
     *  }
     * ```
     *
     *
     * Em caso de **sucesso**, espera-se a resposta desta requisição retornando a seguinte definição:
     *
     * ```
     * 200:
     *  {
     *    token: token,
     *    urlChangePassword?: url
     *  }
     * ```
     *
     *
     * - **token**: Token de alteração de senha;
     * - **urlChangePassword**: url para o formulário de alteração de senha.
     *
     *
     * O componente está configurado para redirecionar para a url estabelecida em `urlChangePassword`.
     *
     * > Caso não seja passado valor para urlChangePassword,
     * a url usada para validação será a `<p-url-recovery>/changePassword?token=<token>`.
     *
     * *Processo finalizado.*
     * @type {?}
     */
    PoModalPasswordRecoveryBaseComponent.prototype.urlRecovery;
    /**
     * \@optional
     *
     * \@description
     *
     * Ação contendo como parâmetro o código enviado por SMS e digitado pelo usuário.
     *
     * > Esta propriedade será ignorada se for definido valor para a propriedade `p-url-recovery`.
     * @type {?}
     */
    PoModalPasswordRecoveryBaseComponent.prototype.codeSubmit;
    /**
     * \@optional
     *
     * \@description
     *
     * Ação contendo o email como parâmetro e que é executada quando o usuário clica sobres os botões de 'enviar' e 'reenviar' e-mail.
     *
     * > Esta propriedade será ignorada se for definido valor para a propriedade `p-url-recovery`.
     * @type {?}
     */
    PoModalPasswordRecoveryBaseComponent.prototype.submit;
    /**
     * Acão para conclusão de processo e fechamento da modal. Indica-se sua utilização
     * para após o envio e validação do código SMS enviado pelo usuário.
     *
     * > Nas modals em que há a ação de 'cancelar' dispensa-se o uso desta ação pois o componente já trata o fechamento da modal.
     * @abstract
     * @return {?}
     */
    PoModalPasswordRecoveryBaseComponent.prototype.completed = function () { };
    /**
     * Abre a modal de preenchimento de email ou número de telefone para solicitação de troca de senha.
     * @abstract
     * @return {?}
     */
    PoModalPasswordRecoveryBaseComponent.prototype.open = function () { };
    /**
     * Abre a modal de confirmação de envio de email.
     * @abstract
     * @return {?}
     */
    PoModalPasswordRecoveryBaseComponent.prototype.openConfirmation = function () { };
    /**
     * Abre a modal de preenchimento do código SMS enviado ao usuário.
     * @abstract
     * @return {?}
     */
    PoModalPasswordRecoveryBaseComponent.prototype.openSmsCode = function () { };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tbW9kYWwtcGFzc3dvcmQtcmVjb3ZlcnktYmFzZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AcG9ydGluYXJpL3BvcnRpbmFyaS10ZW1wbGF0ZXMvIiwic291cmNlcyI6WyJsaWIvY29tcG9uZW50cy9wby1tb2RhbC1wYXNzd29yZC1yZWNvdmVyeS9wby1tb2RhbC1wYXNzd29yZC1yZWNvdmVyeS1iYXNlLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUU1RCxPQUFPLEVBQUUsZUFBZSxFQUFFLGVBQWUsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBRXBFLE9BQU8sRUFBRSwrQkFBK0IsRUFBRSxNQUFNLHFEQUFxRCxDQUFDO0FBQ3RHLE9BQU8sRUFBRSwyQkFBMkIsRUFBRSxNQUFNLDhDQUE4QyxDQUFDOztJQUVyRix1Q0FBdUMsR0FBRyxFQUFFOztJQUM1Qyx1Q0FBdUMsR0FBRyxFQUFFOztJQUM1QyxtQ0FBbUMsR0FBRyxpQkFBaUI7O0lBQ3ZELGtDQUFrQyxHQUFnQywyQkFBMkIsQ0FBQyxLQUFLOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWtEekc7SUFBQTtRQUdVLGVBQVUsR0FBRyxtQ0FBbUMsQ0FBQztRQUNqRCxVQUFLLEdBQWdDLGtDQUFrQyxDQUFDO1FBR2hGLGNBQVMsR0FBRyx1Q0FBdUMsQ0FBQztRQUNwRCxjQUFTLEdBQUcsdUNBQXVDLENBQUM7UUFNcEQsYUFBUSx3QkFPRCwrQkFBK0IsQ0FBQyxlQUFlLENBQUMsRUFDaEQsK0JBQStCLENBQUMsZUFBZSxFQUFFLENBQUMsRUFDckQ7Ozs7Ozs7Ozs7UUFxTHFCLGVBQVUsR0FBRyxJQUFJLFlBQVksRUFBTyxDQUFDOzs7Ozs7Ozs7O1FBVzFDLFdBQU0sR0FBRyxJQUFJLFlBQVksRUFBTyxDQUFDO0lBK0J2RCxDQUFDO0lBdE5DLHNCQUE4Qiw4REFBWTs7OztRQU0xQztZQUNFLE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQztRQUM1QixDQUFDO1FBZkQ7Ozs7OztXQU1HOzs7Ozs7Ozs7O1FBQ0gsVUFBMkMsS0FBYTtZQUN0RCxJQUFJLENBQUMsYUFBYSxHQUFHLEtBQUssQ0FBQztZQUUzQixJQUFJLENBQUMsbUJBQW1CLEdBQUcsSUFBSSxDQUFDLDBCQUEwQixDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3BFLENBQUM7OztPQUFBO0lBd0JELHNCQUEyQiwyREFBUzs7OztRQUtwQztZQUNFLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQztRQUN6QixDQUFDO1FBaEJEOzs7Ozs7OztXQVFHOzs7Ozs7Ozs7Ozs7UUFDSCxVQUFxQyxLQUFhO1lBQ2hELElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxJQUFJLG1DQUFtQyxDQUFDO1lBQy9ELElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQztRQUMzRCxDQUFDOzs7T0FBQTtJQWdCRCxzQkFBcUIsc0RBQUk7Ozs7UUFJekI7WUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDcEIsQ0FBQztRQWhCRDs7Ozs7Ozs7O1dBU0c7Ozs7Ozs7Ozs7Ozs7UUFDSCxVQUEwQixLQUFrQztZQUMxRCxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsbUJBQUssTUFBTSxFQUFBLENBQUMsQ0FBQyxNQUFNLENBQUMsMkJBQTJCLENBQUMsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsa0NBQWtDLENBQUM7UUFDOUgsQ0FBQzs7O09BQUE7Ozs7OztJQStKTyx5RUFBMEI7Ozs7O0lBQWxDLFVBQW1DLEtBQWE7O1lBQ3hDLHVCQUF1QixHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMseUJBQXlCO1FBRXZFLE9BQU8sS0FBSyxJQUFJLEtBQUssS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFJLHVCQUF1QixTQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsYUFBYSxTQUFJLEtBQUssTUFBRyxDQUFDLENBQUMsQ0FBQyx1QkFBdUIsQ0FBQztJQUNqSSxDQUFDOzsrQkFwTkEsS0FBSyxTQUFDLGlCQUFpQjs0QkFpQnZCLEtBQUssU0FBQyxjQUFjOzRCQVdwQixLQUFLLFNBQUMsY0FBYzt1QkFtQnBCLEtBQUssU0FBQyxRQUFROzhCQWtIZCxLQUFLLFNBQUMsZ0JBQWdCOzZCQVd0QixNQUFNLFNBQUMsZUFBZTt5QkFXdEIsTUFBTSxTQUFDLFVBQVU7O0lBK0JwQiwyQ0FBQztDQUFBLEFBdFBELElBc1BDO1NBdFBxQixvQ0FBb0M7Ozs7OztJQUV4RCw2REFBOEI7Ozs7O0lBQzlCLDBEQUF5RDs7Ozs7SUFDekQscURBQWdGOztJQUVoRixxREFBYzs7SUFDZCx5REFBb0Q7O0lBQ3BELHlEQUFvRDs7SUFDcEQsNEVBQXNDOztJQUN0QyxxREFBYzs7SUFDZCx1REFBZ0I7O0lBQ2hCLG1FQUE0Qjs7SUFFNUIsd0RBU0k7Ozs7Ozs7OztJQTBCSix5REFBeUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQWdKekMsMkRBQThDOzs7Ozs7Ozs7OztJQVc5QywwREFBOEQ7Ozs7Ozs7Ozs7O0lBVzlELHNEQUFxRDs7Ozs7Ozs7O0lBUXJELDJFQUEyQjs7Ozs7O0lBSzNCLHNFQUFzQjs7Ozs7O0lBS3RCLGtGQUFrQzs7Ozs7O0lBS2xDLDZFQUE2QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV2ZW50RW1pdHRlciwgSW5wdXQsIE91dHB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5cclxuaW1wb3J0IHsgYnJvd3Nlckxhbmd1YWdlLCBwb0xvY2FsZURlZmF1bHQgfSBmcm9tICcuLi8uLi91dGlscy91dGlsJztcclxuXHJcbmltcG9ydCB7IHBvTW9kYWxQYXNzd29yZFJlY292ZXJ5TGl0ZXJhbHMgfSBmcm9tICcuL2xpdGVyYWxzL2kxOG4vcG8tbW9kYWwtcGFzc3dvcmQtcmVjb3ZlcnktbGl0ZXJhbHMnO1xyXG5pbXBvcnQgeyBQb01vZGFsUGFzc3dvcmRSZWNvdmVyeVR5cGUgfSBmcm9tICcuL2VudW1zL3BvLW1vZGFsLXBhc3N3b3JkLXJlY292ZXJ5LXR5cGUuZW51bSc7XHJcblxyXG5jb25zdCBQb01vZGFsUGFzc3dvcmRSZWNvdmVyeURlZmF1bHRNYXhMZW5ndGggPSAxNTtcclxuY29uc3QgUG9Nb2RhbFBhc3N3b3JkUmVjb3ZlcnlEZWZhdWx0TWluTGVuZ3RoID0gMTU7XHJcbmNvbnN0IFBvTW9kYWxQYXNzd29yZFJlY292ZXJ5RGVmYXVsdFBob25lID0gJyg5OSkgOTk5OTktOTk5OSc7XHJcbmNvbnN0IFBvTW9kYWxQYXNzd29yZFJlY292ZXJ5VHlwZURlZmF1bHQ6IFBvTW9kYWxQYXNzd29yZFJlY292ZXJ5VHlwZSA9IFBvTW9kYWxQYXNzd29yZFJlY292ZXJ5VHlwZS5FbWFpbDtcclxuXHJcbi8qKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogTyBjb21wb25lbnRlIGBwby1tb2RhbC1wYXNzd29yZC1yZWNvdmVyeWAgw6kgdXRpbGl6YWRvIGNvbW8gdGVtcGxhdGUgcGFyYSBzb2xpY2l0YcOnw6NvIGRlIHRyb2NhIGRlIHNlbmhhLlxyXG4gKlxyXG4gKiDDiSBjb21wb3N0byBwb3IgdW1hIG1vZGFsIHF1ZSBwb3NzdWkgdHLDqnMgdGVsYXMsIGNhZGEgdW1hIGNvbSBhcyBzZWd1aW50ZXMgY2FyYWN0ZXLDrXN0aWNhczpcclxuICpcclxuICogLSBBIHByaW1laXJhIHBvc3N1aSBjYW1wb3MgcGFyYSBwcmVlbmNoaW1lbnRvIGRlIGVtYWlsIG91IG7Dum1lcm8gZGUgdGVsZWZvbmU7XHJcbiAqIC0gVGVsYSBjb20gY2FtcG8gcGFyYSBwcmVlbmNoaW1lbnRvIGRlIGPDs2RpZ28gU01TIGVudmlhZG8gcGFyYSBvIG7Dum1lcm8gZGUgdGVsZWZvbmUgZW52aWFkbztcclxuICogLSBBIHRlcmNlaXJhIHNlIHRyYXRhIGRlIHVtYSBjb25maXJtYcOnw6NvIGRlIGVudmlvIGRlIGxpbmsgcGFyYSBhIGNhaXhhIGRlIGVtYWlsIGRvIHVzdcOhcmlvLlxyXG4gKlxyXG4gKlxyXG4gKiBBIHByb3ByaWVkYWRlIGBwLXVybC1yZWNvdmVyeWAgYXV0b21hdGl6YSBhIHJvdGluYSBkbyBjb21wb25lbnRlIGUgc2ltcGxpZmljYSBvIHByb2Nlc3NvXHJcbiAqIHBhcmEgcmVjdXBlcmHDp8OjbyBkZSBzZW5oYSwgYmFzdGFuZG8gZGVmaW5pciB1bWEgdXJsIHBhcmEgcmVxdWlzacOnw6NvIGRvcyByZWN1cnNvcy5cclxuICogU2V1IGRldGFsaGFtZW50byBwYXJhIHVzbyBwb2RlIHNlciB2aXN0byBsb2dvIGFiYWl4byBlbSAqcHJvcHJpZWRhZGVzKi5cclxuICogQ2FzbyBqdWxndWUgbmVjZXNzw6FyaW8sIHBvZGUtc2UgdGFtYsOpbSBkZWZpbmlyIG1hbnVhbG1lbnRlIGEgcm90aW5hIGRvIGNvbXBvbmVudGUuXHJcbiAqXHJcbiAqXHJcbiAqIFBhcmEgYSBtb2RhbCBkZSBkaWdpdGHDp8OjbyBkZSBjw7NkaWdvIFNNUywgw6kgcG9zc8OtdmVsIGRlZmluaXIgdW1hIG1lbnNhZ2VtIGRlIGVycm9cclxuICogY3VzdG9taXphZGEgY29tIGEgcHJvcHJpZWRhZGUgYHAtY29kZS1lcnJvcmAgZSBow6EgdW0gbGluayBwYXJhXHJcbiAqIHJlZW52aW8gZGUgY8OzZGlnbyBwb3IgU01TLiBBbyByZWVudmlhciwgbyBldmVudG8gYHAtY29kZS1zdWJtaXRgIGVudmlhIHVtIG9iamV0byBjb20gbyB0ZWxlZm9uZSBkbyB1c3XDoXJpbyBlIGEgcXVhbnRpZGFkZVxyXG4gKiBkZSB2ZXplcyBlbSBxdWUgbyB1c3XDoXJpbyBmZXogYSBzb2xpY2l0YcOnw6NvIGRlIHJlZW52aW8uXHJcbiAqXHJcbiAqID4gw4kgaW5kaWNhZGEgYSB1dGlsaXphw6fDo28gZGEgdGVsYSBkZSBkaWdpdGHDp8OjbyBwYXJhIGVudmlvIGRlIGPDs2RpZ28gU01TIGFwZW5hc1xyXG4gKiBzZSBhIG9ww6fDo28gcG9yIGVudmlvIFNNUyBmb3IgZGlzcG9uaWJpbGl6YWRhIHBhcmEgbyB1c3XDoXJpby5cclxuICpcclxuICpcclxuICogQSBtb2RhbCBkZSBjb25maXJtYcOnw6NvIGNvbnTDqW0gdW1hIGHDp8OjbyBkZSByZWVudmlvIGUgbyBldmVudG8gYHAtc3VibWl0YFxyXG4gKiDDqSBxdWVtIHBhc3NhIG8gb2JqZXRvIGNvbnRlbmRvIG8gZW1haWwgZW0gY29uanVudG8gY29tIGEgcXVhbnRpZGFkZSBkZSB0ZW50YXRpdmFzIGRlIHJlZW52aW8uXHJcbiAqXHJcbiAqID4gQSB0ZWxhIGRlIGNvbmZpcm1hw6fDo28gw6kgaW5kaWNhZGEgcGFyYSBxdWFuZG8gbyB1c3XDoXJpbyBzb2xpY2l0YXIgYSB0cm9jYSBhdHJhdsOpcyBkbyBlbWFpbC5cclxuICpcclxuICogPiBPcyB0ZXh0b3MgZGFzIG1vZGFscyBzw6NvIHByw6ktZGVmaW5pZG9zLCBpbXV0w6F2ZWlzIGUgc8OjbyB0cmFkdXppZG9zIGRlIGFjb3JkbyBjb20gbyBpZGlvbWEgZG8gKmJyb3dzZXIqIChwdCwgZW4gZSBlcylcclxuICpcclxuICogUGFyYSBxdWUgYXMgaW1hZ2VucyBzZWphbSBleGliaWRhcyBjb3JyZXRhbWVudGUsIMOpIG5lY2Vzc8OhcmlvIGluY2x1aXIgbyBjYW1pbmhvIGRlbGFzIGFvIHByb2pldG8uIFBhcmEgaXNzbywgZWRpdGVcclxuICogbyAqYXNzZXRzKiBubyBhcnF1aXZvICoqYW5ndWxhci5qc29uKiogZGEgYXBsaWNhw6fDo28gbmEgc2VndWludGUgb3JkZW06XHJcbiAqIGBgYFxyXG4gKiAgIFwiYXNzZXRzXCI6IFtcclxuICogICAgIFwic3JjL2Fzc2V0c1wiLFxyXG4gKiAgICAgXCJzcmMvZmF2aWNvbi5pY29cIixcclxuICogICAgIHtcclxuICogICAgICAgXCJnbG9iXCI6IFwiKipcXC8qXCIsXHJcbiAqICAgICAgIFwiaW5wdXRcIjogXCJub2RlX21vZHVsZXMvQHBvcnRpbmFyaS9zdHlsZS9pbWFnZXNcIixcclxuICogICAgICAgXCJvdXRwdXRcIjogXCJhc3NldHMvaW1hZ2VzXCJcclxuICogICAgIH1cclxuICogICBdXHJcbiAqIGBgYFxyXG4gKi9cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFBvTW9kYWxQYXNzd29yZFJlY292ZXJ5QmFzZUNvbXBvbmVudCB7XHJcblxyXG4gIHByaXZhdGUgX2NvbnRhY3RFbWFpbDogc3RyaW5nO1xyXG4gIHByaXZhdGUgX3Bob25lTWFzayA9IFBvTW9kYWxQYXNzd29yZFJlY292ZXJ5RGVmYXVsdFBob25lO1xyXG4gIHByaXZhdGUgX3R5cGU6IFBvTW9kYWxQYXNzd29yZFJlY292ZXJ5VHlwZSA9IFBvTW9kYWxQYXNzd29yZFJlY292ZXJ5VHlwZURlZmF1bHQ7XHJcblxyXG4gIGVtYWlsOiBzdHJpbmc7XHJcbiAgbWF4TGVuZ3RoID0gUG9Nb2RhbFBhc3N3b3JkUmVjb3ZlcnlEZWZhdWx0TWF4TGVuZ3RoO1xyXG4gIG1pbkxlbmd0aCA9IFBvTW9kYWxQYXNzd29yZFJlY292ZXJ5RGVmYXVsdE1pbkxlbmd0aDtcclxuICBtb2RhbFBhc3N3b3JkUmVjb3ZlcnlUeXBlQWxsOiBib29sZWFuO1xyXG4gIHBob25lOiBzdHJpbmc7XHJcbiAgc21zQ29kZTogc3RyaW5nO1xyXG4gIHNtc0NvZGVFcnJvck1lc3NhZ2U6IHN0cmluZztcclxuXHJcbiAgbGl0ZXJhbHM6IHsgY2FuY2VsQnV0dG9uOiBzdHJpbmcsIGNsb3NlQnV0dG9uOiBzdHJpbmcsIGNvbnRpbnVlQnV0dG9uOiBzdHJpbmcsIGVtYWlsOiBzdHJpbmcsIGVtYWlsRXJyb3JNZXNzYWdlUGhyYXNlOiBzdHJpbmcsXHJcbiAgICBlbWFpbFNlbnRDb25maXJtYXRpb25QaHJhc2U6IHN0cmluZywgZW1haWxTZW50VGl0bGU6IHN0cmluZywgZm9yZ290UGFzc3dvcmRUaXRsZTogc3RyaW5nLFxyXG4gICAgaW5zZXJ0Q29kZTogc3RyaW5nLCBpbnNlcnRFbWFpbDogc3RyaW5nLCBpbnNlcnRQaG9uZTogc3RyaW5nLCBwaG9uZUVycm9yTWVzc2FnZVBocmFzZTogc3RyaW5nLFxyXG4gICAgcHJlcG9zaXRpb25Jbjogc3RyaW5nLCBwcmVwb3NpdGlvbk9yOiBzdHJpbmcsIHJlY292ZXJ5UGFzc3dvcmRQaHJhc2U6IHN0cmluZywgcmVzZW5kRW1haWxCdXR0b246IHN0cmluZyxcclxuICAgIHJlc2VuZFNtc0NvZGVQaHJhc2U6IHN0cmluZywgc2VuZEFnYWluOiBzdHJpbmcsIHNlbmRBZ2FpblBocmFzZTogc3RyaW5nLCBzZW5kQnV0dG9uOiBzdHJpbmcsIHNtczogc3RyaW5nLCBzbXNDb2RlOiBzdHJpbmcsXHJcbiAgICBzbXNDb2RlRXJyb3JNZXNzYWdlUGhyYXNlOiBzdHJpbmcsIHNlbnRTbXNDb2RlUGhyYXNlOiBzdHJpbmcsIHN1cHBvcnRDb250YWN0OiBzdHJpbmcsIHRlbGVwaG9uZTogc3RyaW5nLCB0eXBlQ29kZVRpdGxlOiBzdHJpbmcgfSA9XHJcbiAgICB7XHJcbiAgICAgIC4uLnBvTW9kYWxQYXNzd29yZFJlY292ZXJ5TGl0ZXJhbHNbcG9Mb2NhbGVEZWZhdWx0XSxcclxuICAgICAgLi4ucG9Nb2RhbFBhc3N3b3JkUmVjb3ZlcnlMaXRlcmFsc1ticm93c2VyTGFuZ3VhZ2UoKV0sXHJcbiAgICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAb3B0aW9uYWxcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqXHJcbiAgICogRGVmaW5pw6fDo28gZG8gZS1tYWlsIHF1ZSDDqSBleGliaWRvIG5hIG1lbnNhZ2VtIHBhcmEgY29udGF0byBkZSBzdXBvcnRlLlxyXG4gICAqL1xyXG4gIEBJbnB1dCgncC1jb250YWN0LWVtYWlsJykgc2V0IGNvbnRhY3RFbWFpbCh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICB0aGlzLl9jb250YWN0RW1haWwgPSB2YWx1ZTtcclxuXHJcbiAgICB0aGlzLnNtc0NvZGVFcnJvck1lc3NhZ2UgPSB0aGlzLmNvbmNhdGVuYXRlU01TRXJyb3JNZXNzYWdlKHZhbHVlKTtcclxuICB9XHJcblxyXG4gIGdldCBjb250YWN0RW1haWwoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY29udGFjdEVtYWlsO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG9wdGlvbmFsXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKlxyXG4gICAqIERlZmluacOnw6NvIGRlIG1lbnNhZ2VtIGRlIGVycm8gY3VzdG9taXphZGEgcGFyYSBxdWFuZG8gbyB1c3XDoXJpbyBwYXNzYXIgdW0gY8OzZGlnbyBTTVMgaW52w6FsaWRvIG91IGVycmFkby5cclxuICAgKi9cclxuICBASW5wdXQoJ3AtY29kZS1lcnJvcicpIGNvZGVFcnJvcjogc3RyaW5nO1xyXG5cclxuICAvKipcclxuICAgKiBAb3B0aW9uYWxcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqXHJcbiAgICogRGVmaW5pw6fDo28gZGEgbWFzY2FyYSBkbyBjYW1wbyBkZSB0ZWxlZm9uZS5cclxuICAgKlxyXG4gICAqIEBkZWZhdWx0IGAoOTkpIDk5OTk5LTk5OTlgXHJcbiAgICovXHJcbiAgQElucHV0KCdwLXBob25lLW1hc2snKSBzZXQgcGhvbmVNYXNrKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgIHRoaXMuX3Bob25lTWFzayA9IHZhbHVlIHx8IFBvTW9kYWxQYXNzd29yZFJlY292ZXJ5RGVmYXVsdFBob25lO1xyXG4gICAgdGhpcy5taW5MZW5ndGggPSB0aGlzLm1heExlbmd0aCA9IHRoaXMuX3Bob25lTWFzay5sZW5ndGg7XHJcbiAgfVxyXG5cclxuICBnZXQgcGhvbmVNYXNrKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3Bob25lTWFzaztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBvcHRpb25hbFxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICpcclxuICAgKiBEZWZpbmUgbyB0aXBvIGRlIHJlY3VwZXJhw6fDo28gZGUgc2VuaGEgcXVlIHNlcsOhIGV4aWJpZG8uXHJcbiAgICpcclxuICAgKiBAZGVmYXVsdCBgUG9Nb2RhbFBhc3N3b3JkUmVjb3ZlcnlUeXBlLkVtYWlsYFxyXG4gICAqXHJcbiAgICovXHJcbiAgQElucHV0KCdwLXR5cGUnKSBzZXQgdHlwZSh2YWx1ZTogUG9Nb2RhbFBhc3N3b3JkUmVjb3ZlcnlUeXBlKSB7XHJcbiAgICB0aGlzLl90eXBlID0gKDxhbnk+T2JqZWN0KS52YWx1ZXMoUG9Nb2RhbFBhc3N3b3JkUmVjb3ZlcnlUeXBlKS5pbmNsdWRlcyh2YWx1ZSkgPyB2YWx1ZSA6IFBvTW9kYWxQYXNzd29yZFJlY292ZXJ5VHlwZURlZmF1bHQ7XHJcbiAgfVxyXG5cclxuICBnZXQgdHlwZSgpIHtcclxuICAgIHJldHVybiB0aGlzLl90eXBlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG9wdGlvbmFsXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKlxyXG4gICAqIEVuZHBvaW50IHVzYWRvIHBlbG8gdGVtcGxhdGUgcGFyYSByZXF1aXNpw6fDo28gZG8gcmVjdXJzby4gUXVhbmRvIHByZWVuY2hpZG8sXHJcbiAgICogbyBtw6l0b2RvcyBgcC1zdWJtaXRgIGUgYHAtc3VibWl0LWNvZGVgIHNlcsOjbyBpZ25vcmFkb3MgZSBvIGNvbXBvbmVudGUgYWRxdWlyaXLDoSBhdXRvbWF0aXphw6fDo29cclxuICAgKiBwYXJhIG8gcHJvY2Vzc28gZGUgc29saWNpdGHDp8OjbyBkZSB0cm9jYSBkZSBzZW5oYS5cclxuICAgKlxyXG4gICAqICMjIyBQcm9jZXNzb3NcclxuICAgKiBBbyBkaWdpdGFyIHVtIHZhbG9yIHbDoWxpZG8gbm8gY2FtcG8gZGUgZW1haWwvdGVsZWZvbmUgZSBwcmVzc2lvbmFyICoqZW52aWFyKiosXHJcbiAgICogbyBjb21wb25lbnRlIGZhcsOhIHVtYSByZXF1aXNpw6fDo28gYFBPU1RgIG5hIHVybCBlc3BlY2lmaWNhZGEgbmVzdGEgcHJvcHJpZWRhZGUgcGFzc2FuZG8gbyBvYmpldG8gY29udGVuZG8gbyB2YWxvciBkZWZpbmlkbyBwZWxvIHVzdcOhcmlvLlxyXG4gICAqXHJcbiAgICogYGBgXHJcbiAgICogYm9keSB7XHJcbiAgICogIGVtYWlsOiBlbWFpbCxcclxuICAgKiAgcmV0cnk/OiByZXRyeVxyXG4gICAqIH1cclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqXHJcbiAgICogIyMjIyBSZWN1cGVyYcOnw6NvIHBvciBlbWFpbFxyXG4gICAqIFBhcmEgYSByZWN1cGVyYcOnw6NvIGRlIHNlbmhhIHBvciAqKmVtYWlsKiosIG8gY8OzZGlnbyBkZSByZXNwb3N0YSBIVFRQIGRlIHN0YXR1cyBlc3BlcmFkbyDDqSBgMjA0YC5cclxuICAgKlxyXG4gICAqIEVtIGNhc28gZGUgKipzdWNlc3NvKiosIHNlcsOhIGV4aWJpZGEgYSBtb2RhbCBkZSBjb25maXJtYcOnw6NvIGRlIGUtbWFpbCBwYXJhIG8gdXN1w6FyaW8uXHJcbiAgICpcclxuICAgKlxyXG4gICAqID4gQSBhw6fDo28gKipSZWVudmlhcioqIG5hIHRlbGEgZGUgY29uZmlybWHDp8OjbyBlZmV0dWEgdW1hIG5vdmEgcmVxdWlzacOnw6NvXHJcbiAgICogcGFzc2FuZG8tc2UgbyBvYmpldG8gY29tIGluY3JlbWVudG8gcGFyYSBvIHZhbG9yIGRhIHByb3ByaWVkYWRlICoqcmV0cnkqKi5cclxuICAgKlxyXG4gICAqICpQcm9jZXNzbyBmaW5hbGl6YWRvLipcclxuICAgKlxyXG4gICAqXHJcbiAgICogIyMjIyBSZWN1cGVyYcOnw6NvIHBvciBTTVNcclxuICAgKiBTZSBhIG9ww6fDo28gZGUgcmVjdXBlcmHDp8OjbyBmb3IgcG9yICoqU01TKiosIG8gY8OzZGlnbyBkZSBzdGF0dXMgZGUgc3VjZXNzbyBkZXZlIHNlciBgMjAwYC5cclxuICAgKiBFbSBjYXNvIGRlICoqc3VjZXNzbyoqLCBhYnJlLXNlIGEgbW9kYWwgZGUgZGlnaXRhw6fDo28gZGUgY8OzZGlnbyBTTVMgZSBhIHJlc3Bvc3RhXHJcbiAgICogZGVzdGEgcmVxdWlzacOnw6NvIGRldmUgcmV0b3JuYXIgdW1hIGRlZmluacOnw6NvIGRlIGRhZG9zIGFiYWl4bzpcclxuICAgKlxyXG4gICAqIGBgYFxyXG4gICAqIDIwMDpcclxuICAgKiAge1xyXG4gICAqICAgIGhhc2g6IGhhc2gsXHJcbiAgICogICAgdXJsVmFsaWRhdGlvbkNvZGU/OiB1cmxcclxuICAgKiAgfVxyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICpcclxuICAgKiAtIE8gKipoYXNoKiogc2Vyw6EgbyBjw7NkaWdvIGRlIHZhbGlkYcOnw6NvIGRhIHNvbGljaXRhw6fDo28gZG8gU01TIHBhcmEgc2VyIGVudmlhZG8ganVudGFtZW50ZSBjb20gbyBjw7NkaWdvIGRlIHZlcmlmaWNhw6fDo28gZG8gU01TO1xyXG4gICAqIC0gKip1cmxWYWxpZGF0aW9uQ29kZSoqIMOpIGEgdXJsIHVzYWRhIHBhcmEgdmFsaWRhw6fDo28gZG8gY8OzZGlnbyBlbnZpYWRvIHBvciBTTVMuXHJcbiAgICpcclxuICAgKlxyXG4gICAqID4gQ2FzbyBuw6NvIHNlamEgcGFzc2FkbyB1cmxWYWxpZGF0aW9uQ29kZSwgbyBlbmRwb2ludCB1c2FkbyBwYXJhIHZhbGlkYcOnw6NvIGRvIGPDs2RpZ28gc2Vyw6EgYDxwLXVybC1yZWNvdmVyeT4vdmFsaWRhdGlvbmAuXHJcbiAgICpcclxuICAgKlxyXG4gICAqICMjIyMgVmFsaWRhw6fDo28gZG8gY8OzZGlnbyBTTVNcclxuICAgKiBBbyBkaWdpdGFyIHVtIHZhbG9yIHbDoWxpZG8gbm8gY2FtcG8gZGUgY8OzZGlnbyBTTVMgZSBwcmVzc2lvbmFyICoqY29udGludWFyKiosIG8gY29tcG9uZW50ZSBmYXLDoSB1bWEgcmVxdWlzacOnw6NvIGBQT1NUYCBjb250ZW5kbzpcclxuICAgKlxyXG4gICAqIGBgYFxyXG4gICAqIFBPU1QgLzxwLXVybC1yZWNvdmVyeT4vdmFsaWRhdGlvbiBPVSAvPHVybFZhbGlkYXRpb25Db2RlPlxyXG4gICAqIEJvZHkge1xyXG4gICAqICBoYXNoOiBoYXNoLFxyXG4gICAqICBjb2RlOiBjb2RlXHJcbiAgICogfVxyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICpcclxuICAgKiBPIGPDs2RpZ28gZGUgcmVzcG9zdGEgSFRUUCBkZSBzdGF0dXMgZXNwZXJhZG8gw6kgYDIwMGAuXHJcbiAgICpcclxuICAgKiBFbSBjYXNvIGRlICoqZXJybyoqIG5hIHZhbGlkYcOnw6NvIGRvIGPDs2RpZ28gU01TLCBhIG1vZGFsIHNlIG1hbnTDqW0gY29tIG8gY2FtcG8gcGFyYSBkaWdpdGHDp8Ojb1xyXG4gICAqIGRlIGPDs2RpZ28gU01TXHJcbiAgICpcclxuICAgKlxyXG4gICAqID4gUG9kZS1zZSBhdHJpYnVpciBhIG1lbnNhZ2VtIGRlIGVycm8gKG1lc3NhZ2UpIHBhcmEgbyBhdHJpYnV0byBgcC1jb2RlLWVycm9yYCBjb25mb3JtZSByZXRvcm5vIGFiYWl4bzpcclxuICAgKlxyXG4gICAqIGBgYFxyXG4gICAqIDQwMFxyXG4gICAqICB7XHJcbiAgICogICAgZXJyb3Ige1xyXG4gICAqICAgICAgbWVzc2FnZTogJ0Vycm9yIE1lc3NhZ2UnXHJcbiAgICogICAgfVxyXG4gICAqICB9XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKlxyXG4gICAqIEVtIGNhc28gZGUgKipzdWNlc3NvKiosIGVzcGVyYS1zZSBhIHJlc3Bvc3RhIGRlc3RhIHJlcXVpc2nDp8OjbyByZXRvcm5hbmRvIGEgc2VndWludGUgZGVmaW5pw6fDo286XHJcbiAgICpcclxuICAgKiBgYGBcclxuICAgKiAyMDA6XHJcbiAgICogIHtcclxuICAgKiAgICB0b2tlbjogdG9rZW4sXHJcbiAgICogICAgdXJsQ2hhbmdlUGFzc3dvcmQ/OiB1cmxcclxuICAgKiAgfVxyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICpcclxuICAgKiAtICoqdG9rZW4qKjogVG9rZW4gZGUgYWx0ZXJhw6fDo28gZGUgc2VuaGE7XHJcbiAgICogLSAqKnVybENoYW5nZVBhc3N3b3JkKio6IHVybCBwYXJhIG8gZm9ybXVsw6FyaW8gZGUgYWx0ZXJhw6fDo28gZGUgc2VuaGEuXHJcbiAgICpcclxuICAgKlxyXG4gICAqIE8gY29tcG9uZW50ZSBlc3TDoSBjb25maWd1cmFkbyBwYXJhIHJlZGlyZWNpb25hciBwYXJhIGEgdXJsIGVzdGFiZWxlY2lkYSBlbSBgdXJsQ2hhbmdlUGFzc3dvcmRgLlxyXG4gICAqXHJcbiAgICogPiBDYXNvIG7Do28gc2VqYSBwYXNzYWRvIHZhbG9yIHBhcmEgdXJsQ2hhbmdlUGFzc3dvcmQsXHJcbiAgICogYSB1cmwgdXNhZGEgcGFyYSB2YWxpZGHDp8OjbyBzZXLDoSBhIGA8cC11cmwtcmVjb3Zlcnk+L2NoYW5nZVBhc3N3b3JkP3Rva2VuPTx0b2tlbj5gLlxyXG4gICAqXHJcbiAgICogKlByb2Nlc3NvIGZpbmFsaXphZG8uKlxyXG4gICAqL1xyXG4gIEBJbnB1dCgncC11cmwtcmVjb3ZlcnknKSB1cmxSZWNvdmVyeT86IHN0cmluZztcclxuXHJcbiAgLyoqXHJcbiAgICogQG9wdGlvbmFsXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKlxyXG4gICAqIEHDp8OjbyBjb250ZW5kbyBjb21vIHBhcsOibWV0cm8gbyBjw7NkaWdvIGVudmlhZG8gcG9yIFNNUyBlIGRpZ2l0YWRvIHBlbG8gdXN1w6FyaW8uXHJcbiAgICpcclxuICAgKiA+IEVzdGEgcHJvcHJpZWRhZGUgc2Vyw6EgaWdub3JhZGEgc2UgZm9yIGRlZmluaWRvIHZhbG9yIHBhcmEgYSBwcm9wcmllZGFkZSBgcC11cmwtcmVjb3ZlcnlgLlxyXG4gICAqL1xyXG4gIEBPdXRwdXQoJ3AtY29kZS1zdWJtaXQnKSBjb2RlU3VibWl0ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBvcHRpb25hbFxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICpcclxuICAgKiBBw6fDo28gY29udGVuZG8gbyBlbWFpbCBjb21vIHBhcsOibWV0cm8gZSBxdWUgw6kgZXhlY3V0YWRhIHF1YW5kbyBvIHVzdcOhcmlvIGNsaWNhIHNvYnJlcyBvcyBib3TDtWVzIGRlICdlbnZpYXInIGUgJ3JlZW52aWFyJyBlLW1haWwuXHJcbiAgICpcclxuICAgKiA+IEVzdGEgcHJvcHJpZWRhZGUgc2Vyw6EgaWdub3JhZGEgc2UgZm9yIGRlZmluaWRvIHZhbG9yIHBhcmEgYSBwcm9wcmllZGFkZSBgcC11cmwtcmVjb3ZlcnlgLlxyXG4gICAqL1xyXG4gIEBPdXRwdXQoJ3Atc3VibWl0Jykgc3VibWl0ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcblxyXG4gIC8qKlxyXG4gICAqIEFjw6NvIHBhcmEgY29uY2x1c8OjbyBkZSBwcm9jZXNzbyBlIGZlY2hhbWVudG8gZGEgbW9kYWwuIEluZGljYS1zZSBzdWEgdXRpbGl6YcOnw6NvXHJcbiAgICogcGFyYSBhcMOzcyBvIGVudmlvIGUgdmFsaWRhw6fDo28gZG8gY8OzZGlnbyBTTVMgZW52aWFkbyBwZWxvIHVzdcOhcmlvLlxyXG4gICAqXHJcbiAgICogPiBOYXMgbW9kYWxzIGVtIHF1ZSBow6EgYSBhw6fDo28gZGUgJ2NhbmNlbGFyJyBkaXNwZW5zYS1zZSBvIHVzbyBkZXN0YSBhw6fDo28gcG9pcyBvIGNvbXBvbmVudGUgasOhIHRyYXRhIG8gZmVjaGFtZW50byBkYSBtb2RhbC5cclxuICAgKi9cclxuICBhYnN0cmFjdCBjb21wbGV0ZWQoKTogdm9pZDtcclxuXHJcbiAgLyoqXHJcbiAgICogQWJyZSBhIG1vZGFsIGRlIHByZWVuY2hpbWVudG8gZGUgZW1haWwgb3UgbsO6bWVybyBkZSB0ZWxlZm9uZSBwYXJhIHNvbGljaXRhw6fDo28gZGUgdHJvY2EgZGUgc2VuaGEuXHJcbiAgICovXHJcbiAgYWJzdHJhY3Qgb3BlbigpOiB2b2lkO1xyXG5cclxuICAvKipcclxuICAgKiBBYnJlIGEgbW9kYWwgZGUgY29uZmlybWHDp8OjbyBkZSBlbnZpbyBkZSBlbWFpbC5cclxuICAgKi9cclxuICBhYnN0cmFjdCBvcGVuQ29uZmlybWF0aW9uKCk6IHZvaWQ7XHJcblxyXG4gIC8qKlxyXG4gICAqIEFicmUgYSBtb2RhbCBkZSBwcmVlbmNoaW1lbnRvIGRvIGPDs2RpZ28gU01TIGVudmlhZG8gYW8gdXN1w6FyaW8uXHJcbiAgICovXHJcbiAgYWJzdHJhY3Qgb3BlblNtc0NvZGUoKTogdm9pZDtcclxuXHJcbiAgcHJpdmF0ZSBjb25jYXRlbmF0ZVNNU0Vycm9yTWVzc2FnZSh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBsaXRlcmFsQ29kZUVycm9yTWVzc2FnZSA9IHRoaXMubGl0ZXJhbHMuc21zQ29kZUVycm9yTWVzc2FnZVBocmFzZTtcclxuXHJcbiAgICByZXR1cm4gdmFsdWUgJiYgdmFsdWUgIT09ICcnID8gYCR7bGl0ZXJhbENvZGVFcnJvck1lc3NhZ2V9ICR7dGhpcy5saXRlcmFscy5wcmVwb3NpdGlvbklufSAke3ZhbHVlfS5gIDogbGl0ZXJhbENvZGVFcnJvck1lc3NhZ2U7XHJcbiAgfVxyXG5cclxufVxyXG4iXX0=