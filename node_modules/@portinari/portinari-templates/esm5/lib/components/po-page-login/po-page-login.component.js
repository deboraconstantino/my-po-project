/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { NgForm } from '@angular/forms';
import { ActivatedRoute, Router } from '@angular/router';
import { ChangeDetectorRef, Component, IterableDiffers, ViewChild, ViewContainerRef } from '@angular/core';
import { isExternalLink } from '../../utils/util';
import { PoComponentInjectorService } from '@portinari/portinari-ui';
import { PoModalPasswordRecoveryComponent } from '../po-modal-password-recovery/po-modal-password-recovery.component';
import { PoModalPasswordRecoveryType } from '../po-modal-password-recovery/enums/po-modal-password-recovery-type.enum';
import { PoPageLoginBaseComponent, poPageLoginLiteralIn, poPageLoginLiteralTo, poPageLoginLiteralsDefault } from './po-page-login-base.component';
import { PoPageLoginService } from './po-page-login.service';
/**
 * \@docsExtends PoPageLoginBaseComponent
 *
 * \@example
 *
 * <example name="po-page-login-basic" title="Portinari Page Login Basic">
 *  <file name="sample-po-page-login-basic/sample-po-page-login-basic.component.html"> </file>
 *  <file name="sample-po-page-login-basic/sample-po-page-login-basic.component.ts"> </file>
 * </example>
 *
 * <example name="po-page-login-labs" title="Portinari Page Login Labs">
 *  <file name="sample-po-page-login-labs/sample-po-page-login-labs.component.html"> </file>
 *  <file name="sample-po-page-login-labs/sample-po-page-login-labs.component.ts"> </file>
 * </example>
 *
 * <example name="po-page-login-human-resources" title="Portinari Page Login - Human Resources">
 *  <file name="sample-po-page-login-human-resources/sample-po-page-login-human-resources.component.html"> </file>
 *  <file name="sample-po-page-login-human-resources/sample-po-page-login-human-resources.component.ts"> </file>
 *  <file name="sample-po-page-login-human-resources/sample-po-page-login-human-resources.module.ts"> </file>
 * </example>
 *
 * <example name="po-page-login-automatic-service" title="Portinari Page Login - Automatic Service">
 *  <file name="sample-po-page-login-automatic-service/sample-po-page-login-automatic-service.component.html"> </file>
 *  <file name="sample-po-page-login-automatic-service/sample-po-page-login-automatic-service.component.ts"> </file>
 * </example>
 */
var PoPageLoginComponent = /** @class */ (function (_super) {
    tslib_1.__extends(PoPageLoginComponent, _super);
    function PoPageLoginComponent(changeDetector, activatedRoute, poComponentInjector, differs, loginService, router) {
        var _this = _super.call(this, loginService, router) || this;
        _this.changeDetector = changeDetector;
        _this.activatedRoute = activatedRoute;
        _this.poComponentInjector = poComponentInjector;
        _this.componentRef = null;
        _this.customPasswordError = { custom: false };
        _this.differ = differs.find([]).create(null);
        return _this;
    }
    /**
     * @return {?}
     */
    PoPageLoginComponent.prototype.ngAfterViewChecked = /**
     * @return {?}
     */
    function () {
        if (this.differ) {
            this.validateArrayChanges(this.differ, [
                { array: this.loginErrors, callback: this.generateLoginError.bind(this) },
                { array: this.passwordErrors, callback: this.generatePasswordError.bind(this) }
            ]);
        }
    };
    /**
     * @return {?}
     */
    PoPageLoginComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.checkingForRouteMetadata(this.activatedRoute.snapshot.data);
    };
    /**
     * @return {?}
     */
    PoPageLoginComponent.prototype.changeLoginModel = /**
     * @return {?}
     */
    function () {
        if (this.authenticationUrl) {
            this.loginErrors = [];
        }
        else {
            this.setLoginErrors(this.loginErrors);
            this.loginChange.emit(this.login);
        }
    };
    /**
     * @return {?}
     */
    PoPageLoginComponent.prototype.changePasswordModel = /**
     * @return {?}
     */
    function () {
        if (this.authenticationUrl) {
            this.passwordErrors = [];
        }
        else {
            this.setPasswordErrors(this.passwordErrors);
            this.passwordChange.emit(this.password);
        }
    };
    /**
     * @param {?} language
     * @return {?}
     */
    PoPageLoginComponent.prototype.onSelectedLanguage = /**
     * @param {?} language
     * @return {?}
     */
    function (language) {
        this.selectedLanguage = language;
    };
    /**
     * @param {?} recovery
     * @return {?}
     */
    PoPageLoginComponent.prototype.openUrl = /**
     * @param {?} recovery
     * @return {?}
     */
    function (recovery) {
        switch (typeof recovery) {
            case 'string': {
                this.setUrlRedirect(recovery);
                break;
            }
            case 'function': {
                recovery();
                break;
            }
            case 'object': {
                this.createModalPasswordRecoveryComponent(recovery);
                break;
            }
        }
    };
    /**
     * @private
     * @param {?} object
     * @param {?} property
     * @return {?}
     */
    PoPageLoginComponent.prototype.checkingForMetadataProperty = /**
     * @private
     * @param {?} object
     * @param {?} property
     * @return {?}
     */
    function (object, property) {
        if (Object.prototype.hasOwnProperty.call(object, property)) {
            return object[property];
        }
    };
    /**
     * @private
     * @param {?} data
     * @return {?}
     */
    PoPageLoginComponent.prototype.checkingForRouteMetadata = /**
     * @private
     * @param {?} data
     * @return {?}
     */
    function (data) {
        if (Object.keys(data).length !== 0) {
            this.authenticationUrl = this.checkingForMetadataProperty(data, 'serviceApi') || this.authenticationUrl;
            this.authenticationType = this.checkingForMetadataProperty(data, 'authenticationType') || this.authenticationType;
            this.environment = this.checkingForMetadataProperty(data, 'environment') || this.environment;
            this.recovery = this.checkingForMetadataProperty(data, 'recovery') || this.recovery;
            this.registerUrl = this.checkingForMetadataProperty(data, 'registerUrl') || this.registerUrl;
        }
    };
    /**
     * @private
     * @param {?} defaultLiteral
     * @param {?} prefixLiteral
     * @param {?} value
     * @return {?}
     */
    PoPageLoginComponent.prototype.concatenate = /**
     * @private
     * @param {?} defaultLiteral
     * @param {?} prefixLiteral
     * @param {?} value
     * @return {?}
     */
    function (defaultLiteral, prefixLiteral, value) {
        return defaultLiteral + " " + prefixLiteral + " " + value;
    };
    /**
     * @private
     * @param {?} value
     * @param {?} literal
     * @param {?} defaultLiteral
     * @param {?} prepositionLiteral
     * @return {?}
     */
    PoPageLoginComponent.prototype.concatenateLiteral = /**
     * @private
     * @param {?} value
     * @param {?} literal
     * @param {?} defaultLiteral
     * @param {?} prepositionLiteral
     * @return {?}
     */
    function (value, literal, defaultLiteral, prepositionLiteral) {
        var _a;
        return _a = {}, _a[literal] = this.concatenate(defaultLiteral, prepositionLiteral, value), _a;
    };
    /**
     * @private
     * @param {?} poPageLoginRecovery
     * @return {?}
     */
    PoPageLoginComponent.prototype.createModalPasswordRecoveryComponent = /**
     * @private
     * @param {?} poPageLoginRecovery
     * @return {?}
     */
    function (poPageLoginRecovery) {
        var _this = this;
        if (this.componentRef) {
            this.poComponentInjector.destroyComponentInApplication(this.componentRef);
        }
        this.componentRef = this.poComponentInjector.createComponentInApplication(PoModalPasswordRecoveryComponent);
        this.componentRef.instance.urlRecovery = poPageLoginRecovery.url;
        this.componentRef.instance.contactEmail = poPageLoginRecovery.contactMail;
        this.componentRef.instance.phoneMask = poPageLoginRecovery.phoneMask;
        this.componentRef.instance.type = poPageLoginRecovery.type || PoModalPasswordRecoveryType.Email;
        this.componentRef.changeDetectorRef.detectChanges();
        setTimeout((/**
         * @return {?}
         */
        function () {
            _this.componentRef.instance.open();
        }));
    };
    /**
     * @private
     * @return {?}
     */
    PoPageLoginComponent.prototype.generateLoginError = /**
     * @private
     * @return {?}
     */
    function () {
        if (this.loginErrors && this.loginErrors.length) {
            this.setLoginErrors(this.loginErrors);
        }
        else {
            /** @type {?} */
            var control = this.loginForm.form.controls['login'];
            if (control) {
                this.resetControl(control);
            }
        }
    };
    /**
     * @private
     * @return {?}
     */
    PoPageLoginComponent.prototype.generatePasswordError = /**
     * @private
     * @return {?}
     */
    function () {
        if (this.passwordErrors && this.passwordErrors.length) {
            this.setPasswordErrors(this.passwordErrors);
        }
        else {
            /** @type {?} */
            var control = this.loginForm.form.controls['password'];
            if (control) {
                this.resetControl(control);
            }
        }
    };
    /**
     * @private
     * @param {?} control
     * @return {?}
     */
    PoPageLoginComponent.prototype.resetControl = /**
     * @private
     * @param {?} control
     * @return {?}
     */
    function (control) {
        control.markAsPristine();
        control.markAsUntouched();
        control.updateValueAndValidity();
    };
    /**
     * @private
     * @param {?} allErrors
     * @param {?} control
     * @param {?} errors
     * @param {?} patternError
     * @return {?}
     */
    PoPageLoginComponent.prototype.setControlErrors = /**
     * @private
     * @param {?} allErrors
     * @param {?} control
     * @param {?} errors
     * @param {?} patternError
     * @return {?}
     */
    function (allErrors, control, errors, patternError) {
        if (control) {
            this[allErrors] = control.hasError('pattern') ? tslib_1.__spread(errors, [patternError]) : tslib_1.__spread(errors);
            if (errors && errors.length && (control.valid || control.pristine)) {
                control.markAsTouched();
                control.markAsDirty();
                control.setErrors(this.customPasswordError);
            }
        }
    };
    /**
     * @private
     * @param {?} url
     * @return {?}
     */
    PoPageLoginComponent.prototype.setUrlRedirect = /**
     * @private
     * @param {?} url
     * @return {?}
     */
    function (url) {
        isExternalLink(url) ? window.open(url, '_blank') : this.router.navigate([url]);
    };
    /**
     * @private
     * @param {?} differ
     * @param {?} array
     * @return {?}
     */
    PoPageLoginComponent.prototype.validateArrayChanges = /**
     * @private
     * @param {?} differ
     * @param {?} array
     * @return {?}
     */
    function (differ, array) {
        var _this = this;
        array.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            /** @type {?} */
            var changes = differ.diff(element.array);
            if (changes) {
                element.callback();
                _this.changeDetector.detectChanges();
            }
        }));
    };
    /**
     * @protected
     * @param {?} contactEmail
     * @return {?}
     */
    PoPageLoginComponent.prototype.concatenateLoginHintWithContactEmail = /**
     * @protected
     * @param {?} contactEmail
     * @return {?}
     */
    function (contactEmail) {
        /** @type {?} */
        var defaultLoginHintLiteral = poPageLoginLiteralsDefault[this.language].loginHint;
        /** @type {?} */
        var prepositionLiteral = poPageLoginLiteralIn[this.language];
        return this.concatenateLiteral(contactEmail, 'loginHint', defaultLoginHintLiteral, prepositionLiteral);
    };
    /**
     * @protected
     * @param {?} productName
     * @return {?}
     */
    PoPageLoginComponent.prototype.concatenateTitleWithProductName = /**
     * @protected
     * @param {?} productName
     * @return {?}
     */
    function (productName) {
        /** @type {?} */
        var defaultTitleLiteral = poPageLoginLiteralsDefault[this.language].title;
        /** @type {?} */
        var prepositionLiteral = poPageLoginLiteralTo[this.language];
        return this.concatenateLiteral(productName, 'title', defaultTitleLiteral, prepositionLiteral);
    };
    /**
     * @protected
     * @param {?} errors
     * @return {?}
     */
    PoPageLoginComponent.prototype.setLoginErrors = /**
     * @protected
     * @param {?} errors
     * @return {?}
     */
    function (errors) {
        /** @type {?} */
        var control = this.loginForm.form.controls['login'];
        this.setControlErrors('allLoginErrors', control, errors, this.pageLoginLiterals.loginErrorPattern);
    };
    /**
     * @protected
     * @param {?} errors
     * @return {?}
     */
    PoPageLoginComponent.prototype.setPasswordErrors = /**
     * @protected
     * @param {?} errors
     * @return {?}
     */
    function (errors) {
        /** @type {?} */
        var control = this.loginForm.form.controls['password'];
        this.setControlErrors('allPasswordErrors', control, errors, this.pageLoginLiterals.passwordErrorPattern);
    };
    PoPageLoginComponent.decorators = [
        { type: Component, args: [{
                    selector: 'po-page-login',
                    template: "<po-page-background #pageLogin\r\n  p-show-select-language\r\n  [p-background]=\"background\"\r\n  [p-highlight-info]=\"pageLoginLiterals.highlightInfo\"\r\n  [p-logo]=\"logo\"\r\n  [p-secondary-logo]=\"secondaryLogo\"\r\n  (p-selected-language)=\"onSelectedLanguage($event)\">\r\n\r\n  <div class=\"po-page-login-header po-mb-2 po-mb-sm-1 po-pt-sm-1\">\r\n    <div class=\"po-page-login-header-title po-mb-sm-1\">{{ pageLoginLiterals.title }}</div>\r\n    <po-tag\r\n      *ngIf=\"environment\"\r\n      p-type=\"warning\"\r\n      [p-value]=\"environment\">\r\n    </po-tag>\r\n  </div>\r\n\r\n  <form #loginForm=\"ngForm\" class=\"po-page-login-form\">\r\n    <div class=\"po-row\">\r\n      <div class=\"po-lg-12\">\r\n        <div class=\"po-page-login-hint po-page-login-info-container\">\r\n          <po-login\r\n            class=\"po-page-login-info-field\"\r\n            name=\"login\"\r\n            [(ngModel)]=\"login\"\r\n            p-auto-focus\r\n            p-required\r\n            [p-label]=\"pageLoginLiterals.loginLabel\"\r\n            [p-pattern]=\"loginPattern\"\r\n            [p-placeholder]=\"pageLoginLiterals.loginPlaceholder\"\r\n            (click)=\"closePopover()\"\r\n            (keyup.enter)=\"loginForm.valid && onLoginSubmit()\"\r\n            (p-change-model)=\"changeLoginModel()\">\r\n          </po-login>\r\n\r\n          <div class=\"po-page-login-info-icon-container\">\r\n            <span\r\n              class=\"po-icon po-field-icon po-icon-info\"\r\n              p-tooltip-position=\"right\"\r\n              [p-tooltip]=\"pageLoginLiterals.loginHint\">\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"po-field-container-bottom po-field-container-error-container\">\r\n          <div *ngFor=\"let error of allLoginErrors\u001C\" class=\"po-field-container-bottom-text-error po-field-container-error-item\">\r\n            <span class=\"po-icon po-icon-exclamation\"></span>\r\n            <span class=\"po-field-container-error-text\">{{error}}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"po-lg-12\">\r\n        <div class=\"po-page-login-password-container\">\r\n          <po-password\r\n            class=\"po-page-login-field-size po-page-login-password-item\"\r\n            name=\"password\"\r\n            [(ngModel)]=\"password\"\r\n            p-required\r\n            [p-label]=\"pageLoginLiterals.passwordLabel\"\r\n            [p-pattern]=\"passwordPattern\"\r\n            [p-placeholder]=\"pageLoginLiterals.passwordPlaceholder\"\r\n            (click)=\"closePopover()\"\r\n            (keyup.enter)=\"loginForm.valid && onLoginSubmit()\"\r\n            (p-change-model)=\"changePasswordModel()\">\r\n          </po-password>\r\n          <div class=\"po-page-login-password-item po-page-login-password-popover-container\">\r\n            <po-page-login-popover *ngIf=\"showExceededAttemptsWarning && exceededAttemptsWarning\"\r\n              [p-literals]=\"pageLoginLiterals\"\r\n              [p-recovery]=\"recovery\"\r\n              [p-remaining-attempts]=\"exceededAttemptsWarning\"\r\n              (p-forgot-password) = \"openUrl($event)\">\r\n            </po-page-login-popover>\r\n          </div>\r\n        </div>\r\n        <div class=\"po-field-container-bottom po-field-container-error-container\">\r\n          <div *ngFor=\"let error of allPasswordErrors\" class=\"po-field-container-bottom-text-error po-field-container-error-item\">\r\n            <span class=\"po-icon po-icon-exclamation\"></span>\r\n            <span class=\"po-field-container-error-text\">{{error}}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <po-input *ngIf=\"customField && customFieldType === 'input'\"\r\n        class=\"po-page-login-field-size po-lg-12\"\r\n        name=\"customFieldInput\"\r\n        [(ngModel)]=\"customFieldObject.value\"\r\n        p-required\r\n        [p-error-pattern]=\"customFieldObject.errorPattern || pageLoginLiterals.customFieldErrorPattern\"\r\n        [p-pattern]=\"customFieldObject.pattern\"\r\n        [p-placeholder]=\"customFieldObject.placeholder || pageLoginLiterals.customFieldPlaceholder\"\r\n        (keyup.enter)=\"loginForm.valid && onLoginSubmit()\">\r\n      </po-input>\r\n\r\n      <po-combo *ngIf=\"customField && customFieldType === 'combo'\"\r\n        class=\"po-page-login-field-size po-lg-12\"\r\n        name=\"customFieldCombo\"\r\n        [(ngModel)]=\"customFieldObject.value\"\r\n        p-required\r\n        [p-field-value]=\"customFieldObject.fieldValue\"\r\n        [p-filter-service]=\"customFieldObject.url\"\r\n        [p-placeholder]=\"customFieldObject.placeholder || pageLoginLiterals.customFieldPlaceholder\">\r\n      </po-combo>\r\n\r\n      <po-select *ngIf=\"customField && customFieldType === 'select'\"\r\n        class=\"po-page-login-field-size po-lg-12\"\r\n        name=\"customFieldSelect\"\r\n        [(ngModel)]=\"customFieldObject.value\"\r\n        p-required\r\n        [p-placeholder]=\"customFieldObject.placeholder || pageLoginLiterals.customFieldPlaceholder\"\r\n        [p-options]=\"customFieldObject.options\">\r\n      </po-select>\r\n\r\n      <div class=\"po-lg-12\">\r\n        <div *ngIf=\"!hideRememberUser\" class=\"po-page-login-hint po-page-login-info-container\">\r\n          <po-switch\r\n            class=\"po-page-login-info-field po-lg-7 po-offset-lg-5 po-offset-xl-5\"\r\n            name=\"rememberUser\"\r\n            [(ngModel)]=\"rememberUser\"\r\n            p-label-position=\"1\"\r\n            [p-label-off]=\"pageLoginLiterals.rememberUser\"\r\n            [p-label-on]=\"pageLoginLiterals.rememberUser\"\r\n            (keyup.enter)=\"loginForm.valid && onLoginSubmit()\">\r\n          </po-switch>\r\n\r\n          <div class=\"po-page-login-info-icon-container po-page-login-info-icon-remember-user\">\r\n            <span\r\n              class=\"po-icon po-field-icon po-icon-info\"\r\n              p-tooltip-position=\"right\"\r\n              [p-tooltip]=\"pageLoginLiterals.rememberUserHint\">\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n\r\n      <po-button\r\n        class=\"po-lg-12 po-page-login-button po-page-login-field-size\"\r\n        p-type=\"primary\"\r\n        [p-disabled]=\"loginForm.invalid\"\r\n        [p-label]=\"loading ? pageLoginLiterals.submittedLabel : pageLoginLiterals.submitLabel\"\r\n        [p-loading]=\"loading\"\r\n        (p-click)=\"onLoginSubmit()\">\r\n      </po-button>\r\n\r\n      <div *ngIf=\"recovery\"\r\n        class=\"po-page-login-recovery-link\">\r\n        <a class=\"po-font-text-large-bold\" (click)=\"openUrl(recovery)\">{{ pageLoginLiterals.forgotPassword }}</a>\r\n      </div>\r\n\r\n      <div *ngIf=\"registerUrl\"\r\n        class=\"po-page-login-register-link\">\r\n        <a class=\"po-font-text-large-bold\" (click)=\"openUrl(registerUrl)\">{{ pageLoginLiterals.registerUrl }}</a>\r\n      </div>\r\n    </div>\r\n  </form>\r\n</po-page-background>\r\n"
                }] }
    ];
    /** @nocollapse */
    PoPageLoginComponent.ctorParameters = function () { return [
        { type: ChangeDetectorRef },
        { type: ActivatedRoute },
        { type: PoComponentInjectorService },
        { type: IterableDiffers },
        { type: PoPageLoginService },
        { type: Router }
    ]; };
    PoPageLoginComponent.propDecorators = {
        loginForm: [{ type: ViewChild, args: ['loginForm', { read: NgForm, static: true },] }],
        pageLogin: [{ type: ViewChild, args: ['pageLogin', { read: ViewContainerRef, static: true },] }]
    };
    return PoPageLoginComponent;
}(PoPageLoginBaseComponent));
export { PoPageLoginComponent };
if (false) {
    /**
     * @type {?}
     * @private
     */
    PoPageLoginComponent.prototype.componentRef;
    /**
     * @type {?}
     * @private
     */
    PoPageLoginComponent.prototype.differ;
    /**
     * @type {?}
     * @private
     */
    PoPageLoginComponent.prototype.customPasswordError;
    /** @type {?} */
    PoPageLoginComponent.prototype.loginForm;
    /** @type {?} */
    PoPageLoginComponent.prototype.pageLogin;
    /** @type {?} */
    PoPageLoginComponent.prototype.changeDetector;
    /**
     * @type {?}
     * @private
     */
    PoPageLoginComponent.prototype.activatedRoute;
    /**
     * @type {?}
     * @private
     */
    PoPageLoginComponent.prototype.poComponentInjector;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tcGFnZS1sb2dpbi5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AcG9ydGluYXJpL3BvcnRpbmFyaS10ZW1wbGF0ZXMvIiwic291cmNlcyI6WyJsaWIvY29tcG9uZW50cy9wby1wYWdlLWxvZ2luL3BvLXBhZ2UtbG9naW4uY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUFtQixNQUFNLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUN6RCxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ3pELE9BQU8sRUFBb0IsaUJBQWlCLEVBQUUsU0FBUyxFQUFnQixlQUFlLEVBQVUsU0FBUyxFQUFFLGdCQUFnQixFQUMxSCxNQUFNLGVBQWUsQ0FBQztBQUV2QixPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDbEQsT0FBTyxFQUFFLDBCQUEwQixFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFFckUsT0FBTyxFQUFFLGdDQUFnQyxFQUFFLE1BQU0sb0VBQW9FLENBQUM7QUFDdEgsT0FBTyxFQUFFLDJCQUEyQixFQUFFLE1BQU0sMEVBQTBFLENBQUM7QUFDdkgsT0FBTyxFQUFFLHdCQUF3QixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLDBCQUEwQixFQUN4RyxNQUFNLGdDQUFnQyxDQUFDO0FBRXhDLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHlCQUF5QixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUE2QjdEO0lBSzBDLGdEQUF3QjtJQVNoRSw4QkFDUyxjQUFpQyxFQUNoQyxjQUE4QixFQUM5QixtQkFBK0MsRUFDdkQsT0FBd0IsRUFDeEIsWUFBZ0MsRUFDaEMsTUFBYztRQU5oQixZQVFFLGtCQUFNLFlBQVksRUFBRSxNQUFNLENBQUMsU0FFNUI7UUFUUSxvQkFBYyxHQUFkLGNBQWMsQ0FBbUI7UUFDaEMsb0JBQWMsR0FBZCxj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Qzs7Ozs7SUFDdEMsbURBQXVEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWJzdHJhY3RDb250cm9sLCBOZ0Zvcm0gfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XHJcbmltcG9ydCB7IEFjdGl2YXRlZFJvdXRlLCBSb3V0ZXIgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xyXG5pbXBvcnQgeyBBZnRlclZpZXdDaGVja2VkLCBDaGFuZ2VEZXRlY3RvclJlZiwgQ29tcG9uZW50LCBDb21wb25lbnRSZWYsIEl0ZXJhYmxlRGlmZmVycywgT25Jbml0LCBWaWV3Q2hpbGQsIFZpZXdDb250YWluZXJSZWZcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuXHJcbmltcG9ydCB7IGlzRXh0ZXJuYWxMaW5rIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbCc7XHJcbmltcG9ydCB7IFBvQ29tcG9uZW50SW5qZWN0b3JTZXJ2aWNlIH0gZnJvbSAnQHBvcnRpbmFyaS9wb3J0aW5hcmktdWknO1xyXG5cclxuaW1wb3J0IHsgUG9Nb2RhbFBhc3N3b3JkUmVjb3ZlcnlDb21wb25lbnQgfSBmcm9tICcuLi9wby1tb2RhbC1wYXNzd29yZC1yZWNvdmVyeS9wby1tb2RhbC1wYXNzd29yZC1yZWNvdmVyeS5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBQb01vZGFsUGFzc3dvcmRSZWNvdmVyeVR5cGUgfSBmcm9tICcuLi9wby1tb2RhbC1wYXNzd29yZC1yZWNvdmVyeS9lbnVtcy9wby1tb2RhbC1wYXNzd29yZC1yZWNvdmVyeS10eXBlLmVudW0nO1xyXG5pbXBvcnQgeyBQb1BhZ2VMb2dpbkJhc2VDb21wb25lbnQsIHBvUGFnZUxvZ2luTGl0ZXJhbEluLCBwb1BhZ2VMb2dpbkxpdGVyYWxUbywgcG9QYWdlTG9naW5MaXRlcmFsc0RlZmF1bHRcclxufSBmcm9tICcuL3BvLXBhZ2UtbG9naW4tYmFzZS5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBQb1BhZ2VMb2dpblJlY292ZXJ5IH0gZnJvbSAnLi9pbnRlcmZhY2VzL3BvLXBhZ2UtbG9naW4tcmVjb3ZlcnkuaW50ZXJmYWNlJztcclxuaW1wb3J0IHsgUG9QYWdlTG9naW5TZXJ2aWNlIH0gZnJvbSAnLi9wby1wYWdlLWxvZ2luLnNlcnZpY2UnO1xyXG5cclxuLyoqXHJcbiAqIEBkb2NzRXh0ZW5kcyBQb1BhZ2VMb2dpbkJhc2VDb21wb25lbnRcclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogPGV4YW1wbGUgbmFtZT1cInBvLXBhZ2UtbG9naW4tYmFzaWNcIiB0aXRsZT1cIlBvcnRpbmFyaSBQYWdlIExvZ2luIEJhc2ljXCI+XHJcbiAqICA8ZmlsZSBuYW1lPVwic2FtcGxlLXBvLXBhZ2UtbG9naW4tYmFzaWMvc2FtcGxlLXBvLXBhZ2UtbG9naW4tYmFzaWMuY29tcG9uZW50Lmh0bWxcIj4gPC9maWxlPlxyXG4gKiAgPGZpbGUgbmFtZT1cInNhbXBsZS1wby1wYWdlLWxvZ2luLWJhc2ljL3NhbXBsZS1wby1wYWdlLWxvZ2luLWJhc2ljLmNvbXBvbmVudC50c1wiPiA8L2ZpbGU+XHJcbiAqIDwvZXhhbXBsZT5cclxuICpcclxuICogPGV4YW1wbGUgbmFtZT1cInBvLXBhZ2UtbG9naW4tbGFic1wiIHRpdGxlPVwiUG9ydGluYXJpIFBhZ2UgTG9naW4gTGFic1wiPlxyXG4gKiAgPGZpbGUgbmFtZT1cInNhbXBsZS1wby1wYWdlLWxvZ2luLWxhYnMvc2FtcGxlLXBvLXBhZ2UtbG9naW4tbGFicy5jb21wb25lbnQuaHRtbFwiPiA8L2ZpbGU+XHJcbiAqICA8ZmlsZSBuYW1lPVwic2FtcGxlLXBvLXBhZ2UtbG9naW4tbGFicy9zYW1wbGUtcG8tcGFnZS1sb2dpbi1sYWJzLmNvbXBvbmVudC50c1wiPiA8L2ZpbGU+XHJcbiAqIDwvZXhhbXBsZT5cclxuICpcclxuICogPGV4YW1wbGUgbmFtZT1cInBvLXBhZ2UtbG9naW4taHVtYW4tcmVzb3VyY2VzXCIgdGl0bGU9XCJQb3J0aW5hcmkgUGFnZSBMb2dpbiAtIEh1bWFuIFJlc291cmNlc1wiPlxyXG4gKiAgPGZpbGUgbmFtZT1cInNhbXBsZS1wby1wYWdlLWxvZ2luLWh1bWFuLXJlc291cmNlcy9zYW1wbGUtcG8tcGFnZS1sb2dpbi1odW1hbi1yZXNvdXJjZXMuY29tcG9uZW50Lmh0bWxcIj4gPC9maWxlPlxyXG4gKiAgPGZpbGUgbmFtZT1cInNhbXBsZS1wby1wYWdlLWxvZ2luLWh1bWFuLXJlc291cmNlcy9zYW1wbGUtcG8tcGFnZS1sb2dpbi1odW1hbi1yZXNvdXJjZXMuY29tcG9uZW50LnRzXCI+IDwvZmlsZT5cclxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtcG8tcGFnZS1sb2dpbi1odW1hbi1yZXNvdXJjZXMvc2FtcGxlLXBvLXBhZ2UtbG9naW4taHVtYW4tcmVzb3VyY2VzLm1vZHVsZS50c1wiPiA8L2ZpbGU+XHJcbiAqIDwvZXhhbXBsZT5cclxuICpcclxuICogPGV4YW1wbGUgbmFtZT1cInBvLXBhZ2UtbG9naW4tYXV0b21hdGljLXNlcnZpY2VcIiB0aXRsZT1cIlBvcnRpbmFyaSBQYWdlIExvZ2luIC0gQXV0b21hdGljIFNlcnZpY2VcIj5cclxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtcG8tcGFnZS1sb2dpbi1hdXRvbWF0aWMtc2VydmljZS9zYW1wbGUtcG8tcGFnZS1sb2dpbi1hdXRvbWF0aWMtc2VydmljZS5jb21wb25lbnQuaHRtbFwiPiA8L2ZpbGU+XHJcbiAqICA8ZmlsZSBuYW1lPVwic2FtcGxlLXBvLXBhZ2UtbG9naW4tYXV0b21hdGljLXNlcnZpY2Uvc2FtcGxlLXBvLXBhZ2UtbG9naW4tYXV0b21hdGljLXNlcnZpY2UuY29tcG9uZW50LnRzXCI+IDwvZmlsZT5cclxuICogPC9leGFtcGxlPlxyXG4gKi9cclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAncG8tcGFnZS1sb2dpbicsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL3BvLXBhZ2UtbG9naW4uY29tcG9uZW50Lmh0bWwnXHJcbn0pXHJcblxyXG5leHBvcnQgY2xhc3MgUG9QYWdlTG9naW5Db21wb25lbnQgZXh0ZW5kcyBQb1BhZ2VMb2dpbkJhc2VDb21wb25lbnQgaW1wbGVtZW50cyBBZnRlclZpZXdDaGVja2VkLCBPbkluaXQge1xyXG5cclxuICBwcml2YXRlIGNvbXBvbmVudFJlZjogQ29tcG9uZW50UmVmPGFueT4gPSBudWxsO1xyXG4gIHByaXZhdGUgZGlmZmVyOiBhbnk7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBjdXN0b21QYXNzd29yZEVycm9yID0geyBjdXN0b20gOiBmYWxzZSB9O1xyXG5cclxuICBAVmlld0NoaWxkKCdsb2dpbkZvcm0nLCB7IHJlYWQ6IE5nRm9ybSwgc3RhdGljOiB0cnVlIH0pIGxvZ2luRm9ybTogTmdGb3JtO1xyXG4gIEBWaWV3Q2hpbGQoJ3BhZ2VMb2dpbicsIHsgcmVhZDogVmlld0NvbnRhaW5lclJlZiwgc3RhdGljOiB0cnVlIH0pIHBhZ2VMb2dpbjogVmlld0NvbnRhaW5lclJlZjtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwdWJsaWMgY2hhbmdlRGV0ZWN0b3I6IENoYW5nZURldGVjdG9yUmVmLFxyXG4gICAgcHJpdmF0ZSBhY3RpdmF0ZWRSb3V0ZTogQWN0aXZhdGVkUm91dGUsXHJcbiAgICBwcml2YXRlIHBvQ29tcG9uZW50SW5qZWN0b3I6IFBvQ29tcG9uZW50SW5qZWN0b3JTZXJ2aWNlLFxyXG4gICAgZGlmZmVyczogSXRlcmFibGVEaWZmZXJzLFxyXG4gICAgbG9naW5TZXJ2aWNlOiBQb1BhZ2VMb2dpblNlcnZpY2UsXHJcbiAgICByb3V0ZXI6IFJvdXRlcixcclxuICAgICkge1xyXG4gICAgc3VwZXIobG9naW5TZXJ2aWNlLCByb3V0ZXIpO1xyXG4gICAgdGhpcy5kaWZmZXIgPSBkaWZmZXJzLmZpbmQoW10pLmNyZWF0ZShudWxsKTtcclxuICB9XHJcblxyXG4gIG5nQWZ0ZXJWaWV3Q2hlY2tlZCgpIHtcclxuICAgIGlmICh0aGlzLmRpZmZlcikge1xyXG4gICAgICB0aGlzLnZhbGlkYXRlQXJyYXlDaGFuZ2VzKHRoaXMuZGlmZmVyLCBbXHJcbiAgICAgICAgeyBhcnJheTogdGhpcy5sb2dpbkVycm9ycywgY2FsbGJhY2s6IHRoaXMuZ2VuZXJhdGVMb2dpbkVycm9yLmJpbmQodGhpcykgfSxcclxuICAgICAgICB7IGFycmF5OiB0aGlzLnBhc3N3b3JkRXJyb3JzLCBjYWxsYmFjazogdGhpcy5nZW5lcmF0ZVBhc3N3b3JkRXJyb3IuYmluZCh0aGlzKSB9XHJcbiAgICAgIF0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbmdPbkluaXQoKSB7XHJcbiAgICB0aGlzLmNoZWNraW5nRm9yUm91dGVNZXRhZGF0YSh0aGlzLmFjdGl2YXRlZFJvdXRlLnNuYXBzaG90LmRhdGEpO1xyXG4gIH1cclxuXHJcbiAgY2hhbmdlTG9naW5Nb2RlbCgpIHtcclxuICAgIGlmICh0aGlzLmF1dGhlbnRpY2F0aW9uVXJsKSB7XHJcbiAgICAgIHRoaXMubG9naW5FcnJvcnMgPSBbXTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2V0TG9naW5FcnJvcnModGhpcy5sb2dpbkVycm9ycyk7XHJcbiAgICAgIHRoaXMubG9naW5DaGFuZ2UuZW1pdCh0aGlzLmxvZ2luKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNoYW5nZVBhc3N3b3JkTW9kZWwoKSB7XHJcbiAgICBpZiAodGhpcy5hdXRoZW50aWNhdGlvblVybCkge1xyXG4gICAgICB0aGlzLnBhc3N3b3JkRXJyb3JzID0gW107XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNldFBhc3N3b3JkRXJyb3JzKHRoaXMucGFzc3dvcmRFcnJvcnMpO1xyXG4gICAgICB0aGlzLnBhc3N3b3JkQ2hhbmdlLmVtaXQodGhpcy5wYXNzd29yZCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvblNlbGVjdGVkTGFuZ3VhZ2UobGFuZ3VhZ2U6IHN0cmluZykge1xyXG4gICAgdGhpcy5zZWxlY3RlZExhbmd1YWdlID0gbGFuZ3VhZ2U7XHJcbiAgfVxyXG5cclxuICBvcGVuVXJsKHJlY292ZXJ5OiBhbnkpOiB2b2lkIHtcclxuICAgIHN3aXRjaCAodHlwZW9mIHJlY292ZXJ5KSB7XHJcbiAgICAgIGNhc2UgJ3N0cmluZyc6IHtcclxuICAgICAgICB0aGlzLnNldFVybFJlZGlyZWN0KHJlY292ZXJ5KTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBjYXNlICdmdW5jdGlvbic6IHtcclxuICAgICAgICByZWNvdmVyeSgpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgJ29iamVjdCc6IHtcclxuICAgICAgICB0aGlzLmNyZWF0ZU1vZGFsUGFzc3dvcmRSZWNvdmVyeUNvbXBvbmVudChyZWNvdmVyeSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgY2hlY2tpbmdGb3JNZXRhZGF0YVByb3BlcnR5KG9iamVjdCwgcHJvcGVydHkpIHtcclxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSkpIHtcclxuICAgICAgcmV0dXJuIG9iamVjdFtwcm9wZXJ0eV07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoZWNraW5nRm9yUm91dGVNZXRhZGF0YShkYXRhKSB7XHJcbiAgICBpZiAoT2JqZWN0LmtleXMoZGF0YSkubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgIHRoaXMuYXV0aGVudGljYXRpb25VcmwgPSB0aGlzLmNoZWNraW5nRm9yTWV0YWRhdGFQcm9wZXJ0eShkYXRhLCAnc2VydmljZUFwaScpIHx8IHRoaXMuYXV0aGVudGljYXRpb25Vcmw7XHJcbiAgICAgIHRoaXMuYXV0aGVudGljYXRpb25UeXBlID0gdGhpcy5jaGVja2luZ0Zvck1ldGFkYXRhUHJvcGVydHkoZGF0YSwgJ2F1dGhlbnRpY2F0aW9uVHlwZScpIHx8IHRoaXMuYXV0aGVudGljYXRpb25UeXBlO1xyXG4gICAgICB0aGlzLmVudmlyb25tZW50ID0gdGhpcy5jaGVja2luZ0Zvck1ldGFkYXRhUHJvcGVydHkoZGF0YSwgJ2Vudmlyb25tZW50JykgfHwgdGhpcy5lbnZpcm9ubWVudDtcclxuICAgICAgdGhpcy5yZWNvdmVyeSA9IHRoaXMuY2hlY2tpbmdGb3JNZXRhZGF0YVByb3BlcnR5KGRhdGEsICdyZWNvdmVyeScpIHx8IHRoaXMucmVjb3Zlcnk7XHJcbiAgICAgIHRoaXMucmVnaXN0ZXJVcmwgPSB0aGlzLmNoZWNraW5nRm9yTWV0YWRhdGFQcm9wZXJ0eShkYXRhLCAncmVnaXN0ZXJVcmwnKSB8fCB0aGlzLnJlZ2lzdGVyVXJsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjb25jYXRlbmF0ZShkZWZhdWx0TGl0ZXJhbDogc3RyaW5nLCBwcmVmaXhMaXRlcmFsOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpIHtcclxuICAgIHJldHVybiBgJHtkZWZhdWx0TGl0ZXJhbH0gJHtwcmVmaXhMaXRlcmFsfSAke3ZhbHVlfWA7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNvbmNhdGVuYXRlTGl0ZXJhbCh2YWx1ZTogc3RyaW5nLCBsaXRlcmFsOiBzdHJpbmcsIGRlZmF1bHRMaXRlcmFsOiBzdHJpbmcsIHByZXBvc2l0aW9uTGl0ZXJhbDogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4geyBbbGl0ZXJhbF06IHRoaXMuY29uY2F0ZW5hdGUoZGVmYXVsdExpdGVyYWwsIHByZXBvc2l0aW9uTGl0ZXJhbCwgdmFsdWUpIH07XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZU1vZGFsUGFzc3dvcmRSZWNvdmVyeUNvbXBvbmVudChwb1BhZ2VMb2dpblJlY292ZXJ5OiBQb1BhZ2VMb2dpblJlY292ZXJ5KSB7XHJcbiAgICBpZiAodGhpcy5jb21wb25lbnRSZWYpIHtcclxuICAgICAgdGhpcy5wb0NvbXBvbmVudEluamVjdG9yLmRlc3Ryb3lDb21wb25lbnRJbkFwcGxpY2F0aW9uKHRoaXMuY29tcG9uZW50UmVmKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNvbXBvbmVudFJlZiA9IHRoaXMucG9Db21wb25lbnRJbmplY3Rvci5jcmVhdGVDb21wb25lbnRJbkFwcGxpY2F0aW9uKFBvTW9kYWxQYXNzd29yZFJlY292ZXJ5Q29tcG9uZW50KTtcclxuICAgIHRoaXMuY29tcG9uZW50UmVmLmluc3RhbmNlLnVybFJlY292ZXJ5ID0gcG9QYWdlTG9naW5SZWNvdmVyeS51cmw7XHJcbiAgICB0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZS5jb250YWN0RW1haWwgPSBwb1BhZ2VMb2dpblJlY292ZXJ5LmNvbnRhY3RNYWlsO1xyXG4gICAgdGhpcy5jb21wb25lbnRSZWYuaW5zdGFuY2UucGhvbmVNYXNrID0gcG9QYWdlTG9naW5SZWNvdmVyeS5waG9uZU1hc2s7XHJcbiAgICB0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZS50eXBlID0gcG9QYWdlTG9naW5SZWNvdmVyeS50eXBlIHx8IFBvTW9kYWxQYXNzd29yZFJlY292ZXJ5VHlwZS5FbWFpbDtcclxuICAgIHRoaXMuY29tcG9uZW50UmVmLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKTtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICB0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZS5vcGVuKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2VuZXJhdGVMb2dpbkVycm9yKCkge1xyXG4gICAgaWYgKHRoaXMubG9naW5FcnJvcnMgJiYgdGhpcy5sb2dpbkVycm9ycy5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5zZXRMb2dpbkVycm9ycyh0aGlzLmxvZ2luRXJyb3JzKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IGNvbnRyb2wgPSB0aGlzLmxvZ2luRm9ybS5mb3JtLmNvbnRyb2xzWydsb2dpbiddO1xyXG4gICAgICBpZiAoY29udHJvbCkge1xyXG4gICAgICAgIHRoaXMucmVzZXRDb250cm9sKGNvbnRyb2wpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdlbmVyYXRlUGFzc3dvcmRFcnJvcigpIHtcclxuICAgIGlmICh0aGlzLnBhc3N3b3JkRXJyb3JzICYmIHRoaXMucGFzc3dvcmRFcnJvcnMubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuc2V0UGFzc3dvcmRFcnJvcnModGhpcy5wYXNzd29yZEVycm9ycyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBjb250cm9sID0gdGhpcy5sb2dpbkZvcm0uZm9ybS5jb250cm9sc1sncGFzc3dvcmQnXTtcclxuXHJcbiAgICAgIGlmIChjb250cm9sKSB7XHJcbiAgICAgICAgdGhpcy5yZXNldENvbnRyb2woY29udHJvbCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVzZXRDb250cm9sKGNvbnRyb2w6IEFic3RyYWN0Q29udHJvbCkge1xyXG4gICAgY29udHJvbC5tYXJrQXNQcmlzdGluZSgpO1xyXG4gICAgY29udHJvbC5tYXJrQXNVbnRvdWNoZWQoKTtcclxuICAgIGNvbnRyb2wudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSgpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzZXRDb250cm9sRXJyb3JzKGFsbEVycm9yczogc3RyaW5nLCBjb250cm9sOiBBYnN0cmFjdENvbnRyb2wsIGVycm9yczogQXJyYXk8c3RyaW5nPiwgcGF0dGVybkVycm9yOiBzdHJpbmcpIHtcclxuXHJcbiAgICBpZiAoY29udHJvbCkge1xyXG5cclxuICAgICAgdGhpc1thbGxFcnJvcnNdID0gY29udHJvbC5oYXNFcnJvcigncGF0dGVybicpID8gWy4uLmVycm9ycywgLi4uW3BhdHRlcm5FcnJvcl1dIDogWy4uLmVycm9yc107XHJcblxyXG4gICAgICBpZiAoZXJyb3JzICYmIGVycm9ycy5sZW5ndGggJiYgKGNvbnRyb2wudmFsaWQgfHwgY29udHJvbC5wcmlzdGluZSkpIHtcclxuICAgICAgICBjb250cm9sLm1hcmtBc1RvdWNoZWQoKTtcclxuICAgICAgICBjb250cm9sLm1hcmtBc0RpcnR5KCk7XHJcbiAgICAgICAgY29udHJvbC5zZXRFcnJvcnModGhpcy5jdXN0b21QYXNzd29yZEVycm9yKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzZXRVcmxSZWRpcmVjdCh1cmwpIHtcclxuICAgIGlzRXh0ZXJuYWxMaW5rKHVybCkgPyAgd2luZG93Lm9wZW4odXJsLCAnX2JsYW5rJykgOiB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbdXJsXSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHZhbGlkYXRlQXJyYXlDaGFuZ2VzKGRpZmZlcjogYW55LCBhcnJheTogQXJyYXk8eyBhcnJheTogQXJyYXk8YW55PiwgY2FsbGJhY2s6IGFueSB9Pikge1xyXG5cclxuICAgIGFycmF5LmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgIGNvbnN0IGNoYW5nZXMgPSBkaWZmZXIuZGlmZihlbGVtZW50LmFycmF5KTtcclxuICAgICAgaWYgKGNoYW5nZXMpIHtcclxuICAgICAgICBlbGVtZW50LmNhbGxiYWNrKCk7XHJcbiAgICAgICAgdGhpcy5jaGFuZ2VEZXRlY3Rvci5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIGNvbmNhdGVuYXRlTG9naW5IaW50V2l0aENvbnRhY3RFbWFpbChjb250YWN0RW1haWw6IHN0cmluZykge1xyXG4gICAgY29uc3QgZGVmYXVsdExvZ2luSGludExpdGVyYWwgPSBwb1BhZ2VMb2dpbkxpdGVyYWxzRGVmYXVsdFt0aGlzLmxhbmd1YWdlXS5sb2dpbkhpbnQ7XHJcbiAgICBjb25zdCBwcmVwb3NpdGlvbkxpdGVyYWwgPSBwb1BhZ2VMb2dpbkxpdGVyYWxJblt0aGlzLmxhbmd1YWdlXTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5jb25jYXRlbmF0ZUxpdGVyYWwoY29udGFjdEVtYWlsLCAnbG9naW5IaW50JywgZGVmYXVsdExvZ2luSGludExpdGVyYWwsIHByZXBvc2l0aW9uTGl0ZXJhbCk7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgY29uY2F0ZW5hdGVUaXRsZVdpdGhQcm9kdWN0TmFtZShwcm9kdWN0TmFtZTogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBkZWZhdWx0VGl0bGVMaXRlcmFsID0gcG9QYWdlTG9naW5MaXRlcmFsc0RlZmF1bHRbdGhpcy5sYW5ndWFnZV0udGl0bGU7XHJcbiAgICBjb25zdCBwcmVwb3NpdGlvbkxpdGVyYWwgPSBwb1BhZ2VMb2dpbkxpdGVyYWxUb1t0aGlzLmxhbmd1YWdlXTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5jb25jYXRlbmF0ZUxpdGVyYWwocHJvZHVjdE5hbWUsICd0aXRsZScsIGRlZmF1bHRUaXRsZUxpdGVyYWwsIHByZXBvc2l0aW9uTGl0ZXJhbCk7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgc2V0TG9naW5FcnJvcnMoZXJyb3JzOiBBcnJheTxzdHJpbmc+KSB7XHJcbiAgICBjb25zdCBjb250cm9sID0gdGhpcy5sb2dpbkZvcm0uZm9ybS5jb250cm9sc1snbG9naW4nXTtcclxuICAgIHRoaXMuc2V0Q29udHJvbEVycm9ycygnYWxsTG9naW5FcnJvcnMnLCBjb250cm9sLCBlcnJvcnMsIHRoaXMucGFnZUxvZ2luTGl0ZXJhbHMubG9naW5FcnJvclBhdHRlcm4pO1xyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIHNldFBhc3N3b3JkRXJyb3JzKGVycm9yczogQXJyYXk8c3RyaW5nPikge1xyXG4gICAgY29uc3QgY29udHJvbCA9IHRoaXMubG9naW5Gb3JtLmZvcm0uY29udHJvbHNbJ3Bhc3N3b3JkJ107XHJcbiAgICB0aGlzLnNldENvbnRyb2xFcnJvcnMoJ2FsbFBhc3N3b3JkRXJyb3JzJywgY29udHJvbCwgZXJyb3JzLCB0aGlzLnBhZ2VMb2dpbkxpdGVyYWxzLnBhc3N3b3JkRXJyb3JQYXR0ZXJuKTtcclxuICB9XHJcblxyXG59XHJcbiJdfQ==