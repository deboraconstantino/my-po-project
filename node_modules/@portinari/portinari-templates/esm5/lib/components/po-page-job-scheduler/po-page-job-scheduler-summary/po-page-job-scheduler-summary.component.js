/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input } from '@angular/core';
import { DatePipe } from '@angular/common';
import { PoInfoOrientation } from '@portinari/portinari-ui';
var PoPageJobSchedulerSummaryComponent = /** @class */ (function () {
    function PoPageJobSchedulerSummaryComponent(datePipe) {
        this.datePipe = datePipe;
        this.executionValue = '';
        this.firstExecutionValue = '';
        this.infoOrientation = PoInfoOrientation.Horizontal;
        this.periodicityValue = '';
        this.recurrentValue = '';
        this.literals = (/** @type {?} */ ({}));
        this.parameters = [];
        this.value = (/** @type {?} */ ({}));
    }
    /**
     * @return {?}
     */
    PoPageJobSchedulerSummaryComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _a = this.value, periodicity = _a.periodicity, hour = _a.hour, dayOfMonth = _a.dayOfMonth, daysOfWeek = _a.daysOfWeek, recurrent = _a.recurrent, firstExecution = _a.firstExecution, firstExecutionHour = _a.firstExecutionHour;
        this.periodicityValue = this.getPeriodicityLabel(periodicity);
        this.executionValue = this.getExecutionValue(periodicity, hour, daysOfWeek, dayOfMonth);
        this.firstExecutionValue = this.getFirstExecutionLabel(firstExecution, firstExecutionHour);
        this.recurrentValue = this.getRecurrentValue(recurrent);
    };
    /**
     * @private
     * @param {?} periodicity
     * @param {?=} hour
     * @param {?=} daysOfWeek
     * @param {?=} dayOfMonth
     * @return {?}
     */
    PoPageJobSchedulerSummaryComponent.prototype.getExecutionValue = /**
     * @private
     * @param {?} periodicity
     * @param {?=} hour
     * @param {?=} daysOfWeek
     * @param {?=} dayOfMonth
     * @return {?}
     */
    function (periodicity, hour, daysOfWeek, dayOfMonth) {
        switch (periodicity) {
            case 'daily':
                return this.getHourLabel(hour);
            case 'monthly':
                return this.getMonthlyLabelExecution(dayOfMonth, hour);
            case 'weekly':
                return this.getWeeklyLabelExecution(daysOfWeek, hour);
            default:
                return this.literals.notReported;
        }
    };
    /**
     * @private
     * @param {?} firstExecution
     * @param {?=} firstExecutionHour
     * @return {?}
     */
    PoPageJobSchedulerSummaryComponent.prototype.getFirstExecutionLabel = /**
     * @private
     * @param {?} firstExecution
     * @param {?=} firstExecutionHour
     * @return {?}
     */
    function (firstExecution, firstExecutionHour) {
        if (firstExecution) {
            /** @type {?} */
            var date = this.datePipe.transform(firstExecution, 'dd/MM/yyyy', '-0200');
            return date + " " + this.getHourLabel(firstExecutionHour);
        }
        else {
            return this.literals.notReported;
        }
    };
    /**
     * @private
     * @param {?} hour
     * @return {?}
     */
    PoPageJobSchedulerSummaryComponent.prototype.getHourLabel = /**
     * @private
     * @param {?} hour
     * @return {?}
     */
    function (hour) {
        return this.literals.at + " " + (hour || '00:00') + "h";
    };
    /**
     * @private
     * @param {?} dayOfMonth
     * @param {?} hour
     * @return {?}
     */
    PoPageJobSchedulerSummaryComponent.prototype.getMonthlyLabelExecution = /**
     * @private
     * @param {?} dayOfMonth
     * @param {?} hour
     * @return {?}
     */
    function (dayOfMonth, hour) {
        /** @type {?} */
        var hourLabel = this.getHourLabel(hour);
        return this.literals.day + " " + dayOfMonth + " " + hourLabel;
    };
    /**
     * @private
     * @param {?} periodicity
     * @return {?}
     */
    PoPageJobSchedulerSummaryComponent.prototype.getPeriodicityLabel = /**
     * @private
     * @param {?} periodicity
     * @return {?}
     */
    function (periodicity) {
        switch (periodicity) {
            case 'daily':
                return this.literals.daily;
            case 'monthly':
                return this.literals.monthly;
            case 'weekly':
                return this.literals.weekly;
            default:
                return this.literals.single;
        }
    };
    /**
     * @private
     * @param {?} recurrent
     * @return {?}
     */
    PoPageJobSchedulerSummaryComponent.prototype.getRecurrentValue = /**
     * @private
     * @param {?} recurrent
     * @return {?}
     */
    function (recurrent) {
        return recurrent ? this.literals.yes : this.literals.no;
    };
    /**
     * @private
     * @return {?}
     */
    PoPageJobSchedulerSummaryComponent.prototype.getSorterWeekDays = /**
     * @private
     * @return {?}
     */
    function () {
        return {
            'sunday': 0,
            'monday': 1,
            'tuesday': 2,
            'wednesday': 3,
            'thursday': 4,
            'friday': 5,
            'saturday': 6
        };
    };
    /**
     * @private
     * @param {?} day
     * @return {?}
     */
    PoPageJobSchedulerSummaryComponent.prototype.getTranslateWeekDay = /**
     * @private
     * @param {?} day
     * @return {?}
     */
    function (day) {
        /** @type {?} */
        var days = {
            Sunday: this.literals.sunday,
            Monday: this.literals.monday,
            Tuesday: this.literals.tuesday,
            Wednesday: this.literals.wednesday,
            Thursday: this.literals.thursday,
            Friday: this.literals.friday,
            Saturday: this.literals.saturday,
        };
        return days[day] || '';
    };
    /**
     * @private
     * @param {?=} days
     * @return {?}
     */
    PoPageJobSchedulerSummaryComponent.prototype.getWeekDaysLabel = /**
     * @private
     * @param {?=} days
     * @return {?}
     */
    function (days) {
        var _this = this;
        if (days === void 0) { days = []; }
        /** @type {?} */
        var weekDaysSorted = this.sortWeekDays(days);
        return weekDaysSorted.map((/**
         * @param {?} day
         * @return {?}
         */
        function (day) { return _this.getTranslateWeekDay(day); })).join(', ');
    };
    /**
     * @private
     * @param {?} daysOfWeek
     * @param {?} hour
     * @return {?}
     */
    PoPageJobSchedulerSummaryComponent.prototype.getWeeklyLabelExecution = /**
     * @private
     * @param {?} daysOfWeek
     * @param {?} hour
     * @return {?}
     */
    function (daysOfWeek, hour) {
        if (daysOfWeek && Array.isArray(daysOfWeek)) {
            return this.getWeekDaysLabel(daysOfWeek) + " " + this.getHourLabel(hour);
        }
        else {
            return this.literals.notReported;
        }
    };
    /**
     * @private
     * @param {?=} days
     * @return {?}
     */
    PoPageJobSchedulerSummaryComponent.prototype.sortWeekDays = /**
     * @private
     * @param {?=} days
     * @return {?}
     */
    function (days) {
        if (days === void 0) { days = []; }
        /** @type {?} */
        var sorterWeekDays = this.getSorterWeekDays();
        return days.sort((/**
         * @param {?} a
         * @param {?} b
         * @return {?}
         */
        function (a, b) {
            /** @type {?} */
            var currDay = a.toLowerCase();
            /** @type {?} */
            var nextDay = b.toLowerCase();
            return sorterWeekDays[currDay] > sorterWeekDays[nextDay] ? 1 : -1;
        }));
    };
    PoPageJobSchedulerSummaryComponent.decorators = [
        { type: Component, args: [{
                    selector: 'po-page-job-scheduler-summary',
                    template: "<div class=\"po-md-12\">\r\n  <po-info\r\n    [p-label]=\"literals.process\"\r\n    [p-orientation]=\"infoOrientation\"\r\n    [p-value]=\"value.processID\">\r\n  </po-info>\r\n\r\n  <po-info\r\n    [p-label]=\"literals.periodicity\"\r\n    [p-orientation]=\"infoOrientation\"\r\n    [p-value]=\"periodicityValue\">\r\n  </po-info>\r\n\r\n  <po-info *ngIf=\"value.periodicity !== 'single'\"\r\n    [p-label]=\"literals.execution\"\r\n    [p-orientation]=\"infoOrientation\"\r\n    [p-value]=\"executionValue\">\r\n  </po-info>\r\n\r\n  <po-info\r\n    [p-label]=\"literals.recurrent\"\r\n    [p-orientation]=\"infoOrientation\"\r\n    [p-value]=\"recurrentValue\">\r\n  </po-info>\r\n\r\n  <po-info\r\n    [p-label]=\"literals.firstExecution\"\r\n    [p-orientation]=\"infoOrientation\"\r\n    [p-value]=\"firstExecutionValue\">\r\n  </po-info>\r\n</div>\r\n\r\n<po-widget *ngIf=\"parameters && parameters.length\"\r\n  class=\"po-pt-1 po-pb-1 po-md-12\"\r\n  [p-title]=\"literals.parameters\">\r\n\r\n  <po-dynamic-view\r\n    [p-fields]=\"parameters\"\r\n    [p-value]=\"value.executionParameter\">\r\n  </po-dynamic-view>\r\n\r\n</po-widget>\r\n\r\n"
                }] }
    ];
    /** @nocollapse */
    PoPageJobSchedulerSummaryComponent.ctorParameters = function () { return [
        { type: DatePipe }
    ]; };
    PoPageJobSchedulerSummaryComponent.propDecorators = {
        literals: [{ type: Input, args: ['p-literals',] }],
        parameters: [{ type: Input, args: ['p-parameters',] }],
        value: [{ type: Input, args: ['p-value',] }]
    };
    return PoPageJobSchedulerSummaryComponent;
}());
export { PoPageJobSchedulerSummaryComponent };
if (false) {
    /** @type {?} */
    PoPageJobSchedulerSummaryComponent.prototype.executionValue;
    /** @type {?} */
    PoPageJobSchedulerSummaryComponent.prototype.firstExecutionValue;
    /** @type {?} */
    PoPageJobSchedulerSummaryComponent.prototype.infoOrientation;
    /** @type {?} */
    PoPageJobSchedulerSummaryComponent.prototype.periodicityValue;
    /** @type {?} */
    PoPageJobSchedulerSummaryComponent.prototype.recurrentValue;
    /** @type {?} */
    PoPageJobSchedulerSummaryComponent.prototype.literals;
    /** @type {?} */
    PoPageJobSchedulerSummaryComponent.prototype.parameters;
    /** @type {?} */
    PoPageJobSchedulerSummaryComponent.prototype.value;
    /**
     * @type {?}
     * @private
     */
    PoPageJobSchedulerSummaryComponent.prototype.datePipe;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tcGFnZS1qb2Itc2NoZWR1bGVyLXN1bW1hcnkuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQHBvcnRpbmFyaS9wb3J0aW5hcmktdGVtcGxhdGVzLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvcG8tcGFnZS1qb2Itc2NoZWR1bGVyL3BvLXBhZ2Utam9iLXNjaGVkdWxlci1zdW1tYXJ5L3BvLXBhZ2Utam9iLXNjaGVkdWxlci1zdW1tYXJ5LmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQVUsTUFBTSxlQUFlLENBQUM7QUFDekQsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRTNDLE9BQU8sRUFBc0IsaUJBQWlCLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUloRjtJQWtCRSw0Q0FBb0IsUUFBa0I7UUFBbEIsYUFBUSxHQUFSLFFBQVEsQ0FBVTtRQVp0QyxtQkFBYyxHQUFHLEVBQUUsQ0FBQztRQUNwQix3QkFBbUIsR0FBRyxFQUFFLENBQUM7UUFDekIsb0JBQWUsR0FBRyxpQkFBaUIsQ0FBQyxVQUFVLENBQUM7UUFDL0MscUJBQWdCLEdBQUcsRUFBRSxDQUFDO1FBQ3RCLG1CQUFjLEdBQUcsRUFBRSxDQUFDO1FBRUMsYUFBUSxHQUFHLG1CQUFNLEVBQUUsRUFBQSxDQUFDO1FBRWxCLGVBQVUsR0FBOEIsRUFBRSxDQUFDO1FBRWhELFVBQUssR0FBMkIsbUJBQU0sRUFBRSxFQUFBLENBQUM7SUFFbEIsQ0FBQzs7OztJQUUxQyxxREFBUTs7O0lBQVI7UUFDUSxJQUFBLGVBQXlHLEVBQXZHLDRCQUFXLEVBQUUsY0FBSSxFQUFFLDBCQUFVLEVBQUUsMEJBQVUsRUFBRSx3QkFBUyxFQUFFLGtDQUFjLEVBQUUsMENBQWlDO1FBRS9HLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsV0FBVyxDQUFDLENBQUM7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QUMsUUFBUSxDQUFDLFdBQVcsQ0FBQztTQUNsQztJQUNILENBQUM7Ozs7OztJQUVPLHlEQUFZOzs7OztJQUFwQixVQUFxQixJQUF3QjtRQUF4QixxQkFBQSxFQUFBLFNBQXdCOztZQUNyQyxjQUFjLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixFQUFFO1FBRS9DLE9BQU8sSUFBSSxDQUFDLElBQUk7Ozs7O1FBQUMsVUFBQyxDQUFTLEVBQUUsQ0FBUzs7Z0JBQzlCLE9BQU8sR0FBRyxDQUFDLENBQUMsV0FBVyxFQUFFOztnQkFDekIsT0FBTyxHQUFHLENBQUMsQ0FBQyxXQUFXLEVBQUU7WUFFL0IsT0FBTyxjQUFjLENBQUMsT0FBTyxDQUFDLEdBQUcsY0FBYyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3BFLENBQUMsRUFBQyxDQUFDO0lBQ0wsQ0FBQzs7Z0JBaElGLFNBQVMsU0FBQztvQkFDVCxRQUFRLEVBQUUsK0JBQStCO29CQUN6Qyw0b0NBQTJEO2lCQUM1RDs7OztnQkFUUSxRQUFROzs7MkJBa0JkLEtBQUssU0FBQyxZQUFZOzZCQUVsQixLQUFLLFNBQUMsY0FBYzt3QkFFcEIsS0FBSyxTQUFDLFNBQVM7O0lBa0hsQix5Q0FBQztDQUFBLEFBbElELElBa0lDO1NBOUhZLGtDQUFrQzs7O0lBRTdDLDREQUFvQjs7SUFDcEIsaUVBQXlCOztJQUN6Qiw2REFBK0M7O0lBQy9DLDhEQUFzQjs7SUFDdEIsNERBQW9COztJQUVwQixzREFBeUM7O0lBRXpDLHdEQUFrRTs7SUFFbEUsbURBQTJEOzs7OztJQUUvQyxzREFBMEIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgRGF0ZVBpcGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xyXG5cclxuaW1wb3J0IHsgUG9EeW5hbWljVmlld0ZpZWxkLCBQb0luZm9PcmllbnRhdGlvbiB9IGZyb20gJ0Bwb3J0aW5hcmkvcG9ydGluYXJpLXVpJztcclxuXHJcbmltcG9ydCB7IFBvSm9iU2NoZWR1bGVySW50ZXJuYWwgfSBmcm9tICcuLi9pbnRlcmZhY2VzL3BvLWpvYi1zY2hlZHVsZXItaW50ZXJuYWwuaW50ZXJmYWNlJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAncG8tcGFnZS1qb2Itc2NoZWR1bGVyLXN1bW1hcnknLFxyXG4gIHRlbXBsYXRlVXJsOiAncG8tcGFnZS1qb2Itc2NoZWR1bGVyLXN1bW1hcnkuY29tcG9uZW50Lmh0bWwnXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBQb1BhZ2VKb2JTY2hlZHVsZXJTdW1tYXJ5Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcclxuXHJcbiAgZXhlY3V0aW9uVmFsdWUgPSAnJztcclxuICBmaXJzdEV4ZWN1dGlvblZhbHVlID0gJyc7XHJcbiAgaW5mb09yaWVudGF0aW9uID0gUG9JbmZvT3JpZW50YXRpb24uSG9yaXpvbnRhbDtcclxuICBwZXJpb2RpY2l0eVZhbHVlID0gJyc7XHJcbiAgcmVjdXJyZW50VmFsdWUgPSAnJztcclxuXHJcbiAgQElucHV0KCdwLWxpdGVyYWxzJykgbGl0ZXJhbHMgPSA8YW55PiB7fTtcclxuXHJcbiAgQElucHV0KCdwLXBhcmFtZXRlcnMnKSBwYXJhbWV0ZXJzOiBBcnJheTxQb0R5bmFtaWNWaWV3RmllbGQ+ID0gW107XHJcblxyXG4gIEBJbnB1dCgncC12YWx1ZScpIHZhbHVlOiBQb0pvYlNjaGVkdWxlckludGVybmFsID0gPGFueT4ge307XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZGF0ZVBpcGU6IERhdGVQaXBlKSB7fVxyXG5cclxuICBuZ09uSW5pdCgpIHtcclxuICAgIGNvbnN0IHsgcGVyaW9kaWNpdHksIGhvdXIsIGRheU9mTW9udGgsIGRheXNPZldlZWssIHJlY3VycmVudCwgZmlyc3RFeGVjdXRpb24sIGZpcnN0RXhlY3V0aW9uSG91ciB9ID0gdGhpcy52YWx1ZTtcclxuXHJcbiAgICB0aGlzLnBlcmlvZGljaXR5VmFsdWUgPSB0aGlzLmdldFBlcmlvZGljaXR5TGFiZWwocGVyaW9kaWNpdHkpO1xyXG4gICAgdGhpcy5leGVjdXRpb25WYWx1ZSA9IHRoaXMuZ2V0RXhlY3V0aW9uVmFsdWUocGVyaW9kaWNpdHksIGhvdXIsIGRheXNPZldlZWssIGRheU9mTW9udGgpO1xyXG4gICAgdGhpcy5maXJzdEV4ZWN1dGlvblZhbHVlID0gdGhpcy5nZXRGaXJzdEV4ZWN1dGlvbkxhYmVsKGZpcnN0RXhlY3V0aW9uLCBmaXJzdEV4ZWN1dGlvbkhvdXIpO1xyXG4gICAgdGhpcy5yZWN1cnJlbnRWYWx1ZSA9IHRoaXMuZ2V0UmVjdXJyZW50VmFsdWUocmVjdXJyZW50KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0RXhlY3V0aW9uVmFsdWUocGVyaW9kaWNpdHk6IHN0cmluZywgaG91cj86IHN0cmluZywgZGF5c09mV2Vlaz86IEFycmF5PHN0cmluZz4sIGRheU9mTW9udGg/OiBudW1iZXIpIHtcclxuICAgIHN3aXRjaCAocGVyaW9kaWNpdHkpIHtcclxuICAgICAgY2FzZSAnZGFpbHknOlxyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEhvdXJMYWJlbChob3VyKTtcclxuICAgICAgY2FzZSAnbW9udGhseSc6XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TW9udGhseUxhYmVsRXhlY3V0aW9uKGRheU9mTW9udGgsIGhvdXIpO1xyXG4gICAgICBjYXNlICd3ZWVrbHknOlxyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFdlZWtseUxhYmVsRXhlY3V0aW9uKGRheXNPZldlZWssIGhvdXIpO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiB0aGlzLmxpdGVyYWxzLm5vdFJlcG9ydGVkO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRGaXJzdEV4ZWN1dGlvbkxhYmVsKGZpcnN0RXhlY3V0aW9uOiBEYXRlLCBmaXJzdEV4ZWN1dGlvbkhvdXI/OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgaWYgKGZpcnN0RXhlY3V0aW9uKSB7XHJcbiAgICAgIGNvbnN0IGRhdGUgPSB0aGlzLmRhdGVQaXBlLnRyYW5zZm9ybShmaXJzdEV4ZWN1dGlvbiwgJ2RkL01NL3l5eXknLCAnLTAyMDAnKTtcclxuXHJcbiAgICAgIHJldHVybiBgJHtkYXRlfSAke3RoaXMuZ2V0SG91ckxhYmVsKGZpcnN0RXhlY3V0aW9uSG91cil9YDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmxpdGVyYWxzLm5vdFJlcG9ydGVkO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRIb3VyTGFiZWwoaG91cjogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gYCR7dGhpcy5saXRlcmFscy5hdH0gJHtob3VyIHx8ICcwMDowMCd9aGA7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldE1vbnRobHlMYWJlbEV4ZWN1dGlvbihkYXlPZk1vbnRoOiBudW1iZXIsIGhvdXI6IHN0cmluZykge1xyXG4gICAgY29uc3QgaG91ckxhYmVsID0gdGhpcy5nZXRIb3VyTGFiZWwoaG91cik7XHJcblxyXG4gICAgcmV0dXJuIGAke3RoaXMubGl0ZXJhbHMuZGF5fSAke2RheU9mTW9udGh9ICR7aG91ckxhYmVsfWA7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldFBlcmlvZGljaXR5TGFiZWwocGVyaW9kaWNpdHkpIHtcclxuICAgIHN3aXRjaCAocGVyaW9kaWNpdHkpIHtcclxuICAgICAgY2FzZSAnZGFpbHknOlxyXG4gICAgICAgIHJldHVybiB0aGlzLmxpdGVyYWxzLmRhaWx5O1xyXG4gICAgICBjYXNlICdtb250aGx5JzpcclxuICAgICAgICByZXR1cm4gdGhpcy5saXRlcmFscy5tb250aGx5O1xyXG4gICAgICBjYXNlICd3ZWVrbHknOlxyXG4gICAgICAgIHJldHVybiB0aGlzLmxpdGVyYWxzLndlZWtseTtcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICByZXR1cm4gdGhpcy5saXRlcmFscy5zaW5nbGU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldFJlY3VycmVudFZhbHVlKHJlY3VycmVudDogYm9vbGVhbik6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gcmVjdXJyZW50ID8gdGhpcy5saXRlcmFscy55ZXMgOiB0aGlzLmxpdGVyYWxzLm5vO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRTb3J0ZXJXZWVrRGF5cygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICdzdW5kYXknOiAwLFxyXG4gICAgICAnbW9uZGF5JzogMSxcclxuICAgICAgJ3R1ZXNkYXknOiAyLFxyXG4gICAgICAnd2VkbmVzZGF5JzogMyxcclxuICAgICAgJ3RodXJzZGF5JzogNCxcclxuICAgICAgJ2ZyaWRheSc6IDUsXHJcbiAgICAgICdzYXR1cmRheSc6IDZcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldFRyYW5zbGF0ZVdlZWtEYXkoZGF5OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgY29uc3QgZGF5cyA9IHtcclxuICAgICAgU3VuZGF5OiB0aGlzLmxpdGVyYWxzLnN1bmRheSxcclxuICAgICAgTW9uZGF5OiB0aGlzLmxpdGVyYWxzLm1vbmRheSxcclxuICAgICAgVHVlc2RheTogdGhpcy5saXRlcmFscy50dWVzZGF5LFxyXG4gICAgICBXZWRuZXNkYXk6IHRoaXMubGl0ZXJhbHMud2VkbmVzZGF5LFxyXG4gICAgICBUaHVyc2RheTogdGhpcy5saXRlcmFscy50aHVyc2RheSxcclxuICAgICAgRnJpZGF5OiB0aGlzLmxpdGVyYWxzLmZyaWRheSxcclxuICAgICAgU2F0dXJkYXk6IHRoaXMubGl0ZXJhbHMuc2F0dXJkYXksXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBkYXlzW2RheV0gfHwgJyc7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldFdlZWtEYXlzTGFiZWwoZGF5czogQXJyYXk8c3RyaW5nPiA9IFtdKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IHdlZWtEYXlzU29ydGVkID0gdGhpcy5zb3J0V2Vla0RheXMoZGF5cyk7XHJcblxyXG4gICAgcmV0dXJuIHdlZWtEYXlzU29ydGVkLm1hcChkYXkgPT4gdGhpcy5nZXRUcmFuc2xhdGVXZWVrRGF5KGRheSkpLmpvaW4oJywgJyk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldFdlZWtseUxhYmVsRXhlY3V0aW9uKGRheXNPZldlZWs6IEFycmF5PHN0cmluZz4sIGhvdXI6IHN0cmluZykge1xyXG4gICAgaWYgKGRheXNPZldlZWsgJiYgQXJyYXkuaXNBcnJheShkYXlzT2ZXZWVrKSkge1xyXG4gICAgICByZXR1cm4gYCR7dGhpcy5nZXRXZWVrRGF5c0xhYmVsKGRheXNPZldlZWspfSAke3RoaXMuZ2V0SG91ckxhYmVsKGhvdXIpfWA7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdGhpcy5saXRlcmFscy5ub3RSZXBvcnRlZDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgc29ydFdlZWtEYXlzKGRheXM6IEFycmF5PHN0cmluZz4gPSBbXSkge1xyXG4gICAgY29uc3Qgc29ydGVyV2Vla0RheXMgPSB0aGlzLmdldFNvcnRlcldlZWtEYXlzKCk7XHJcblxyXG4gICAgcmV0dXJuIGRheXMuc29ydCgoYTogc3RyaW5nLCBiOiBzdHJpbmcpID0+IHtcclxuICAgICAgY29uc3QgY3VyckRheSA9IGEudG9Mb3dlckNhc2UoKTtcclxuICAgICAgY29uc3QgbmV4dERheSA9IGIudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICAgIHJldHVybiBzb3J0ZXJXZWVrRGF5c1tjdXJyRGF5XSA+IHNvcnRlcldlZWtEYXlzW25leHREYXldID8gMSA6IC0xO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxufVxyXG4iXX0=