/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Input } from '@angular/core';
import { PoPageJobSchedulerInternal } from './po-page-job-scheduler-internal';
/**
 * \@description
 *
 * O `po-page-job-scheduler` é uma página para criação e atualização do *Job Scheduler* de forma simplificada, apenas informando
 * o serviço (endpoint) para consumo, sem a necessidade de criar componentes e tratamentos dos dados.
 */
var PoPageJobSchedulerBaseComponent = /** @class */ (function () {
    function PoPageJobSchedulerBaseComponent(poPageJobSchedulerService) {
        this.poPageJobSchedulerService = poPageJobSchedulerService;
        /**
         * Objeto com propriedades do breadcrumb.
         */
        this.breadcrumb = { items: [] };
        this.model = new PoPageJobSchedulerInternal();
    }
    /**
     * @protected
     * @param {?} id
     * @return {?}
     */
    PoPageJobSchedulerBaseComponent.prototype.loadData = /**
     * @protected
     * @param {?} id
     * @return {?}
     */
    function (id) {
        var _this = this;
        if (!id) {
            this.model = new PoPageJobSchedulerInternal();
            return;
        }
        this.poPageJobSchedulerService.getResource(id).toPromise().then((/**
         * @param {?} response
         * @return {?}
         */
        function (response) {
            _this.model = response;
        })).catch((/**
         * @return {?}
         */
        function () {
            _this.model = new PoPageJobSchedulerInternal();
        }));
    };
    /**
     * @protected
     * @param {?} controls
     * @return {?}
     */
    PoPageJobSchedulerBaseComponent.prototype.markAsDirtyInvalidControls = /**
     * @protected
     * @param {?} controls
     * @return {?}
     */
    function (controls) {
        for (var key in controls) {
            if (controls.hasOwnProperty(key)) {
                /** @type {?} */
                var control = controls[key];
                if (control.invalid) {
                    control.markAsDirty();
                }
            }
        }
    };
    PoPageJobSchedulerBaseComponent.propDecorators = {
        breadcrumb: [{ type: Input, args: ['p-breadcrumb',] }],
        serviceApi: [{ type: Input, args: ['p-service-api',] }],
        title: [{ type: Input, args: ['p-title',] }]
    };
    return PoPageJobSchedulerBaseComponent;
}());
export { PoPageJobSchedulerBaseComponent };
if (false) {
    /**
     * Objeto com propriedades do breadcrumb.
     * @type {?}
     */
    PoPageJobSchedulerBaseComponent.prototype.breadcrumb;
    /**
     * Endpoint usado pelo template para requisição do recurso que será utilizado para criação e edição.
     *
     * #### Processos
     *
     * Em sua inicialização será verificado a existência do endpoint `{end-point}/processes`.
     * Caso o endpoint seja válido, será utilizado um componente para selecionar o processo e filtrá-los.
     * Caso não seja válido, será utilizado um campo de entrada de texto para informar o endpoint.
     *
     * Para realizar o filtro de busca do processo, será enviado o conteúdo a ser filtrado através da propriedade *search*.
     * Os processos devem retornar uma lista de objetos que seguem a definição de dados abaixo:
     *
     * ```
     * GET {end-point}/processes?search=ac04
     * ...
     * { "processID": "string", "description": "string" }
     * ```
     *
     * Para retornar parâmetros dos processos, será realizado um `GET` como exemplificado abaixo.
     * Os parâmetros devem retornar uma lista de objetos que seguem a interface [PoDynamicFormField](/documentation/po-dynamic-form).
     *
     * ```
     * GET {end-point}/processes/:id/parameters
     * ...
     * { items: [{ "property": "server" }, { "property": "program" }] }
     * ```
     *
     * #### Salvar e Atualizar
     *
     * Para salvar o recurso, será feito uma requisição de criação no mesmo endpoint, passando os valores
     * preenchidos pelo usuário via *payload*. Abaixo uma requisição `POST` disparada,
     * onde as propriedades do *Job Scheduler* foram preenchidas:
     *
     * ```
     *  POST /api/po-samples/v1/jobschedulers HTTP/1.1
     *  Host: localhost:4000
     *  Connection: keep-alive
     *  Accept: application/json, text/plain
     *  ...
     * ```
     *
     * *Request payload*:
     *
     * ```
     * { "firstExecution": "2018-12-07T00:00:01-00:00", "recurrent": true, "daily": { "hour": 10, "minute": 12 }, "processID": "ac0405" }
     * ```
     *
     * Caso queira que o template carregue um recurso já existente, deve ser incluído um parâmetro na rota chamado `id`.
     *
     * Exemplo de configuração de rota:
     *
     * ```
     *  RouterModule.forRoot([
     *    ...
     *    { path: 'edit/:id', component: ExampleJobSchedulerComponent },
     *    ...
     *  ],
     * ```
     *
     * Baseado nisso, na inicialização do template será disparado uma requisição para buscar o recurso que será editado.
     *
     * ```
     * GET {end-point}/{id}
     * ```
     *
     * Ao salvar o recurso será disparado um `PUT` com os dados preenchidos. Abaixo uma requisição `PUT` disparada,
     * onde a propriedade *recurrent* e *daily* foram preenchidas/atualizadas e o `id` da url é 1:
     *
     * ```
     *  PUT /api/po-samples/v1/jobschedulers/1 HTTP/1.1
     *  Host: localhost:4000
     *  Connection: keep-alive
     *  Accept: application/json, text/plain
     *  ...
     * ```
     *
     * *Request payload*:
     *
     * ```
     * { "firstExecution": "2018-12-07T00:00:01-00:00", "recurrent": false, "daily": { "hour": 11, "minute": 30 }, "processID": "ac0405" }
     * ```
     * @type {?}
     */
    PoPageJobSchedulerBaseComponent.prototype.serviceApi;
    /**
     * Título da página.
     * @type {?}
     */
    PoPageJobSchedulerBaseComponent.prototype.title;
    /** @type {?} */
    PoPageJobSchedulerBaseComponent.prototype.model;
    /**
     * @type {?}
     * @protected
     */
    PoPageJobSchedulerBaseComponent.prototype.poPageJobSchedulerService;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tcGFnZS1qb2Itc2NoZWR1bGVyLWJhc2UuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQHBvcnRpbmFyaS9wb3J0aW5hcmktdGVtcGxhdGVzLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvcG8tcGFnZS1qb2Itc2NoZWR1bGVyL3BvLXBhZ2Utam9iLXNjaGVkdWxlci1iYXNlLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQ0EsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUt0QyxPQUFPLEVBQUUsMEJBQTBCLEVBQUUsTUFBTSxrQ0FBa0MsQ0FBQzs7Ozs7OztBQVM5RTtJQThGRSx5Q0FBc0IseUJBQW9EO1FBQXBELDhCQUF5QixHQUF6Qix5QkFBeUIsQ0FBMkI7Ozs7UUEzRm5ELGVBQVUsR0FBa0IsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLENBQUM7UUF5RmpFLFVBQUssR0FBMkIsSUFBSSwwQkFBMEIsRUFBRSxDQUFDO0lBRVksQ0FBQzs7Ozs7O0lBRXBFLGtEQUFROzs7OztJQUFsQixVQUFtQixFQUFtQjtRQUF0QyxpQkFZQztRQVhDLElBQUksQ0FBQyxFQUFFLEVBQUU7WUFDUCxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksMEJBQTBCLEVBQUUsQ0FBQztZQUM5QyxPQUFPO1NBQ1I7UUFFRCxJQUFJLENBQUMseUJBQXlCLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxDQUFDLFNBQVMsRUFBRSxDQUFDLElBQUk7Ozs7UUFBQyxVQUFDLFFBQWdDO1lBQy9GLEtBQUksQ0FBQyxLQUFLLEdBQUcsUUFBUSxDQUFDO1FBQ3hCLENBQUMsRUFBQyxDQUFDLEtBQUs7OztRQUFDO1lBQ1AsS0FBSSxDQUFDLEtBQUssR0FBRyxJQUFJLDBCQUEwQixFQUFFLENBQUM7UUFDaEQsQ0FBQyxFQUFDLENBQUM7SUFFTCxDQUFDOzs7Ozs7SUFFUyxvRUFBMEI7Ozs7O0lBQXBDLFVBQXFDLFFBQTRDO1FBQy9FLEtBQUssSUFBTSxHQUFHLElBQUksUUFBUSxFQUFFO1lBQzFCLElBQUksUUFBUSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsRUFBRTs7b0JBQzFCLE9BQU8sR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDO2dCQUU3QixJQUFJLE9BQU8sQ0FBQyxPQUFPLEVBQUU7b0JBQ25CLE9BQU8sQ0FBQyxXQUFXLEVBQUUsQ0FBQztpQkFDdkI7YUFDRjtTQUNGO0lBQ0gsQ0FBQzs7NkJBckhBLEtBQUssU0FBQyxjQUFjOzZCQW9GcEIsS0FBSyxTQUFDLGVBQWU7d0JBR3JCLEtBQUssU0FBQyxTQUFTOztJQWdDbEIsc0NBQUM7Q0FBQSxBQTFIRCxJQTBIQztTQTFIWSwrQkFBK0I7Ozs7OztJQUcxQyxxREFBaUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQW9GakUscURBQTJDOzs7OztJQUczQyxnREFBZ0M7O0lBRWhDLGdEQUFpRTs7Ozs7SUFFckQsb0VBQThEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWJzdHJhY3RDb250cm9sIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xyXG5pbXBvcnQgeyBJbnB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5cclxuaW1wb3J0IHsgUG9CcmVhZGNydW1iIH0gZnJvbSAnQHBvcnRpbmFyaS9wb3J0aW5hcmktdWknO1xyXG5cclxuaW1wb3J0IHsgUG9Kb2JTY2hlZHVsZXJJbnRlcm5hbCB9IGZyb20gJy4vaW50ZXJmYWNlcy9wby1qb2Itc2NoZWR1bGVyLWludGVybmFsLmludGVyZmFjZSc7XHJcbmltcG9ydCB7IFBvUGFnZUpvYlNjaGVkdWxlckludGVybmFsIH0gZnJvbSAnLi9wby1wYWdlLWpvYi1zY2hlZHVsZXItaW50ZXJuYWwnO1xyXG5pbXBvcnQgeyBQb1BhZ2VKb2JTY2hlZHVsZXJTZXJ2aWNlIH0gZnJvbSAnLi9wby1wYWdlLWpvYi1zY2hlZHVsZXIuc2VydmljZSc7XHJcblxyXG4vKipcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqIE8gYHBvLXBhZ2Utam9iLXNjaGVkdWxlcmAgw6kgdW1hIHDDoWdpbmEgcGFyYSBjcmlhw6fDo28gZSBhdHVhbGl6YcOnw6NvIGRvICpKb2IgU2NoZWR1bGVyKiBkZSBmb3JtYSBzaW1wbGlmaWNhZGEsIGFwZW5hcyBpbmZvcm1hbmRvXHJcbiAqIG8gc2VydmnDp28gKGVuZHBvaW50KSBwYXJhIGNvbnN1bW8sIHNlbSBhIG5lY2Vzc2lkYWRlIGRlIGNyaWFyIGNvbXBvbmVudGVzIGUgdHJhdGFtZW50b3MgZG9zIGRhZG9zLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFBvUGFnZUpvYlNjaGVkdWxlckJhc2VDb21wb25lbnQge1xyXG5cclxuICAvKiogT2JqZXRvIGNvbSBwcm9wcmllZGFkZXMgZG8gYnJlYWRjcnVtYi4gKi9cclxuICBASW5wdXQoJ3AtYnJlYWRjcnVtYicpIGJyZWFkY3J1bWI/OiBQb0JyZWFkY3J1bWIgPSB7IGl0ZW1zOiBbXSB9O1xyXG5cclxuICAvKipcclxuICAgKiBFbmRwb2ludCB1c2FkbyBwZWxvIHRlbXBsYXRlIHBhcmEgcmVxdWlzacOnw6NvIGRvIHJlY3Vyc28gcXVlIHNlcsOhIHV0aWxpemFkbyBwYXJhIGNyaWHDp8OjbyBlIGVkacOnw6NvLlxyXG4gICAqXHJcbiAgICogIyMjIyBQcm9jZXNzb3NcclxuICAgKlxyXG4gICAqIEVtIHN1YSBpbmljaWFsaXphw6fDo28gc2Vyw6EgdmVyaWZpY2FkbyBhIGV4aXN0w6puY2lhIGRvIGVuZHBvaW50IGB7ZW5kLXBvaW50fS9wcm9jZXNzZXNgLlxyXG4gICAqIENhc28gbyBlbmRwb2ludCBzZWphIHbDoWxpZG8sIHNlcsOhIHV0aWxpemFkbyB1bSBjb21wb25lbnRlIHBhcmEgc2VsZWNpb25hciBvIHByb2Nlc3NvIGUgZmlsdHLDoS1sb3MuXHJcbiAgICogQ2FzbyBuw6NvIHNlamEgdsOhbGlkbywgc2Vyw6EgdXRpbGl6YWRvIHVtIGNhbXBvIGRlIGVudHJhZGEgZGUgdGV4dG8gcGFyYSBpbmZvcm1hciBvIGVuZHBvaW50LlxyXG4gICAqXHJcbiAgICogUGFyYSByZWFsaXphciBvIGZpbHRybyBkZSBidXNjYSBkbyBwcm9jZXNzbywgc2Vyw6EgZW52aWFkbyBvIGNvbnRlw7pkbyBhIHNlciBmaWx0cmFkbyBhdHJhdsOpcyBkYSBwcm9wcmllZGFkZSAqc2VhcmNoKi5cclxuICAgKiBPcyBwcm9jZXNzb3MgZGV2ZW0gcmV0b3JuYXIgdW1hIGxpc3RhIGRlIG9iamV0b3MgcXVlIHNlZ3VlbSBhIGRlZmluacOnw6NvIGRlIGRhZG9zIGFiYWl4bzpcclxuICAgKlxyXG4gICAqIGBgYFxyXG4gICAqIEdFVCB7ZW5kLXBvaW50fS9wcm9jZXNzZXM/c2VhcmNoPWFjMDRcclxuICAgKiAuLi5cclxuICAgKiB7IFwicHJvY2Vzc0lEXCI6IFwic3RyaW5nXCIsIFwiZGVzY3JpcHRpb25cIjogXCJzdHJpbmdcIiB9XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBQYXJhIHJldG9ybmFyIHBhcsOibWV0cm9zIGRvcyBwcm9jZXNzb3MsIHNlcsOhIHJlYWxpemFkbyB1bSBgR0VUYCBjb21vIGV4ZW1wbGlmaWNhZG8gYWJhaXhvLlxyXG4gICAqIE9zIHBhcsOibWV0cm9zIGRldmVtIHJldG9ybmFyIHVtYSBsaXN0YSBkZSBvYmpldG9zIHF1ZSBzZWd1ZW0gYSBpbnRlcmZhY2UgW1BvRHluYW1pY0Zvcm1GaWVsZF0oL2RvY3VtZW50YXRpb24vcG8tZHluYW1pYy1mb3JtKS5cclxuICAgKlxyXG4gICAqIGBgYFxyXG4gICAqIEdFVCB7ZW5kLXBvaW50fS9wcm9jZXNzZXMvOmlkL3BhcmFtZXRlcnNcclxuICAgKiAuLi5cclxuICAgKiB7IGl0ZW1zOiBbeyBcInByb3BlcnR5XCI6IFwic2VydmVyXCIgfSwgeyBcInByb3BlcnR5XCI6IFwicHJvZ3JhbVwiIH1dIH1cclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqICMjIyMgU2FsdmFyIGUgQXR1YWxpemFyXHJcbiAgICpcclxuICAgKiBQYXJhIHNhbHZhciBvIHJlY3Vyc28sIHNlcsOhIGZlaXRvIHVtYSByZXF1aXNpw6fDo28gZGUgY3JpYcOnw6NvIG5vIG1lc21vIGVuZHBvaW50LCBwYXNzYW5kbyBvcyB2YWxvcmVzXHJcbiAgICogcHJlZW5jaGlkb3MgcGVsbyB1c3XDoXJpbyB2aWEgKnBheWxvYWQqLiBBYmFpeG8gdW1hIHJlcXVpc2nDp8OjbyBgUE9TVGAgZGlzcGFyYWRhLFxyXG4gICAqIG9uZGUgYXMgcHJvcHJpZWRhZGVzIGRvICpKb2IgU2NoZWR1bGVyKiBmb3JhbSBwcmVlbmNoaWRhczpcclxuICAgKlxyXG4gICAqIGBgYFxyXG4gICAqICBQT1NUIC9hcGkvcG8tc2FtcGxlcy92MS9qb2JzY2hlZHVsZXJzIEhUVFAvMS4xXHJcbiAgICogIEhvc3Q6IGxvY2FsaG9zdDo0MDAwXHJcbiAgICogIENvbm5lY3Rpb246IGtlZXAtYWxpdmVcclxuICAgKiAgQWNjZXB0OiBhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluXHJcbiAgICogIC4uLlxyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogKlJlcXVlc3QgcGF5bG9hZCo6XHJcbiAgICpcclxuICAgKiBgYGBcclxuICAgKiB7IFwiZmlyc3RFeGVjdXRpb25cIjogXCIyMDE4LTEyLTA3VDAwOjAwOjAxLTAwOjAwXCIsIFwicmVjdXJyZW50XCI6IHRydWUsIFwiZGFpbHlcIjogeyBcImhvdXJcIjogMTAsIFwibWludXRlXCI6IDEyIH0sIFwicHJvY2Vzc0lEXCI6IFwiYWMwNDA1XCIgfVxyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogQ2FzbyBxdWVpcmEgcXVlIG8gdGVtcGxhdGUgY2FycmVndWUgdW0gcmVjdXJzbyBqw6EgZXhpc3RlbnRlLCBkZXZlIHNlciBpbmNsdcOtZG8gdW0gcGFyw6JtZXRybyBuYSByb3RhIGNoYW1hZG8gYGlkYC5cclxuICAgKlxyXG4gICAqIEV4ZW1wbG8gZGUgY29uZmlndXJhw6fDo28gZGUgcm90YTpcclxuICAgKlxyXG4gICAqIGBgYFxyXG4gICAqICBSb3V0ZXJNb2R1bGUuZm9yUm9vdChbXHJcbiAgICogICAgLi4uXHJcbiAgICogICAgeyBwYXRoOiAnZWRpdC86aWQnLCBjb21wb25lbnQ6IEV4YW1wbGVKb2JTY2hlZHVsZXJDb21wb25lbnQgfSxcclxuICAgKiAgICAuLi5cclxuICAgKiAgXSxcclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIEJhc2VhZG8gbmlzc28sIG5hIGluaWNpYWxpemHDp8OjbyBkbyB0ZW1wbGF0ZSBzZXLDoSBkaXNwYXJhZG8gdW1hIHJlcXVpc2nDp8OjbyBwYXJhIGJ1c2NhciBvIHJlY3Vyc28gcXVlIHNlcsOhIGVkaXRhZG8uXHJcbiAgICpcclxuICAgKiBgYGBcclxuICAgKiBHRVQge2VuZC1wb2ludH0ve2lkfVxyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogQW8gc2FsdmFyIG8gcmVjdXJzbyBzZXLDoSBkaXNwYXJhZG8gdW0gYFBVVGAgY29tIG9zIGRhZG9zIHByZWVuY2hpZG9zLiBBYmFpeG8gdW1hIHJlcXVpc2nDp8OjbyBgUFVUYCBkaXNwYXJhZGEsXHJcbiAgICogb25kZSBhIHByb3ByaWVkYWRlICpyZWN1cnJlbnQqIGUgKmRhaWx5KiBmb3JhbSBwcmVlbmNoaWRhcy9hdHVhbGl6YWRhcyBlIG8gYGlkYCBkYSB1cmwgw6kgMTpcclxuICAgKlxyXG4gICAqIGBgYFxyXG4gICAqICBQVVQgL2FwaS9wby1zYW1wbGVzL3YxL2pvYnNjaGVkdWxlcnMvMSBIVFRQLzEuMVxyXG4gICAqICBIb3N0OiBsb2NhbGhvc3Q6NDAwMFxyXG4gICAqICBDb25uZWN0aW9uOiBrZWVwLWFsaXZlXHJcbiAgICogIEFjY2VwdDogYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpblxyXG4gICAqICAuLi5cclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqICpSZXF1ZXN0IHBheWxvYWQqOlxyXG4gICAqXHJcbiAgICogYGBgXHJcbiAgICogeyBcImZpcnN0RXhlY3V0aW9uXCI6IFwiMjAxOC0xMi0wN1QwMDowMDowMS0wMDowMFwiLCBcInJlY3VycmVudFwiOiBmYWxzZSwgXCJkYWlseVwiOiB7IFwiaG91clwiOiAxMSwgXCJtaW51dGVcIjogMzAgfSwgXCJwcm9jZXNzSURcIjogXCJhYzA0MDVcIiB9XHJcbiAgICogYGBgXHJcbiAgICovXHJcbiAgQElucHV0KCdwLXNlcnZpY2UtYXBpJykgc2VydmljZUFwaTogc3RyaW5nO1xyXG5cclxuICAvKiogVMOtdHVsbyBkYSBww6FnaW5hLiAqL1xyXG4gIEBJbnB1dCgncC10aXRsZScpIHRpdGxlOiBzdHJpbmc7XHJcblxyXG4gIG1vZGVsOiBQb0pvYlNjaGVkdWxlckludGVybmFsID0gbmV3IFBvUGFnZUpvYlNjaGVkdWxlckludGVybmFsKCk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBwb1BhZ2VKb2JTY2hlZHVsZXJTZXJ2aWNlOiBQb1BhZ2VKb2JTY2hlZHVsZXJTZXJ2aWNlKSB7fVxyXG5cclxuICBwcm90ZWN0ZWQgbG9hZERhdGEoaWQ6IHN0cmluZyB8IG51bWJlcikge1xyXG4gICAgaWYgKCFpZCkge1xyXG4gICAgICB0aGlzLm1vZGVsID0gbmV3IFBvUGFnZUpvYlNjaGVkdWxlckludGVybmFsKCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnBvUGFnZUpvYlNjaGVkdWxlclNlcnZpY2UuZ2V0UmVzb3VyY2UoaWQpLnRvUHJvbWlzZSgpLnRoZW4oKHJlc3BvbnNlOiBQb0pvYlNjaGVkdWxlckludGVybmFsKSA9PiB7XHJcbiAgICAgIHRoaXMubW9kZWwgPSByZXNwb25zZTtcclxuICAgIH0pLmNhdGNoKCgpID0+IHtcclxuICAgICAgdGhpcy5tb2RlbCA9IG5ldyBQb1BhZ2VKb2JTY2hlZHVsZXJJbnRlcm5hbCgpO1xyXG4gICAgfSk7XHJcblxyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIG1hcmtBc0RpcnR5SW52YWxpZENvbnRyb2xzKGNvbnRyb2xzOiB7IFtrZXk6IHN0cmluZ106IEFic3RyYWN0Q29udHJvbCB9ICkge1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gY29udHJvbHMpIHtcclxuICAgICAgaWYgKGNvbnRyb2xzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICBjb25zdCBjb250cm9sID0gY29udHJvbHNba2V5XTtcclxuXHJcbiAgICAgICAgaWYgKGNvbnRyb2wuaW52YWxpZCkge1xyXG4gICAgICAgICAgY29udHJvbC5tYXJrQXNEaXJ0eSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbn1cclxuIl19