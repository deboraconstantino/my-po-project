!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@angular/forms"),require("@portinari/portinari-ui"),require("@angular/router"),require("@angular/common/http"),require("rxjs/operators"),require("rxjs")):"function"==typeof define&&define.amd?define("@portinari/portinari-templates",["exports","@angular/core","@angular/common","@angular/forms","@portinari/portinari-ui","@angular/router","@angular/common/http","rxjs/operators","rxjs"],t):t(((e=e||self).portinari=e.portinari||{},e.portinari["portinari-templates"]={}),e.ng.core,e.ng.common,e.ng.forms,e.portinariUi,e.ng.router,e.ng.common.http,e.rxjs.operators,e.rxjs)}(this,(function(e,t,r,o,n,i,s,a,c){"use strict";var p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function l(e,t){function r(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var u=function(){return(u=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function d(e,t){var r,o,n,i,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,o&&(n=2&i[0]?o["return"]:i[0]?o["throw"]||((n=o["return"])&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(n=(n=s.trys).length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){s.label=i[1];break}if(6===i[0]&&s.label<n[1]){s.label=n[1],n=i;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(i);break}n[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function h(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,n,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i["return"])&&r.call(i)}finally{if(n)throw n.error}}return s}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}var g=["pt","en","es","ru"],f="pt";function y(){return b()}function v(){return navigator.language||navigator.userLanguage}function b(){var e=(v()||f).toLowerCase().substring(0,2);return g.includes(e)?e:f}function P(e){return"string"==typeof e?"true"===(e=e.toLowerCase().trim())||"on"===e||""===e:"number"==typeof e?1===e:!!e}function w(e,t){return typeof e===t}function k(e){return!!e&&e.startsWith("http")}function S(e,t){void 0===e&&(e={}),void 0===t&&(t=[]);return t.reduce((function(t,r){var o;return u({},t,((o={})[r]=e[r],o))}),{})}function C(e){return void 0===e&&(e={}),Object.keys(e).map((function(t){return e[t]}))}function A(e){return e?e<10?"0"+e:e:"00"}var E={en:{cancelButton:"Cancel",closeButton:"Close",continueButton:"Continue",email:"e-mail",emailErrorMessagePhrase:"Invalid e-mail format",emailSentConfirmationPhrase:"We have sent the instructions and new password creation link to your e-mail.\n    If you did not receive it after a few minutes, check your spam box or click Resend.",emailSentTitle:"E-mail sent",forgotPasswordTitle:"Forgot your password?",insertCode:"Type the code",insertEmail:"Enter your e-mail",insertPhone:"Enter your mobile number",phoneErrorMessagePhrase:"Invalid phone number",prepositionIn:"in",prepositionOr:"or",recoveryPasswordPhrase:"To recover your password we will send you a {0} with instructions.",resendEmailButton:"Resend",resendSmsCodePhrase:"If the code does not arrive within a few minutes, please send it again.",sendAgainPhrase:"If the code does not arrive within a few minutes",sendAgain:"send again.",sendButton:"Submit",sentSmsCodePhrase:"We sent a code for your mobile phone.",sms:"SMS",smsCodeErrorMessagePhrase:"Invalid code. Please re-enter or contact support",supportContact:"If you do not have access to {0} contact support",telephone:"telephone",typeCodeTitle:"Enter sent code"},es:{cancelButton:"Cancelar",closeButton:"Cerrar",continueButton:"Continuar",email:"e-mail",emailErrorMessagePhrase:"Formato de correo electrónico no válido",emailSentConfirmationPhrase:"Enviamos las instrucciones y enlace de creación de nueva contraseña para su correo electrónico.\n    Si no ha recibido después de unos minutos, compruebe su caja de spam o haga clic en Reenviar",emailSentTitle:"E-mail enviado",forgotPasswordTitle:"Olvidaste tu contraseña?",insertCode:"Introduzca el código",insertEmail:"Introduce tu e-mail",insertPhone:"Introduce tu número de celular",phoneErrorMessagePhrase:"Número de teléfono no válido",prepositionIn:"en",prepositionOr:"u",recoveryPasswordPhrase:"Para recuperar su contraseña vamos a enviar un {0} con instrucciones.",resendEmailButton:"Reenviar",resendSmsCodePhrase:"Si el código no llega dentro de unos minutos, vuelva a enviar.",sendAgain:"envíe de nuevo.",sendAgainPhrase:"Si el código no llega dentro de unos minutos",sendButton:"Enviar",sentSmsCodePhrase:"Enviamos un código para su celular.",sms:"SMS",smsCodeErrorMessagePhrase:"Código no válido. Escriba de nuevo o póngase en contacto con el soporte",supportContact:"Si no tiene acceso a {0} póngase en contacto con el soporte",telephone:"teléfono",typeCodeTitle:"Escribir código enviado"},pt:{cancelButton:"Cancelar",closeButton:"Fechar",continueButton:"Continuar",email:"e-mail",emailErrorMessagePhrase:"Formato de e-mail inválido",emailSentConfirmationPhrase:"Enviamos as instruções e link de criação de nova senha para o seu e-mail.\n    Caso não tenha recebido após alguns minutos, verifique sua caixa de spam ou clique em Reenviar.",emailSentTitle:"E-mail enviado",forgotPasswordTitle:"Esqueceu sua senha?",insertCode:"Digite o código",insertEmail:"Insira seu e-mail",insertPhone:"Insira seu número de celular",phoneErrorMessagePhrase:"Número de telefone inválido",prepositionIn:"em",prepositionOr:"ou",recoveryPasswordPhrase:"Para recuperar sua senha vamos enviar um {0} com instruções.",resendEmailButton:"Reenviar",resendSmsCodePhrase:"Se o código não chegar dentro de alguns minutos envie novamente",sendAgain:"envie novamente.",sendAgainPhrase:"Se o código não chegar dentro de alguns minutos",sendButton:"Enviar",sentSmsCodePhrase:"Enviamos um código para seu celular cadastrado.",sms:"SMS",smsCodeErrorMessagePhrase:"Código inválido. Digite novamente ou contacte o suporte",supportContact:"Se não tiver acesso ao {0} contacte o suporte",telephone:"telefone",typeCodeTitle:"Digitar código enviado"},ru:{cancelButton:"отменить",closeButton:"близко",continueButton:"близко",email:"по электронной почте",emailErrorMessagePhrase:"Неверный формат электронной почты",emailSentConfirmationPhrase:"Мы отправили инструкции и новую ссылку для создания пароля для вашей электронной почты.\nЕсли вы не получили его в течение нескольких минут, установите флажок Спам или нажмите Далее.",emailSentTitle:"Письмо отправлено",forgotPasswordTitle:"Забыли пароль?",insertCode:"Введите код",insertEmail:"Введите адрес электронной почты",insertPhone:"Введите номер вашего мобильного телефона",phoneErrorMessagePhrase:"Неверный номер телефона",prepositionIn:"в",prepositionOr:"или",recoveryPasswordPhrase:"Для восстановления вашего пароля мы вышлем {0} с инструкциями.",resendEmailButton:"Отправить еще раз",resendSmsCodePhrase:"Если код не приходит через несколько минут, попробуйте еще раз.",sendAgain:"отправить снова.",sendAgainPhrase:"Если код не приходит через несколько минут",sendButton:"послать",sentSmsCodePhrase:"Мы отправляем код на ваш зарегистрированный мобильный телефон.",sms:"SMS",smsCodeErrorMessagePhrase:"Неверный код. Повторите или обратитесь в службу поддержки",supportContact:"Если у вас нет доступа к {0}, обратитесь в службу поддержки",telephone:"телефон",typeCodeTitle:"Введите отправленный код"}},I={All:"all",Email:"email",SMS:"sms"},M=15,F=15,R="(99) 99999-9999",O=I.Email,x=function(){function e(){this._phoneMask=R,this._type=O,this.maxLength=M,this.minLength=F,this.literals=u({},E[f],E[y()]),this.codeSubmit=new t.EventEmitter,this.submit=new t.EventEmitter}return Object.defineProperty(e.prototype,"contactEmail",{get:function(){return this._contactEmail},set:function(e){this._contactEmail=e,this.smsCodeErrorMessage=this.concatenateSMSErrorMessage(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"phoneMask",{get:function(){return this._phoneMask},set:function(e){this._phoneMask=e||R,this.minLength=this.maxLength=this._phoneMask.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(e){this._type=Object.values(I).includes(e)?e:O},enumerable:!0,configurable:!0}),e.prototype.concatenateSMSErrorMessage=function(e){var t=this.literals.smsCodeErrorMessagePhrase;return e&&""!==e?t+" "+this.literals.prepositionIn+" "+e+".":t},e.propDecorators={contactEmail:[{type:t.Input,args:["p-contact-email"]}],codeError:[{type:t.Input,args:["p-code-error"]}],phoneMask:[{type:t.Input,args:["p-phone-mask"]}],type:[{type:t.Input,args:["p-type"]}],urlRecovery:[{type:t.Input,args:["p-url-recovery"]}],codeSubmit:[{type:t.Output,args:["p-code-submit"]}],submit:[{type:t.Output,args:["p-submit"]}]},e}(),D={Email:"email",SMSCode:"smsCode",Confirmation:"confirmation"},L=function(){function e(e){this.http=e}return e.prototype.post=function(e,t,r){return this.http.post(e,t,{observe:"response",params:r})},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:s.HttpClient}]},e}(),T=function(e){function r(t,r,o){var n=e.call(this)||this;return n.router=t,n.poI18nPipe=r,n.poModalPasswordRecoveryService=o,n.chosenTypeFormOption=I.Email,n.codeMask="9 9 9 9 9 9",n.emailModal=!0,n.emailModalPhrases={firstPhrase:null,secondPhrase:null},n.endpoint=".",n.invalidCode=!1,n.invalidEmail=!1,n.modalType=D.Email,n.submittedCodeValue={},n.submittedContactValue={},n.primaryAction={label:undefined,action:function(){}},n.secondaryAction={label:undefined,action:function(){}},n.typeFormOptions=[{label:"e-mail",value:I.Email},{label:"SMS",value:I.SMS}],n}return l(r,e),r.prototype.ngOnDestroy=function(){this.passwordRecoverySubscription&&this.passwordRecoverySubscription.unsubscribe(),this.smsCodeSubscription&&this.smsCodeSubscription.unsubscribe()},r.prototype.completed=function(){this.cancelAction()},r.prototype.formModelChangesCheck=function(e){var t=e.invalid;if(this.invalidEmail=t&&e.dirty,this.primaryAction.disabled=t,this.modalType===D.SMSCode){var r=this.codeError!==undefined&&""!==this.codeError;this.showCustomCodeError=r&&e.pristine}},r.prototype.getInputType=function(e){var t=this;this.type=e,this.pipeModalPhrases(),setTimeout((function(){t.control=t.emailForm.controls[e],t.formModelChangesCheck(t.emailForm),t.resetFormFields(t.control)}))},r.prototype.open=function(){var e=this.checkFormType(this.type);this.control=this.emailForm.controls[e],this.setEmailModalPhrasesAndActions(),this.formModelChangesCheck(this.emailForm),this.recoveryModalElement.open()},r.prototype.openConfirmation=function(){this.modalTitle=this.literals.emailSentTitle,this.modalType=D.Confirmation,this.setActions(this.cancelAction,this.literals.closeButton,this.submitAction,this.literals.resendEmailButton,!1)},r.prototype.openSmsCode=function(){var e=this;this.modalTitle=this.literals.typeCodeTitle,this.modalType=D.SMSCode,this.setActions(this.submitSmsCodeAction,this.literals.continueButton,this.cancelAction,this.literals.cancelButton,!0),setTimeout((function(){e.control=e.smsCodeForm.controls.sms,e.formModelChangesCheck(e.smsCodeForm)}))},r.prototype.resendSmsCode=function(){this.incrementRetryAttempts(),this.urlRecovery?this.submitActionRequest(this.submittedContactValue,this.type):this.submit.emit(this.submittedContactValue)},r.prototype.assignSmsResponse=function(e){this.smsBodyResponse=Object.assign({},{hash:e.hash}),e.urlValidationCode&&(this.smsBodyResponse=Object.assign(this.smsBodyResponse,{urlValidationCode:e.urlValidationCode}))},r.prototype.cancelAction=function(){this.resetFormFields(this.control),this.submittedContactValue={},this.chosenTypeFormOption=I.Email,this.modalType=D.Email,this.type=this.modalPasswordRecoveryTypeAll?I.All:this.type,this.recoveryModalElement.close()},r.prototype.checkFormType=function(e){return e!==I.All?e:I.Email},r.prototype.formReset=function(e){e.markAsPristine(),e.markAsUntouched(),e.updateValueAndValidity()},r.prototype.getEmitValue=function(e){return e===I.SMS?this.phone:this.email},r.prototype.incrementRetryAttempts=function(){this.submittedContactValue.retry=this.submittedContactValue.retry+1||1},r.prototype.openExternalLink=function(e,t){window.open(e+"?token="+t,"_self")},r.prototype.openInternalLink=function(e,t,r){this.router.navigate([e+"/"+t],{queryParams:{token:r}})},r.prototype.pipeModalPhrases=function(){this.type===I.SMS?(this.emailModalPhrases.firstPhrase=this.setPipeArguments(this.literals.recoveryPasswordPhrase,this.literals.sms),this.emailModalPhrases.secondPhrase=this.setPipeArguments(this.literals.supportContact,this.literals.telephone)):(this.emailModalPhrases.firstPhrase=this.setPipeArguments(this.literals.recoveryPasswordPhrase,this.literals.email),this.emailModalPhrases.secondPhrase=this.setPipeArguments(this.literals.supportContact,this.literals.email))},r.prototype.redirectToChangePassword=function(e){var t=e.urlChangePassword;if(t)k(t)?this.openExternalLink(t,e.token):this.openInternalLink(this.urlRecovery,t,e.token);else{this.openInternalLink(this.urlRecovery,"changePassword",e.token)}},r.prototype.resetFormFields=function(e){this.formReset(e),this.email=undefined,this.phone=undefined,this.smsCode=undefined},r.prototype.setActions=function(e,t,r,o,n){var i=this;this.primaryAction.action=function(){return e.call(i)},this.primaryAction.label=t,this.secondaryAction.action=function(){return r.call(i)},this.secondaryAction.label=o,this.primaryAction.disabled=n},r.prototype.setEmailModalPhrasesAndActions=function(){this.modalTitle=this.literals.forgotPasswordTitle,this.pipeModalPhrases(),this.modalPasswordRecoveryTypeAll=this.type===I.All,this.setActions(this.submitAction,this.literals.sendButton,this.cancelAction,this.literals.cancelButton,!0)},r.prototype.setRequestEndpoint=function(e){var t=e||"validation";return this.urlRecovery+"/"+t},r.prototype.setPipeArguments=function(e,t){return this.poI18nPipe.transform(e,t)},r.prototype.submitAction=function(){this.modalType===D.Confirmation?this.incrementRetryAttempts():this.formReset(this.control),this.submittedContactValue[this.checkFormType(this.type)]=this.getEmitValue(this.type),this.urlRecovery?this.submitActionRequest(this.submittedContactValue,this.type):this.submit.emit(this.submittedContactValue)},r.prototype.submitActionRequest=function(e,t){var r=this,o=t===I.SMS?{type:"sms"}:undefined;this.passwordRecoverySubscription=this.poModalPasswordRecoveryService.post(this.urlRecovery,e,o).subscribe((function(e){t!==I.Email&&t!==I.All||204!==e.status?t===I.SMS&&200===e.status&&(r.assignSmsResponse(e.body),r.openSmsCode()):r.openConfirmation()}))},r.prototype.submitSmsCodeAction=function(){this.submittedCodeValue.code=this.smsCode,this.urlRecovery?(this.submittedCodeValue=Object.assign(this.submittedCodeValue,{hash:this.smsBodyResponse.hash}),this.submitSmsCodeRequest(this.submittedCodeValue)):this.codeSubmit.emit(this.submittedCodeValue),this.resetFormFields(this.control)},r.prototype.submitSmsCodeRequest=function(e){var t=this;this.smsCodeSubscription=this.poModalPasswordRecoveryService.post(this.setRequestEndpoint(this.smsBodyResponse.urlValidationCode),e).subscribe((function(e){200===e.status&&(t.completed(),t.redirectToChangePassword(e.body))}),(function(e){t.codeError=e.error.message,t.openSmsCode()}))},r.decorators=[{type:t.Component,args:[{selector:"po-modal-password-recovery",template:'<po-modal #recoveryModal\r\n  p-hide-close\r\n  p-size="auto"\r\n  [ngSwitch]="modalType"\r\n  [p-primary-action]="primaryAction"\r\n  [p-secondary-action]="secondaryAction"\r\n  [p-title]="modalTitle"> \r\n  <div class="po-modal-password-recovery-wrapper">\r\n    <div *ngSwitchCase="\'email\'" class="po-modal-password-recovery-content po-row">\r\n      <div class="po-modal-password-recovery-text po-md-12 po-mb-1">\r\n        {{ emailModalPhrases.firstPhrase }}\r\n      </div>\r\n      <div class="po-mb-2 po-md-12">\r\n        <form #emailForm="ngForm">\r\n\r\n          <div *ngIf="modalPasswordRecoveryTypeAll">\r\n            <po-radio-group \r\n              name="type"\r\n              [(ngModel)]="chosenTypeFormOption"\r\n              [p-options]="typeFormOptions"\r\n              (p-change)="getInputType($event)">\r\n            </po-radio-group>\r\n          </div>\r\n\r\n          <div class="po-mt-1">\r\n            <po-email *ngIf="type === \'email\' || type === \'all\'"\r\n              name="email"\r\n              [(ngModel)]="email"\r\n              p-required\r\n              [p-label]="literals.insertEmail"\r\n              (p-change-model)="formModelChangesCheck(emailForm)">\r\n            </po-email>\r\n    \r\n            <po-input *ngIf="type === \'sms\'"\r\n              name="sms"\r\n              [(ngModel)]="phone"\r\n              p-icon="po-icon-telephone"\r\n              p-required\r\n              [p-label]="literals.insertPhone"\r\n              [p-mask]="phoneMask"\r\n              [p-maxlength]="maxLength"\r\n              [p-minlength]="minLength"\r\n              (p-change-model)="formModelChangesCheck(emailForm)">\r\n            </po-input>\r\n          </div>\r\n          \r\n          <div class="po-field-container-bottom po-field-container-error-container">\r\n            <po-modal-password-recovery-error-message *ngIf="invalidEmail && control.dirty" \r\n              [p-text]="type === \'sms\' ? literals.phoneErrorMessagePhrase : literals.emailErrorMessagePhrase">\r\n            </po-modal-password-recovery-error-message>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="po-modal-password-recovery-text po-md-12">{{ emailModalPhrases.secondPhrase }}<span *ngIf="contactEmail">\r\n        {{ literals.prepositionIn }} \r\n          <a class="po-modal-password-recovery-link" href="mailto:{{ contactEmail }}" target="_self">{{ contactEmail }}</a>\r\n        </span>{{ endpoint }}\r\n      </div>\r\n    </div>\r\n\r\n    <div #smsCodeModal *ngSwitchCase="\'smsCode\'" class="po-modal-password-recovery-content po-row">\r\n      <div class="po-modal-password-recovery-text po-md-12 po-mb-1">{{ literals.sentSmsCodePhrase }}</div>\r\n      <div class="po-mb-2 po-md-12">\r\n        <form #smsCodeForm="ngForm">\r\n          <po-input\r\n            name="sms"\r\n            [(ngModel)]="smsCode"\r\n            p-maxlength="11"\r\n            p-minlength="11"\r\n            p-required\r\n            [p-label]="literals.insertCode"\r\n            [p-mask]="codeMask"\r\n            (p-change-model)="formModelChangesCheck(smsCodeForm)">\r\n          </po-input>\r\n          <div class="po-field-container-bottom po-field-container-error-container">\r\n            <po-modal-password-recovery-error-message *ngIf="invalidEmail"\r\n              [p-text]="smsCodeErrorMessage || this.literals.smsCodeErrorMessagePhrase">\r\n            </po-modal-password-recovery-error-message>\r\n            <po-modal-password-recovery-error-message *ngIf="showCustomCodeError"\r\n              [p-text]="codeError">\r\n            </po-modal-password-recovery-error-message>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="po-modal-password-recovery-text po-md-12">\r\n        {{ literals.sendAgainPhrase }} \r\n        <span class="po-modal-password-recovery-link" (click)="resendSmsCode()">{{ literals.sendAgain }}</span>\r\n      </div>\r\n    </div>\r\n    \r\n    <div #confirmationModal *ngSwitchCase="\'confirmation\'" class="po-modal-password-recovery-content po-row">\r\n      <img \r\n        class="po-modal-password-recovery-user-image po-mb-2" \r\n        src="./assets/images/email-sent.svg"> \r\n      <div class="po-modal-password-recovery-text">\r\n        {{ literals.emailSentConfirmationPhrase }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</po-modal>\r\n'}]}],r.ctorParameters=function(){return[{type:i.Router},{type:n.PoI18nPipe},{type:L}]},r.propDecorators={emailForm:[{type:t.ViewChild,args:["emailForm",{"static":!1}]}],recoveryModalElement:[{type:t.ViewChild,args:["recoveryModal",{"static":!0}]}],smsCodeForm:[{type:t.ViewChild,args:["smsCodeForm",{"static":!1}]}]},r}(x),N=function(){function e(){}return e.decorators=[{type:t.Component,args:[{selector:"po-modal-password-recovery-error-message",template:'<div class="po-field-container-bottom-text-error po-field-container-error-item">\r\n  <span class="po-icon po-icon-exclamation"></span>\r\n  <span class="po-field-container-error-text">{{ text }}</span>\r\n</div>\r\n'}]}],e.propDecorators={text:[{type:t.Input,args:["p-text"]}]},e}(),_=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[r.CommonModule,o.FormsModule,n.PoFieldModule,n.PoModalModule],declarations:[T,N],exports:[T,N],providers:[n.PoI18nPipe,L]}]}],e}(),j=function(){function e(){this._showSelectLanguage=!1,this.selectLanguageOptions=[{label:"English",value:"en"},{label:"Español",value:"es"},{label:"Português",value:"pt"},{label:"Pусский",value:"ru"}],this.selectedLanguage=new t.EventEmitter}return Object.defineProperty(e.prototype,"logo",{get:function(){return this._logo},set:function(e){this._logo=w(e,"string")&&e.trim()?e:undefined},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"secondaryLogo",{get:function(){return this._secondaryLogo},set:function(e){this._secondaryLogo=w(e,"string")&&e.trim()?e:undefined},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showSelectLanguage",{get:function(){return this._showSelectLanguage},set:function(e){this._showSelectLanguage=P(e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.selectedLanguageOption=y()},e.prototype.onChangeLanguage=function(){this.selectedLanguage.emit(this.selectedLanguageOption)},e.decorators=[{type:t.Component,args:[{selector:"po-page-background",template:'<div class="po-page-login-container">\r\n  <div class="po-page-login-panel">\r\n    <img *ngIf="logo"\r\n      class="po-page-background-main-logo"\r\n      [class.po-page-background-hide-logo]="hideLogo"\r\n      alt="main-logo"\r\n      [src]="logo">\r\n\r\n    <div class="po-page-login-body">\r\n      <div class="po-page-login-panel-content">\r\n        <ng-content></ng-content>\r\n      </div>\r\n    </div>\r\n    <div class="po-page-background-footer po-sm-12">\r\n\r\n      <po-divider class="po-page-background-footer-mobile-only"></po-divider>\r\n\r\n      <div class="po-page-background-footer-content">\r\n        <div *ngIf="showSelectLanguage" class="po-page-background-footer-select">\r\n          <po-select\r\n            name="selectedLanguageOption"\r\n            [(ngModel)]="selectedLanguageOption"\r\n            [p-options]="selectLanguageOptions"\r\n            (p-change) = "onChangeLanguage()">\r\n          </po-select>\r\n        </div>\r\n\r\n        <div class="po-page-background-secondary-logo"\r\n          [ngClass]="showSelectLanguage ? \'po-page-background-secondary-logo-right\' : \'po-page-background-secondary-logo-centered\'">\r\n\r\n          <img *ngIf="secondaryLogo"\r\n            class="po-page-background-secondary-logo-image"\r\n            alt="secondary-logo"\r\n            [src]="secondaryLogo">\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div *ngIf="background"\r\n    [ngClass]="background ? \'po-page-login-highlight-image\' : \'po-page-login-highlight-image-off\'"\r\n    [style.background-image]="\'url(\' + background + \')\'">\r\n    <div class="po-page-login-highlight-text">\r\n      <div class="po-font-display">{{ highlightInfo }}</div>\r\n    </div>\r\n  </div>\r\n</div>\r\n'}]}],e.propDecorators={background:[{type:t.Input,args:["p-background"]}],hideLogo:[{type:t.Input,args:["p-hide-logo"]}],highlightInfo:[{type:t.Input,args:["p-highlight-info"]}],logo:[{type:t.Input,args:["p-logo"]}],secondaryLogo:[{type:t.Input,args:["p-secondary-logo"]}],showSelectLanguage:[{type:t.Input,args:["p-show-select-language"]}],selectedLanguage:[{type:t.Output,args:["p-selected-language"]}]},e}(),q=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[r.CommonModule,o.FormsModule,i.RouterModule,n.PoDividerModule,n.PoFieldModule],declarations:[j],exports:[j]}]}],e}(),B={None:"none",ExceededAttempts:"exceededAttempts",ExpiredPassword:"expiredPassword"},U=B.None,V={attempts:5,days:90,hours:24},H=function(){function e(){this._params=u({},V),this._reason=B.None,this._urlBack="/"}return Object.defineProperty(e.prototype,"params",{get:function(){return this._params},set:function(e){if(e instanceof Object){var t=Object.keys(e),r=u({},V);t.forEach((function(t){r[t]=e[t]})),this._params=r}else this._params=u({},V)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reason",{get:function(){return this._reason},set:function(e){this._reason=Object.values(B).includes(e)?e:U},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"urlBack",{get:function(){return this._urlBack},set:function(e){this._urlBack=e},enumerable:!0,configurable:!0}),e.propDecorators={contactEmail:[{type:t.Input,args:["p-contact-email"]}],contactPhone:[{type:t.Input,args:["p-contact-phone"]}],params:[{type:t.Input,args:["p-params"]}],logo:[{type:t.Input,args:["p-logo"]}],reason:[{type:t.Input,args:["p-reason"]}],secondaryLogo:[{type:t.Input,args:["p-secondary-logo"]}],urlBack:[{type:t.Input,args:["p-url-back"]}]},e}(),W={en:{primaryButton:"Back to home screen"},es:{primaryButton:"Volver al inicio"},pt:{primaryButton:"Voltar para o início"},ru:{primaryButton:"Перейти к началу страницы"}},z=function(e){function r(t,r){var o=e.call(this)||this;return o.activatedRoute=t,o.router=r,o.literals=u({},W[f],W[y()]),o}return l(r,e),r.prototype.ngOnInit=function(){this.checkingForRouteMetadata(this.activatedRoute.snapshot.data)},r.prototype.navigateTo=function(e){k(e)?window.open(e):this.router.navigate([e||"/"])},r.prototype.checkingForMetadataProperty=function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},r.prototype.checkingForRouteMetadata=function(e){0!==Object.keys(e).length&&(this.contactEmail=this.checkingForMetadataProperty(e,"contactEmail")||this.contactEmail,this.contactPhone=this.checkingForMetadataProperty(e,"contactPhone")||this.contactPhone,this.reason=this.checkingForMetadataProperty(e,"reason")||this.reason,this.urlBack=this.checkingForMetadataProperty(e,"urlBack")||this.urlBack)},r.decorators=[{type:t.Component,args:[{selector:"po-page-blocked-user",template:'<div class="po-page-blocked-user-wrapper">\r\n  <div class="po-page-background-wrap">\r\n    <po-page-background\r\n      [p-hide-logo]="true"\r\n      [p-logo]="logo"\r\n      [p-secondary-logo]="secondaryLogo">\r\n\r\n      <po-page-blocked-user-reason\r\n        [p-params]="params"\r\n        [p-reason]="reason">\r\n      </po-page-blocked-user-reason>\r\n\r\n      <div class="po-page-blocked-user-mobile-bottom-alignment">\r\n        <po-page-blocked-user-contacts\r\n          [p-email]="contactEmail"\r\n          [p-phone]="contactPhone">\r\n        </po-page-blocked-user-contacts>\r\n\r\n        <div class="po-row">\r\n          <po-button\r\n            class="po-lg-12 po-sm-12 po-page-blocked-user-button"\r\n            p-type="primary"\r\n            [p-label]="literals.primaryButton"\r\n            (p-click)="navigateTo(urlBack)">\r\n          </po-button>\r\n        </div>\r\n      </div>\r\n    </po-page-background>\r\n  </div>\r\n</div>\r\n'}]}],r.ctorParameters=function(){return[{type:i.ActivatedRoute},{type:i.Router}]},r}(H),J=function(){function e(e){this.changeDetector=e,this.overflowItem=!1}return e.prototype.ngAfterViewInit=function(){this.checkContactItemWidth()},e.prototype.ngOnChanges=function(e){(e.email||e.phone)&&this.checkContactItemWidth()},e.prototype.checkContactItemWidth=function(){var e=this;this.email&&this.phone?(setTimeout((function(){var t=e.phoneItem.nativeElement.offsetWidth,r=e.mailItem.nativeElement.offsetWidth,o=e.contactGroup.nativeElement.offsetWidth/2;e.overflowItem=t>o||r>o-16})),this.changeDetector.detectChanges()):this.overflowItem=!0},e.decorators=[{type:t.Component,args:[{selector:"po-page-blocked-user-contacts",template:'<div #contactGroup class="po-page-blocked-user-contact-group po-row po-mb-3">\r\n  <div *ngIf="phone"\r\n    class="po-page-blocked-user-contact-item"\r\n    [ngClass]="overflowItem ? \'po-md-12\' : \'po-md-6\'">\r\n    <a\r\n      class="po-page-blocked-user-link po-clickable"\r\n      [class.po-page-blocked-user-contact-content-inline]="overflowItem"\r\n      href="tel:{{ phone }}"\r\n      target="_self">\r\n      <div class="po-page-blocked-user-contact-group-item">\r\n        <span class="po-page-blocked-user-contact-icon po-icon po-icon-telephone po-pr-1"></span>\r\n        <span #phoneItem class="po-page-blocked-user-contact-text po-font-text">{{ phone }}</span>\r\n      </div>\r\n    </a>\r\n  </div>\r\n  <div *ngIf="email"\r\n    class="po-page-blocked-user-contact-item po-page-blocked-user-contact-mail"\r\n    [ngClass]="overflowItem ? \'po-md-12\' : \'po-md-6\'">\r\n    <a\r\n      class="po-page-blocked-user-link po-clickable"\r\n      [class.po-page-blocked-user-contact-content-inline]="overflowItem"\r\n      href="mailto:{{ email }}"\r\n      target="_self">\r\n      <div class="po-page-blocked-user-contact-group-item">\r\n        <span class="po-page-blocked-user-contact-icon po-icon po-icon-mail po-pr-1 "></span>\r\n        <span #mailItem class="po-page-blocked-user-contact-text po-font-text">{{ email }}</span>\r\n      </div>\r\n    </a>\r\n  </div>\r\n</div>'}]}],e.ctorParameters=function(){return[{type:t.ChangeDetectorRef}]},e.propDecorators={email:[{type:t.Input,args:["p-email"]}],phone:[{type:t.Input,args:["p-phone"]}],contactGroup:[{type:t.ViewChild,args:["contactGroup",{"static":!0}]}],mailItem:[{type:t.ViewChild,args:["mailItem",{"static":!0}]}],phoneItem:[{type:t.ViewChild,args:["phoneItem",{"static":!0}]}]},e}(),G={none:{pt:{title:"Opa!",firstPhrase:"Tivemos que bloquear essa tela temporariamente.",secondPhrase:"Mas não se preocupe! Basta fazer seu login novamente."},en:{title:"Oops!",firstPhrase:"We had to temporarily block this screen.",secondPhrase:"But do not worry! Just sign in again."},es:{title:"Opa!",firstPhrase:"Tuvimos que bloquear esta pantalla temporalmente.",secondPhrase:"¡Pero no se preocupe! Sólo tienes que iniciar sesión de nuevo."}},exceededAttempts:{pt:{title:"Opa!",firstPhrase:"Para sua segurança, após {0} tentativa(s) de senha seu usuário fica bloqueado e não pode ser acessado em {1} hora(s) :( ",secondPhrase:"Isso é para evitar que hackers invadam sua conta.",thirdPhrase:"Mas não se preocupe! Se você for o dono da conta e apenas esqueceu sua senha, basta entrar em contato com o suporte."},en:{title:"Oops!",firstPhrase:"For your security, after {0} attempt(s) of password\n        your user gets blocked and can not be accessed in {1} hour(s) :(",secondPhrase:"This is to prevent hackers from hacking into your account.",thirdPhrase:"But do not worry! If you are the owner of the account and just forgot your password, just contact support."},es:{title:"Opa!",firstPhrase:"Para su seguridad, después de {0} intento(s) de contraseña\n        su usuario queda bloqueado y no puede ser accedido en {1} hora(s) :(",secondPhrase:"Esto es para evitar que los hackers invadan su cuenta.",thirdPhrase:"¡Pero no se preocupe! Si usted es el dueño de la cuenta\n        y acaba de olvidar su contraseña, simplemente póngase en contacto con el soporte."}},expiredPassword:{pt:{title:"Opa! Sua senha expirou",firstPhrase:"A cada {0} dia(s) é preciso criar uma nova senha por questão de segurança. Após esses {0} dia(s) seu acesso é bloqueado :(",secondPhrase:"Mas não se preocupe! Basta entrar em contato com o administrador do sistema."},en:{title:"Oops! Your Password has expired",firstPhrase:"Every {0} day(s) you need to create a new password for security reasons.\n        After these {0} day(s) your access is blocked :(",secondPhrase:"But do not worry! Just contact your system administrator."},es:{title:"Opa! Su contraseña ha caducado",firstPhrase:"Cada {0} día(s) es necesario crear una nueva contraseña por razones de seguridad.\n        Después de estos {0} día(s) su acceso está bloqueado :(",secondPhrase:"¡Pero no se preocupe! Sólo tienes que ponerse en contacto con el administrador del sistema."}}},Y=function(){function e(e){this.changeDetector=e}return e.prototype.ngOnChanges=function(e){(e.reason||e.params)&&this.getLiterals()},e.prototype.ngOnInit=function(){this.getLiterals()},e.prototype.getImageByReasonType=function(){var e;switch(this.reason){case"none":e="big-lock";break;case"exceededAttempts":e="blocked-user";break;case"expiredPassword":e="expired"}return"./assets/images/"+e+".svg"},e.prototype.getParams=function(){this.literalParams="expiredPassword"===this.reason?[this.params.days,this.params.days]:[this.params.attempts,this.params.hours]},e.prototype.getLiterals=function(){this.getParams(),this.literals=u({},G[this.reason][f],G[this.reason][y()]),this.changeDetector.detectChanges()},e.decorators=[{type:t.Component,args:[{selector:"po-page-blocked-user-reason",template:'<div class="po-page-blocked-user-reason-content">\r\n  <img \r\n    class="po-page-blocked-user-image po-mb-3" \r\n    [src]="getImageByReasonType()"> \r\n  <div class="po-page-blocked-user-header po-mb-md-3 po-row">\r\n    <div class="po-md-12">{{ literals?.title }}</div>\r\n  </div>\r\n  <div class="po-page-blocked-user-text po-font-text po-row">\r\n    <div class="po-mb-sm-2 po-mb-md-3 po-md-12 po-page-blocked-user-text-bold">{{ literals?.firstPhrase | poI18n:literalParams }}</div>\r\n    <div class="po-mb-sm-2 po-mb-md-3 po-md-12">{{ literals?.secondPhrase }}</div>\r\n    <div class="po-mb-sm-2 po-mb-md-3 po-md-12" *ngIf="literals?.thirdPhrase">{{ literals?.thirdPhrase }}</div>\r\n  </div>\r\n</div>'}]}],e.ctorParameters=function(){return[{type:t.ChangeDetectorRef}]},e.propDecorators={params:[{type:t.Input,args:["p-params"]}],reason:[{type:t.Input,args:["p-reason"]}]},e}(),K=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[r.CommonModule,i.RouterModule,n.PoModule,q],declarations:[z,J,Y],exports:[z,J,Y]}]}],e}(),$=function(){function e(){this._hideCurrentPassword=!1,this._requirements=[],this._urlHome="/",this.urlBack="/",this.submit=new t.EventEmitter}return Object.defineProperty(e.prototype,"hideCurrentPassword",{get:function(){return this._hideCurrentPassword},set:function(e){this._hideCurrentPassword=P(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recovery",{get:function(){return this._recovery},set:function(e){this._recovery=e,w(e,"string")&&(this.recoveryUrlType=k(e)?"externalLink":"internalLink")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"requirements",{get:function(){return this._requirements},set:function(e){this._requirements=e||[],this.showRequirements=this._requirements.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"urlHome",{get:function(){return this._urlHome},set:function(e){this._urlHome=e,this.modalAction.action=this.navigateTo.bind(this,this.urlHome)},enumerable:!0,configurable:!0}),e.propDecorators={hideCurrentPassword:[{type:t.Input,args:["p-hide-current-password"]}],logo:[{type:t.Input,args:["p-logo"]}],recovery:[{type:t.Input,args:["p-recovery"]}],requirements:[{type:t.Input,args:["p-requirements"]}],secondaryLogo:[{type:t.Input,args:["p-secondary-logo"]}],token:[{type:t.Input,args:["p-token"]}],urlBack:[{type:t.Input,args:["p-url-back"]}],urlNewPassword:[{type:t.Input,args:["p-url-new-password"]}],urlHome:[{type:t.Input,args:["p-url-home"]}],submit:[{type:t.Output,args:["p-submit"]}]},e}(),Q={en:{backButton:"Back",confirmPassword:"Confirm password",createNewPassword:"Create new password",createNewPasswordPhrase:"Protect your account with a personal password created by you",currentPassword:"Current password",enterSystemButton:"Enter the system",forgotPassword:"Forgot your password?",newPassword:"New password",passwordSuccessfullyCreated:"Password successfully created!",passwordSuccessfullyUpdated:"Password successfully updated!",requirements:"Password requirements",safetyTips:"Safety tips!",safetyTipsFirst:"is used in other accounts;",safetyTipsPhrase:"Avoid a password that:",safetyTipsSecond:"has personal information like your name, nickname or family names;",safetyTipsThird:'that uses obvious sequences like "123" or obvious words like "password";',saveButton:"Save"},es:{backButton:"Volver",confirmPassword:"Confirmar seña",createNewPassword:"Crear nueva contraseña",createNewPasswordPhrase:"Proteger su cuenta con una contraseña personal creada por usted",currentPassword:"Contraseña actual",enterSystemButton:"Entrar en el sistema",forgotPassword:"¿Olvidaste tu contraseña?",newPassword:"Nueva contraseña",passwordSuccessfullyCreated:"Contraseña creada correctamente!",passwordSuccessfullyUpdated:"Contraseña correctamente actualizada!",requirements:"Requisitos de contraseña",safetyTips:"Consejos de seguridad!",safetyTipsFirst:"se utilice en otras cuentas;",safetyTipsPhrase:"Evite una contraseña que:",safetyTipsSecond:"utiliza información personal como su nombre, apellido o nombre de familia;",safetyTipsThird:'utilice secuencias muy obvias como "1234" o "abcd" o palabras obvias como "contraseña";',saveButton:"Guardar"},pt:{backButton:"Voltar",confirmPassword:"Confirmar senha",createNewPassword:"Criar nova senha",createNewPasswordPhrase:"Proteja sua conta com uma senha pessoal criada por você",currentPassword:"Senha atual",enterSystemButton:"Entrar no sistema",forgotPassword:"Esqueceu sua senha?",newPassword:"Nova senha",passwordSuccessfullyCreated:"Senha criada com sucesso!",passwordSuccessfullyUpdated:"Senha alterada com sucesso!",requirements:"Requisitos de senha",safetyTips:"Dicas de segurança!",safetyTipsFirst:"seja usada em outras contas;",safetyTipsPhrase:"Evite uma senha que:",safetyTipsSecond:"usa informações pessoais como seu nome, apelido ou nome de familiares;",safetyTipsThird:'use sequências muito óbvias como "1234" ou "abcd" ou palavras óbvias como “senha”;',saveButton:"Salvar"},ru:{backButton:"возвращение",confirmPassword:"Подтвердите пароль",createNewPassword:"Создать новый пароль",createNewPasswordPhrase:"Защитите свой аккаунт с помощью личного пароля.",currentPassword:"Текущий пароль",enterSystemButton:"Вход в систему",forgotPassword:"Забыли пароль?",newPassword:"Новый пароль",passwordSuccessfullyCreated:"Пароль успешно создан!",passwordSuccessfullyUpdated:"Пароль успешно изменен!",requirements:"Требования к паролю",safetyTips:"Советы по безопасности!",safetyTipsFirst:"использоваться на других счетах;",safetyTipsPhrase:"Избегайте пароля, который:",safetyTipsSecond:"использует личную информацию, такую ​​как ваше имя, фамилию или фамилию;",safetyTipsThird:'используйте очень очевидные строки, такие как "1234" или "abcd", или такие очевидные слова, как "пароль";',saveButton:"экономить"}},X=function(){function e(e){this.http=e}return e.prototype.post=function(e,t){return this.http.post(e,t,{observe:"response"})},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:s.HttpClient}]},e}(),Z=function(e){function r(t,r,o,n,i,s){var a=e.call(this)||this;return a.activatedRoute=t,a.route=r,a.router=o,a.service=n,a.poComponentInjector=i,a.literals=u({},Q[f],Q[y()]),a.componentRef=null,a.modalAction={action:a.navigateTo.bind(a,a.urlHome),label:a.literals.enterSystemButton},a.parentRef=s._view.component,a}return l(r,e),r.prototype.ngAfterViewInit=function(){this.urlNewPassword&&this.subscribeToTokenParameter()},r.prototype.ngOnDestroy=function(){this.newPasswordSubscription&&this.newPasswordSubscription.unsubscribe()},r.prototype.ngOnInit=function(){this.checkingForRouteMetadata(this.activatedRoute.snapshot.data)},r.prototype.navigateTo=function(e){k(e)?window.open(e):this.router.navigate([e||"/"])},r.prototype.onForgotPasswordClick=function(e){w(e,"function")?e():this.createModalPasswordRecoveryComponent(e)},r.prototype.onLoginSubmit=function(){var e=this.getLoginForm();this.urlNewPassword?this.postUrlNewPassword(e):this.submit&&this.submit.observers.length&&this.emitSubmit(e)},r.prototype.openConfirmation=function(){this.modal.open()},r.prototype.validatePassword=function(){var e=this,t=this.passwordForm.form.controls,r=t.confirmPassword,o=t.newPassword;this.newPassword?this.confirmPassword?this.newPassword&&this.confirmPassword&&this.newPassword!==this.confirmPassword?this.setFormErrors({equalPassword:!0},[o,r]):this.setFormErrors(null,[r,o]):this.setFormErrors({required:!0},[r]):this.setFormErrors({required:!0},[o]),this.requirements.length&&this.requirements.find((function(t){return!1===e.validateRequirement(t)}))&&this.setFormErrors({requirement:!0},[o])},r.prototype.validateRequirement=function(e){return"function"==typeof e.status?e.status.call(this.parentRef,this.newPassword):e.status},r.prototype.checkingForMetadataProperty=function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},r.prototype.checkingForRouteMetadata=function(e){0!==Object.keys(e).length&&(this.urlNewPassword=this.checkingForMetadataProperty(e,"serviceApi")||this.urlNewPassword,this.recovery=this.checkingForMetadataProperty(e,"recovery")||this.recovery,this.hideCurrentPassword=this.checkingForMetadataProperty(e,"hideCurrentPassword")||this.hideCurrentPassword)},r.prototype.createModalPasswordRecoveryComponent=function(e){var t=this;this.componentRef&&this.poComponentInjector.destroyComponentInApplication(this.componentRef),this.componentRef=this.poComponentInjector.createComponentInApplication(T),this.componentRef.instance.recovery=e.url,this.componentRef.instance.contactEmail=e.contactMail,this.componentRef.instance.phoneMask=e.phoneMask,this.componentRef.instance.type=e.type||I.Email,this.componentRef.changeDetectorRef.detectChanges(),setTimeout((function(){t.componentRef.instance.open()}))},r.prototype.emitSubmit=function(e){this.submit.emit(e)},r.prototype.getLoginForm=function(){return{currentPassword:this.currentPassword,newPassword:this.newPassword}},r.prototype.postUrlNewPassword=function(e){var t=this;e.token=this.token,this.service.post(this.urlNewPassword,e).subscribe((function(e){204===e.status&&t.openConfirmation()}))},r.prototype.setFormErrors=function(e,t){t.forEach((function(t){t.setErrors(e)}))},r.prototype.subscribeToTokenParameter=function(){var e=this;this.route.queryParams.subscribe((function(t){var r=t.token;r&&(e.token=r)}))},r.decorators=[{type:t.Component,args:[{selector:"po-page-change-password",template:'<div class="po-page-change-password-wrapper" #pageChangePassword>\r\n  <div class="po-page-change-password-container">\r\n    <po-page-background class="po-page-change-password"\r\n      [p-logo]="logo"\r\n      [p-secondary-logo]="secondaryLogo">\r\n\r\n      <div class="po-page-blocked-user-header po-row">\r\n        <div class="po-md-12">{{literals.createNewPassword}}</div>\r\n        <div class="po-md-12 po-text-center po-font-text">\r\n          {{literals.createNewPasswordPhrase}}\r\n        </div>\r\n      </div>\r\n\r\n      <form #passwordForm="ngForm">\r\n\r\n        <div class="po-row po-mt-3 po-mt-sm-1">\r\n          <div class="po-md-6"\r\n            [ngClass]="{\'po-offset-md-3 po-offset-lg-3 po-offset-xl-3\': !showRequirements}">\r\n            <div *ngIf="!hideCurrentPassword">\r\n              <po-password\r\n                name="currentPassword"\r\n                [(ngModel)]="currentPassword"\r\n                p-required\r\n                [p-label]="literals.currentPassword">\r\n              </po-password>\r\n            </div>\r\n            <div *ngIf="!hideCurrentPassword && recovery" class="po-text-center po-mb-sm-1 po-mb-2">\r\n              <a *ngIf="recoveryUrlType === \'internalLink\'"\r\n                class="po-font-text-bold po-page-change-password-forgot-password"\r\n                [routerLink]="recovery">\r\n                {{literals.forgotPassword}}\r\n              </a>\r\n              <a *ngIf="recoveryUrlType === \'externalLink\'"\r\n                class="po-font-text-bold po-page-change-password-forgot-password"\r\n                [href]="recovery">\r\n                {{literals.forgotPassword}}\r\n              </a>\r\n              <a *ngIf="!recoveryUrlType"\r\n                class="po-font-text-bold po-page-change-password-forgot-password po-clickable"\r\n                (click)="onForgotPasswordClick(recovery)">\r\n                {{literals.forgotPassword}}\r\n              </a>\r\n            </div>\r\n            <div>\r\n              <po-password\r\n                name="newPassword"\r\n                [(ngModel)]="newPassword"\r\n                p-required\r\n                [p-label]="literals.newPassword"\r\n                (p-change-model)="validatePassword()">\r\n              </po-password>\r\n            </div>\r\n            <div>\r\n              <po-password\r\n                name="confirmPassword"\r\n                [(ngModel)]="confirmPassword"\r\n                p-required\r\n                [p-label]="literals.confirmPassword"\r\n                (p-change-model)="validatePassword()">\r\n              </po-password>\r\n            </div>\r\n          </div>\r\n          <div *ngIf="showRequirements"\r\n            class="po-md-6 po-page-change-password-required-container">\r\n            <po-container>\r\n              <ul class="po-page-change-password-required-list">\r\n                <li class="po-page-change-password-required-item">\r\n                  <p class="po-mb-1 po-font-text-bold po-page-change-password-required-title">\r\n                    {{literals?.requirements}}\r\n                  </p>\r\n                </li>\r\n                <li *ngFor="let requirement of requirements"\r\n                  class="po-page-change-password-required-item">\r\n                  <span class="po-icon po-page-change-password-required-icon"\r\n                    [ngClass]="validateRequirement(requirement) ? \'po-icon-ok po-page-change-password-required-ok\' : \'po-icon-minus po-page-change-password-required-minus\'">\r\n                  </span>\r\n                  <p class="po-page-change-password-required-text po-font-text">\r\n                    {{requirement.requirement}}\r\n                  </p>\r\n                </li>\r\n              </ul>\r\n            </po-container>\r\n          </div>\r\n        </div>\r\n      </form>\r\n\r\n      <po-divider class="po-sm-12"></po-divider>\r\n\r\n      <div class="po-page-change-password-tips po-row">\r\n        <div class="po-md-2 po-mr-3">\r\n          <img\r\n            class="po-page-change-password-lock-image po-mb-3"\r\n            alt="Blocked user image"\r\n            src="./assets/images/big-lock.svg"\r\n          />\r\n        </div>\r\n        <div class="po-md-9 po-page-change-password-tips-text">\r\n          <div class="po-font-text-bold po-pb-1">{{literals.safetyTips}}</div>\r\n          <div class="po-font-text-small">\r\n            <div class="po-row po-pb-1">{{literals.safetyTipsPhrase}}</div>\r\n            <div class="po-row po-pb-1">• {{literals.safetyTipsFirst}}</div>\r\n            <div class="po-row po-pb-1">• {{literals.safetyTipsSecond}}</div>\r\n            <div class="po-row po-pb-1">• {{literals.safetyTipsThird}}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="po-page-change-password-buttons po-row">\r\n\r\n        <po-divider class="po-sm-12 po-mobile-only"></po-divider>\r\n\r\n        <po-button *ngIf="!hideCurrentPassword"\r\n          class="po-sm-6 po-mb-sm-1"\r\n          [p-label]="literals.backButton"\r\n          (p-click)="navigateTo(urlBack)">\r\n        </po-button>\r\n\r\n        <po-button\r\n          [ngClass]="hideCurrentPassword ? \'po-md-12\':\'po-sm-6\'"\r\n          p-type="primary"\r\n          [p-disabled]="passwordForm.invalid"\r\n          [p-label]="literals.saveButton"\r\n          (p-click)="onLoginSubmit()">\r\n        </po-button>\r\n\r\n      </div>\r\n\r\n    </po-page-background>\r\n\r\n  </div>\r\n</div>\r\n\r\n<po-modal\r\n  [p-primary-action]="modalAction"\r\n  p-hide-close\r\n  p-size="auto"\r\n  [p-title]="hideCurrentPassword ? literals.passwordSuccessfullyCreated : literals.passwordSuccessfullyUpdated">\r\n\r\n  <div class="po-text-center">\r\n    <img\r\n      alt="Blocked user image"\r\n      class="po-page-change-password-lock-image po-mb-3"\r\n      src="./assets/images/success.svg"\r\n    />\r\n  </div>\r\n</po-modal>\r\n'}]}],r.ctorParameters=function(){return[{type:i.ActivatedRoute},{type:i.ActivatedRoute},{type:i.Router},{type:X},{type:n.PoComponentInjectorService},{type:t.ViewContainerRef}]},r.propDecorators={modal:[{type:t.ViewChild,args:[n.PoModalComponent,{"static":!0}]}],pageChangePassword:[{type:t.ViewChild,args:["pageChangePassword",{read:t.ViewContainerRef,"static":!0}]}],passwordForm:[{type:t.ViewChild,args:["passwordForm",{read:o.NgForm,"static":!0}]}]},r}($),ee=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[r.CommonModule,o.FormsModule,i.RouterModule,n.PoModule,q],declarations:[Z],entryComponents:[T],providers:[X],exports:[Z]}]}],e}(),te=function(){function e(e){this.http=e,this.endpoint="/",this.headers=new s.HttpHeaders({"X-PORTINARI-SCREEN-LOCK":"true"})}return e.prototype.configServiceApi=function(e){void 0===e&&(e={}),this.endpoint=e.endpoint,this.metadata=e.metadata||this.metadata},e.prototype.getMetadata=function(e){void 0===e&&(e="list");var t=this.endpoint+"-"+e+"-metadata",r=JSON.parse(localStorage.getItem(t))||{},o=(this.metadata||this.endpoint+"/metadata")+"?type="+e+"&version="+(r.version||"");return this.http.get(o).pipe(a.map((function(e){return e.version===r.version?r:(localStorage.setItem(t,JSON.stringify(e)),u({},r,e))})))},e.prototype.deleteResource=function(e){return this.http["delete"](this.endpoint+"/"+e,{headers:this.headers})},e.prototype.deleteResources=function(e){return this.http.request("delete",""+this.endpoint,{headers:this.headers,body:e})},e.prototype.getResources=function(e){return this.http.get(this.endpoint,{headers:this.headers,params:e})},e.prototype.getResource=function(e){return this.http.get(this.endpoint+"/"+e,{headers:this.headers})},e.prototype.createResource=function(e){return this.http.post(""+this.endpoint,e,{headers:this.headers})},e.prototype.updateResource=function(e,t){return this.http.put(this.endpoint+"/"+e,t,{headers:this.headers})},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:s.HttpClient}]},e.ngInjectableDef=t.ɵɵdefineInjectable({factory:function(){return new e(t.ɵɵinject(s.HttpClient))},token:e,providedIn:"root"}),e}(),re={en:{pageActionEdit:"Edit",pageActionRemove:"Delete",pageActionBack:"Back",confirmRemoveTitle:"Confirm delete",confirmRemoveMessage:"Are you sure you want to delete this record? You can not undo this action.",removeNotificationSuccess:"Item deleted successfully.",registerNotFound:"Register not found."},es:{pageActionEdit:"Editar",pageActionRemove:"Borrar",pageActionBack:"Regreso",confirmRemoveTitle:"Confirmar la exclusión",confirmRemoveMessage:"¿Está seguro de que desea eliminar este registro? No puede deshacer esta acción.",removeNotificationSuccess:"Elemento eliminado con éxito.",registerNotFound:"Registro no encontrado."},pt:{pageActionEdit:"Editar",pageActionRemove:"Excluir",pageActionBack:"Voltar",confirmRemoveTitle:"Confirmar exclusão",confirmRemoveMessage:"Tem certeza de que deseja excluir esse registro? Você não poderá desfazer essa ação.",removeNotificationSuccess:"Item excluído com sucesso.",registerNotFound:"Registro não encontrado."}},oe=function(){function e(e,t,r,o,n){this.router=e,this.activatedRoute=t,this.poNotification=r,this.poDialogService=o,this.poPageDynamicService=n,this._actions={},this._autoRouter=!1,this._duplicates=[],this._fields=[],this._keys=[],this._pageActions=[],this.literals=u({},re[f],re[y()]),this.model={},this.breadcrumb={items:[]}}return Object.defineProperty(e.prototype,"actions",{set:function(e){this._actions=this.isObject(e)?e:{},this._pageActions=this.getPageActions(this._actions)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoRouter",{get:function(){return this._autoRouter},set:function(e){this._autoRouter=P(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fields",{get:function(){return this._fields},set:function(e){this._fields=Array.isArray(e)?m(e):[],this._keys=this.getKeysByFields(this.fields),this._duplicates=this.getDuplicatesByFields(this.fields)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this.activatedRoute.snapshot.params.id;this.activatedRoute.snapshot.data.serviceApi?(this.serviceApi=this.activatedRoute.snapshot.data.serviceApi,this.poPageDynamicService.configServiceApi({endpoint:this.serviceApi}),this.loadMetadata(e)):(this.poPageDynamicService.configServiceApi({endpoint:this.serviceApi}),this.loadData(e))},Object.defineProperty(e.prototype,"duplicates",{get:function(){return m(this._duplicates)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keys",{get:function(){return m(this._keys)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageActions",{get:function(){return m(this._pageActions)},enumerable:!0,configurable:!0}),e.prototype.confirmRemove=function(e){var t={title:this.literals.confirmRemoveTitle,message:this.literals.confirmRemoveMessage,confirm:this.remove.bind(this,e)};this.poDialogService.confirm(t)},e.prototype.formatUniqueKey=function(e){return C(S(e,this.keys)).join("|")},e.prototype.goBack=function(){window.history.back()},e.prototype.loadData=function(e){var t=this;this.poPageDynamicService.getResource(e).toPromise().then((function(e){t.model=e}))["catch"]((function(){t.model=undefined,t.actions=undefined}))},e.prototype.loadMetadata=function(e){var t=this;this.poPageDynamicService.getMetadata("detail").toPromise().then((function(r){t.autoRouter=r.autoRouter,t.actions=r.actions||{},t.breadcrumb=r.breadcrumb||{items:[]},t.fields=r.fields||[],t.title=r.title,t.loadData(e)}))},e.prototype.navigateTo=function(e,t){var r=this;void 0===t&&(t=!1),this.router.navigate([e.url||e.path],{queryParams:e.params})["catch"]((function(){!t&&r.autoRouter&&(r.router.config.unshift({path:e.path,component:e.component,data:{serviceApi:r.serviceApi,autoRouter:!0}}),r.navigateTo(e,!0))}))},e.prototype.openEdit=function(e){var t=this.resolveUrl(this.model,e);this.navigateTo({path:e,url:t})},e.prototype.remove=function(e){var t=this,r=this.formatUniqueKey(this.model);this.poPageDynamicService.deleteResource(r).toPromise().then((function(){t.poNotification.success(t.literals.removeNotificationSuccess),t.navigateTo({path:e})}))},e.prototype.resolveUrl=function(e,t){var r=this.formatUniqueKey(e);return t.replace(/:id/g,r)},e.prototype.getPageActions=function(e){void 0===e&&(e={});var t=[];return e.edit&&t.push({label:this.literals.pageActionEdit,action:this.openEdit.bind(this,e.edit)}),e.remove&&t.push({label:this.literals.pageActionRemove,action:this.confirmRemove.bind(this,e.remove)}),(e.back===undefined||e.back)&&t.push({label:this.literals.pageActionBack,action:this.goBack.bind(this,e.back)}),t},e.prototype.getKeysByFields=function(e){return void 0===e&&(e=[]),e.filter((function(e){return!0===e.key})).map((function(e){return e.property}))},e.prototype.getDuplicatesByFields=function(e){return void 0===e&&(e=[]),e.filter((function(e){return!0===e.duplicate})).map((function(e){return e.property}))},e.prototype.isObject=function(e){return!!e&&"object"==typeof e&&!Array.isArray(e)},e.decorators=[{type:t.Component,args:[{selector:"po-page-dynamic-detail",template:'<po-page-default\r\n  [p-actions]="pageActions"\r\n  [p-breadcrumb]="breadcrumb"\r\n  [p-title]="title">\r\n\r\n  <ng-container *ngIf="model; then viewFieldsTemplate; else registerNotFoundTemplate">\r\n  </ng-container>\r\n\r\n</po-page-default>\r\n\r\n<ng-template #registerNotFoundTemplate>\r\n\r\n  <po-widget>\r\n    <span class="po-icon po-icon-info"></span>\r\n    <span class="po-font-text-large">\r\n      {{ literals.registerNotFound }}\r\n    </span>\r\n  </po-widget>\r\n\r\n</ng-template>\r\n\r\n<ng-template #viewFieldsTemplate>\r\n\r\n  <po-dynamic-view [p-fields]="fields" [p-value]="model">\r\n  </po-dynamic-view>\r\n\r\n</ng-template>\r\n',providers:[te]}]}],e.ctorParameters=function(){return[{type:i.Router},{type:i.ActivatedRoute},{type:n.PoNotificationService},{type:n.PoDialogService},{type:te}]},e.propDecorators={actions:[{type:t.Input,args:["p-actions"]}],autoRouter:[{type:t.Input,args:["p-auto-router"]}],breadcrumb:[{type:t.Input,args:["p-breadcrumb"]}],fields:[{type:t.Input,args:["p-fields"]}],title:[{type:t.Input,args:["p-title"]}],serviceApi:[{type:t.Input,args:["p-service-api"]}]},e}(),ne=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[r.CommonModule,s.HttpClientModule],providers:[te]}]}],e}(),ie=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[r.CommonModule,o.FormsModule,i.RouterModule,n.PoDynamicModule,n.PoModalModule,n.PoPageModule,n.PoWidgetModule,ne],declarations:[oe],exports:[oe]}]}],e}(),se={en:{cancelConfirmMessage:"Are you sure you want to cancel this operation?",detailActionNew:"New",pageActionCancel:"Cancel",pageActionSave:"Save",pageActionSaveNew:"Save and new",registerNotFound:"Register not found.",saveNewNotificationSuccessSave:"Resource successfully saved.",saveNewNotificationSuccessUpdate:"Resource successfully updated.",saveNewNotificationWarning:"Form must be filled out correctly.",saveNotificationSuccessSave:"Resource successfully saved.",saveNotificationSuccessUpdate:"Resource successfully updated.",saveNotificationWarning:"Form must be filled out correctly."},es:{cancelConfirmMessage:"Está seguro de que desea cancelar esta operación?",detailActionNew:"Nuevo",pageActionCancel:"Cancelar",pageActionSave:"Guardar",pageActionSaveNew:"Guardar y nuevo",registerNotFound:"Registro no encontrado.",saveNewNotificationSuccessSave:"Recurso salvo con éxito.",saveNewNotificationSuccessUpdate:"Recurso actualizado con éxito.",saveNewNotificationWarning:"El formulario debe llenarse correctamente.",saveNotificationSuccessSave:"Recurso salvo con éxito.",saveNotificationSuccessUpdate:"Recurso actualizado con éxito.",saveNotificationWarning:"El formulario debe llenarse correctamente."},pt:{cancelConfirmMessage:"Tem certeza que deseja cancelar esta operação?",detailActionNew:"Novo",pageActionCancel:"Cancelar",pageActionSave:"Salvar",pageActionSaveNew:"Salvar e novo",registerNotFound:"Registro não encontrado.",saveNewNotificationSuccessSave:"Recurso salvo com sucesso.",saveNewNotificationSuccessUpdate:"Recurso atualizado com sucesso.",saveNewNotificationWarning:"Formulário precisa ser preenchido corretamente.",saveNotificationSuccessSave:"Recurso salvo com sucesso.",saveNotificationSuccessUpdate:"Recurso atualizado com sucesso.",saveNotificationWarning:"Formulário precisa ser preenchido corretamente."}},ae=function(){function e(e,t,r,o,n){this.router=e,this.activatedRoute=t,this.poNotification=r,this.poDialogService=o,this.poPageDynamicService=n,this._actions={},this._autoRouter=!1,this._controlFields=[],this._detailFields=[],this._duplicates=[],this._fields=[],this._keys=[],this._pageActions=[],this.literals=u({},se[f],se[y()]),this.model={},this.detailActions={},this.breadcrumb={items:[]}}return Object.defineProperty(e.prototype,"actions",{set:function(e){this._actions=this.isObject(e)?e:{},this._pageActions=this.getPageActions(this._actions)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoRouter",{get:function(){return this._autoRouter},set:function(e){this._autoRouter=P(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fields",{get:function(){return this._fields},set:function(e){this._fields=Array.isArray(e)?m(e):[],this._keys=this.getKeysByFields(this._fields),this._duplicates=this.getDuplicatesByFields(this._fields),this._controlFields=this.getControlFields(this._fields),this._detailFields=this.getDetailFields(this._fields)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this.activatedRoute.snapshot.params.id,t=this.activatedRoute.snapshot.queryParams.duplicate,r=this.activatedRoute.snapshot.data,o=r.serviceApi,n=r.serviceMetadataApi;this.serviceApi=o||this.serviceApi,this.poPageDynamicService.configServiceApi({endpoint:this.serviceApi,metadata:n}),o?this.loadMetadata(e,t):this.loadData(e,t)},Object.defineProperty(e.prototype,"duplicates",{get:function(){return m(this._duplicates)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keys",{get:function(){return m(this._keys)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageActions",{get:function(){return m(this._pageActions)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controlFields",{get:function(){return this._controlFields},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"detailFields",{get:function(){return this._detailFields},enumerable:!0,configurable:!0}),e.prototype.detailActionNew=function(){this.gridDetail.insertRow()},e.prototype.cancel=function(e){this.dynamicForm&&this.dynamicForm.form.dirty?this.poDialogService.confirm({message:this.literals.cancelConfirmMessage,title:this.literals.pageActionCancel,confirm:this.goBack.bind(this,e)}):this.goBack(e)},e.prototype.formatUniqueKey=function(e){return C(S(e,this.keys)).join("|")},e.prototype.goBack=function(e){e?this.router.navigate([e]):window.history.back()},e.prototype.loadData=function(e,t){var r=this;if(e)this.poPageDynamicService.getResource(e).toPromise().then((function(e){r.model=e}))["catch"]((function(){r.model=undefined,r.actions=undefined,r._pageActions=[]}));else try{this.model=JSON.parse(t)||{}}catch(o){this.model={}}},e.prototype.loadMetadata=function(e,t){var r=this,o=e?"edit":"create";this.poPageDynamicService.getMetadata(o).toPromise().then((function(o){r.autoRouter=o.autoRouter,r.actions=o.actions||{},r.breadcrumb=o.breadcrumb||{items:[]},r.fields=o.fields||[],r.title=o.title,r.loadData(e,t)}))},e.prototype.navigateTo=function(e){if(e){var t=this.resolveUrl(this.model,e);this.router.navigate([t])}else window.history.back()},e.prototype.resolveUrl=function(e,t){var r=this.formatUniqueKey(e);return t.replace(/:id/g,r)},e.prototype.save=function(e){var t=this;if(this.dynamicForm.form.invalid)this.poNotification.warning(this.literals.saveNotificationWarning);else{var r=this.activatedRoute.snapshot.params.id,o=r?this.poPageDynamicService.updateResource(r,this.model):this.poPageDynamicService.createResource(this.model),n=r?this.literals.saveNotificationSuccessUpdate:this.literals.saveNotificationSuccessSave;o.toPromise().then((function(){t.poNotification.success(n),t.navigateTo(e)}))}},e.prototype.saveNew=function(e){var t=this;if(this.dynamicForm.form.invalid)this.poNotification.warning(this.literals.saveNewNotificationWarning);else{var r=this.activatedRoute.snapshot.params.id;r?this.poPageDynamicService.updateResource(r,this.model).toPromise().then((function(){t.poNotification.success(t.literals.saveNewNotificationSuccessUpdate),t.navigateTo(e)})):this.poPageDynamicService.createResource(this.model).toPromise().then((function(){t.poNotification.success(t.literals.saveNewNotificationSuccessSave),t.model={},t.dynamicForm.form.reset()}))}},e.prototype.getKeysByFields=function(e){return void 0===e&&(e=[]),e.filter((function(e){return!0===e.key})).map((function(e){return e.property}))},e.prototype.getControlFields=function(e){return void 0===e&&(e=[]),e.filter((function(e){return"detail"!==e.type}))},e.prototype.getDetailFields=function(e){return void 0===e&&(e=[]),e.filter((function(e){return"detail"===e.type}))},e.prototype.getDuplicatesByFields=function(e){return void 0===e&&(e=[]),e.filter((function(e){return!0===e.duplicate})).map((function(e){return e.property}))},e.prototype.getPageActions=function(e){void 0===e&&(e={});var t=[{label:this.literals.pageActionSave,action:this.save.bind(this,e.save)}];return e.saveNew&&t.push({label:this.literals.pageActionSaveNew,action:this.saveNew.bind(this,e.saveNew)}),(e.cancel===undefined||e.cancel)&&t.push({label:this.literals.pageActionCancel,action:this.cancel.bind(this,e.cancel)}),t},e.prototype.isObject=function(e){return!!e&&"object"==typeof e&&!Array.isArray(e)},e.decorators=[{type:t.Component,args:[{selector:"po-page-dynamic-edit",template:'<po-page-default\r\n  [p-actions]="pageActions"\r\n  [p-breadcrumb]="breadcrumb"\r\n  [p-title]="title">\r\n\r\n  <ng-container *ngIf="model; then formFieldsTemplate; else registerNotFoundTemplate">\r\n  </ng-container>\r\n\r\n</po-page-default>\r\n\r\n<ng-template #registerNotFoundTemplate>\r\n\r\n  <po-widget>\r\n    <span class="po-icon po-icon-info"></span>\r\n    <span class="po-font-text-large">\r\n      {{ literals.registerNotFound }}\r\n    </span>\r\n  </po-widget>\r\n\r\n</ng-template>\r\n\r\n<ng-template #formFieldsTemplate>\r\n\r\n  <po-dynamic-form #dynamicForm [p-fields]="controlFields" [p-value]="model">\r\n  </po-dynamic-form>\r\n\r\n  <div *ngIf="detailFields.length > 0" class="po-sm-12">\r\n    <po-divider [p-label]="detailFields[0].divider"></po-divider>\r\n\r\n    <div class="po-row po-mb-2">\r\n      <po-button [p-label]="literals.detailActionNew" (p-click)="detailActionNew()" p-small></po-button>\r\n    </div>\r\n\r\n    <po-grid #gridDetail\r\n      [p-row-actions]="detailActions"\r\n      [p-columns]="detailFields[0].detail.columns"\r\n      [p-data]="model[detailFields[0].property]">\r\n    </po-grid>\r\n  </div>\r\n\r\n</ng-template>\r\n',providers:[te]}]}],e.ctorParameters=function(){return[{type:i.Router},{type:i.ActivatedRoute},{type:n.PoNotificationService},{type:n.PoDialogService},{type:te}]},e.propDecorators={actions:[{type:t.Input,args:["p-actions"]}],autoRouter:[{type:t.Input,args:["p-auto-router"]}],breadcrumb:[{type:t.Input,args:["p-breadcrumb"]}],fields:[{type:t.Input,args:["p-fields"]}],serviceApi:[{type:t.Input,args:["p-service-api"]}],title:[{type:t.Input,args:["p-title"]}],dynamicForm:[{type:t.ViewChild,args:["dynamicForm",{"static":!1}]}],gridDetail:[{type:t.ViewChild,args:["gridDetail",{"static":!1}]}]},e}(),ce=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[r.CommonModule,o.FormsModule,i.RouterModule,n.PoButtonModule,n.PoDividerModule,n.PoDynamicModule,n.PoGridModule,n.PoPageModule,n.PoWidgetModule,ne],declarations:[ae],exports:[ae]}]}],e}(),pe=function(){function e(e){this.http=e}return e.prototype.getCustomOptions=function(e,t,r){var o=this;return this.createObservable(e).pipe(a.map((function(e){return o.mergePageOptions(t,e,r)})))},e.prototype.changeOriginalOptionsToNewOptions=function(e,t){Object.keys(t).forEach((function(r){var o=t[r];if(e[r]){if(Array.isArray(o))return void(e[r]=m(o));if("number"==typeof o||"string"==typeof o)return void(e[r]=o);"object"==typeof o&&(e[r]=u({},o))}}))},e.prototype.createObservable=function(e){return"string"==typeof e?this.http.post(e,{}):c.from(Promise.resolve(e()))},e.prototype.mergePageOptions=function(e,t,r){var o=this,n=r.schema.reduce((function(r,n){var i;return u({},r,((i={})[n.nameProp]=o.createNewProp(n,e,t),i))}),{});return Object.keys(n).forEach((function(e){return!n[e]&&delete n[e]})),n},e.prototype.createNewProp=function(e,t,r){return e.merge?this.mergeOptions(t[e.nameProp],r[e.nameProp],e.keyForMerge):r[e.nameProp]||t[e.nameProp]},e.prototype.mergeOptions=function(e,t,r){if(e||t)return t?e?e instanceof Array&&t instanceof Array?this.mergeOptionsArray(e,t,r):u({},e,t):t:e},e.prototype.mergeOptionsArray=function(e,t,r){var o=t.filter((function(t){return!e.find((function(e){return e[r]===t[r]}))}));return m(e.map((function(e){var o=t.find((function(t){return e[r]===t[r]}))||e;return u({},e,o)})),o)},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:s.HttpClient}]},e.ngInjectableDef=t.ɵɵdefineInjectable({factory:function(){return new e(t.ɵɵinject(s.HttpClient))},token:e,providedIn:"root"}),e}(),le=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[r.CommonModule,s.HttpClientModule],providers:[pe]}]}],e}(),ue={en:{title:"Advanced search",cancelLabel:"Cancel",confirmLabel:"Apply filters"},es:{title:"Búsqueda avanzada",cancelLabel:"Cancelar",confirmLabel:"Aplicar filtros"},pt:{title:"Busca avançada",cancelLabel:"Cancelar",confirmLabel:"Aplicar filtros"},ru:{title:"Расширенный поиск",cancelLabel:"отменить",confirmLabel:"Применить фильтры"}},de=function(){function e(e){var r=this;this._filters=[],this.filter={},this.language=f,this.primaryAction={action:function(){var e=r.getValuesFromForm();r.searchEvent.emit(e),r.poModal.close()},label:this.literals.confirmLabel},this.secondaryAction={action:function(){r.poModal.close()},label:this.literals.cancelLabel},this.searchEvent=new t.EventEmitter,this.language=e.getShortLanguage()}return Object.defineProperty(e.prototype,"filters",{get:function(){return this._filters},set:function(e){this._filters=Array.isArray(e)?m(e):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"literals",{get:function(){return this._literals||ue[this.language]},set:function(e){e instanceof Object&&!(e instanceof Array)?this._literals=u({},ue[f],ue[this.language],e):this._literals=ue[this.language],this.primaryAction.label=this.literals.confirmLabel,this.secondaryAction.label=this.literals.cancelLabel},enumerable:!0,configurable:!0}),e.prototype.getValuesFromForm=function(){var e=this;return Object.keys(this.filter).forEach((function(t){e.filter[t]!==undefined&&""!==e.filter[t]||delete e.filter[t]})),this.filter},e.propDecorators={poModal:[{type:t.ViewChild,args:[n.PoModalComponent,{"static":!0}]}],filters:[{type:t.Input,args:["p-filters"]}],literals:[{type:t.Input,args:["p-literals"]}],searchEvent:[{type:t.Output,args:["p-search-event"]}]},e}(),he=function(e){function r(t){return e.call(this,t)||this}return l(r,e),r.prototype.open=function(){this.filter={},this.poModal.open()},r.decorators=[{type:t.Component,args:[{selector:"po-advanced-filter",template:'<po-modal\r\n  p-hide-close\r\n  [p-primary-action]="primaryAction"\r\n  [p-secondary-action]="secondaryAction"\r\n  [p-title]="literals.title">\r\n\r\n  <po-dynamic-form\r\n    [p-fields]="filters"\r\n    [p-value]="filter">\r\n  </po-dynamic-form>\r\n\r\n</po-modal>\r\n'}]}],r.ctorParameters=function(){return[{type:n.PoLanguageService}]},r.propDecorators={poDynamicForm:[{type:t.ViewChild,args:[n.PoDynamicFormComponent,{"static":!0}]}]},r}(de),me={en:{disclaimerGroupTitle:"Displaying results filtered by:",filterTitle:ue.en.title,filterCancelLabel:ue.en.cancelLabel,filterConfirmLabel:ue.en.confirmLabel,quickSearchLabel:"Quick search:",searchPlaceholder:"Search"},es:{disclaimerGroupTitle:"Presentando resultados filtrados por:",filterTitle:ue.es.title,filterCancelLabel:ue.es.cancelLabel,filterConfirmLabel:ue.es.confirmLabel,quickSearchLabel:"Búsqueda rápida:",searchPlaceholder:"Buscar"},pt:{disclaimerGroupTitle:"Apresentando resultados filtrados por:",filterTitle:ue.pt.title,filterCancelLabel:ue.pt.cancelLabel,filterConfirmLabel:ue.pt.confirmLabel,quickSearchLabel:"Pesquisa rápida:",searchPlaceholder:"Pesquisar"},ru:{disclaimerGroupTitle:"Отображение результатов, отфильтрованных по:",filterTitle:ue.ru.title,filterCancelLabel:ue.ru.cancelLabel,filterConfirmLabel:ue.ru.confirmLabel,quickSearchLabel:"Быстрый поиск:",searchPlaceholder:"исследование"}},ge=function(){function e(e){this._filters=[],this.actions=[],this.breadcrumb={items:[]},this.advancedSearch=new t.EventEmitter,this.changeDisclaimers=new t.EventEmitter,this.quickSearch=new t.EventEmitter,this.language=e.getShortLanguage()}return Object.defineProperty(e.prototype,"literals",{get:function(){return this._literals||me[this.language]},set:function(e){e instanceof Object&&!(e instanceof Array)?this._literals=u({},me[f],me[this.language],e):this._literals=me[this.language],this.setAdvancedFilterLiterals(this.literals)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filters",{get:function(){return this._filters},set:function(e){this._filters=Array.isArray(e)?m(e):[]},enumerable:!0,configurable:!0}),e.prototype.setAdvancedFilterLiterals=function(e){this.advancedFilterLiterals={cancelLabel:e.filterCancelLabel,confirmLabel:e.filterConfirmLabel,title:e.filterTitle}},e.propDecorators={actions:[{type:t.Input,args:["p-actions"]}],breadcrumb:[{type:t.Input,args:["p-breadcrumb"]}],literals:[{type:t.Input,args:["p-literals"]}],filters:[{type:t.Input,args:["p-filters"]}],onLoad:[{type:t.Input,args:["p-load"]}],title:[{type:t.Input,args:["p-title"]}],advancedSearch:[{type:t.Output,args:["p-advanced-search"]}],changeDisclaimers:[{type:t.Output,args:["p-change-disclaimers"]}],quickSearch:[{type:t.Output,args:["p-quick-search"]}]},e}(),fe=function(e){function r(t,r){var o=e.call(this,t)||this;return o.poPageCustomizationService=r,o._disclaimerGroup={change:o.onChangeDisclaimerGroup.bind(o),disclaimers:[],title:o.literals.disclaimerGroupTitle},o._filterSettings={action:"onAction",advancedAction:"onAdvancedAction",ngModel:"quickFilter",placeholder:o.literals.searchPlaceholder},o.changeDisclaimersEnabled=!1,o}return l(r,e),Object.defineProperty(r.prototype,"disclaimerGroup",{get:function(){return Object.assign({},this._disclaimerGroup,{title:this.literals.disclaimerGroupTitle})},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"filterSettings",{get:function(){return this._filterSettings.advancedAction=0===this.filters.length?undefined:"onAdvancedAction",Object.assign({},this._filterSettings,{placeholder:this.literals.searchPlaceholder})},enumerable:!0,configurable:!0}),r.prototype.ngOnInit=function(){this.setAdvancedFilterLiterals(this.literals),this.onLoad&&this.loadOptionsOnInitialize(this.onLoad)},r.prototype.ngOnDestroy=function(){this.loadSubscription&&this.loadSubscription.unsubscribe()},r.prototype.onAction=function(){this.changeDisclaimersEnabled=!1,this._disclaimerGroup.disclaimers=[{property:"search",label:this.literals.quickSearchLabel+" "+this.quickFilter,value:this.quickFilter}],this.quickSearch.observers&&this.quickSearch.observers.length>0&&this.quickSearch.emit(this.quickFilter),this.quickFilter=undefined},r.prototype.onAdvancedAction=function(){this.poAdvancedFilter.open()},r.prototype.onAdvancedSearch=function(e){this.changeDisclaimersEnabled=!1,this._disclaimerGroup.disclaimers=this.setDisclaimers(e),this.advancedSearch.emit(e)},r.prototype.applyDisclaimerLabelValue=function(e,t){return(Array.isArray(t)?t:[t]).map((function(t){var r=e.options.find((function(e){return e.value===t}));return r.label||r.value})).join(", ")},r.prototype.formatDate=function(e){var t=parseInt(e.substr(0,4),10),r=parseInt(e.substr(5,2),10),o=parseInt(e.substr(8,2),10);return new Date(t,r-1,o).toLocaleDateString(v())},r.prototype.getFieldByProperty=function(e,t){return e.find((function(e){return e.property===t}))},r.prototype.getFilterValueToDisclaimer=function(e,t){return e.type===n.PoDynamicFieldType.Date?this.formatDate(t):e.options?this.applyDisclaimerLabelValue(e,t):t},r.prototype.onChangeDisclaimerGroup=function(e){this.changeDisclaimersEnabled?this.changeDisclaimers.emit(e):this.changeDisclaimersEnabled=!0},r.prototype.setDisclaimers=function(e){var t=this,r=[];return Object.keys(e).forEach((function(o){var n,i=t.getFieldByProperty(t.filters,o),s=i.label||""+(n=i.property).charAt(0).toUpperCase()+n.slice(1),a=e[o];r.push({label:s+": "+t.getFilterValueToDisclaimer(i,a),property:o,value:a})})),r},r.prototype.loadOptionsOnInitialize=function(e){var t=this;this.loadSubscription=this.getPoDynamicPageOptions(e).subscribe((function(e){return t.poPageCustomizationService.changeOriginalOptionsToNewOptions(t,e)}))},r.prototype.getPoDynamicPageOptions=function(e){var t={title:this.title,actions:this.actions,breadcrumb:this.breadcrumb,filters:this.filters};return this.poPageCustomizationService.getCustomOptions(e,t,{schema:[{nameProp:"filters",merge:!0,keyForMerge:"property"},{nameProp:"actions",merge:!0,keyForMerge:"label"},{nameProp:"breadcrumb"},{nameProp:"title"}]})},r.decorators=[{type:t.Component,args:[{selector:"po-page-dynamic-search",template:'<po-page-list\r\n  [p-actions]="actions"\r\n  [p-breadcrumb]="breadcrumb"\r\n  [p-disclaimer-group]="disclaimerGroup"\r\n  [p-filter]="filterSettings"\r\n  [p-title]="title">\r\n\r\n  <po-advanced-filter\r\n    [p-filters]="filters"\r\n    [p-literals]="advancedFilterLiterals"\r\n    (p-search-event)="onAdvancedSearch($event)">\r\n  </po-advanced-filter>\r\n\r\n  <ng-content></ng-content>\r\n</po-page-list>\r\n'}]}],r.ctorParameters=function(){return[{type:n.PoLanguageService},{type:pe}]},r.propDecorators={poAdvancedFilter:[{type:t.ViewChild,args:[he,{"static":!0}]}]},r}(ge),ye=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[r.CommonModule,o.FormsModule,i.RouterModule,n.PoDynamicModule,n.PoLanguageModule,n.PoModalModule,n.PoPageModule,le],declarations:[he,fe],exports:[fe]}]}],e}(),ve=function(){function e(){this._autoRouter=!1,this._columns=[],this._duplicates=[],this._fields=[],this._filters=[],this._keys=[],this.breadcrumb={items:[]}}return Object.defineProperty(e.prototype,"autoRouter",{get:function(){return this._autoRouter},set:function(e){this._autoRouter=P(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fields",{get:function(){return this._fields},set:function(e){this._fields=Array.isArray(e)?m(e):[],this.setFieldsProperties(this.fields)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columns",{get:function(){return m(this._columns)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"duplicates",{get:function(){return m(this._duplicates)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filters",{get:function(){return m(this._filters)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keys",{get:function(){return m(this._keys)},enumerable:!0,configurable:!0}),e.prototype.setFieldsProperties=function(e){this._filters=e.filter((function(e){return!0===e.filter})),this._columns=e.filter((function(e){return e.visible===undefined||!0===e.visible})),this._keys=e.filter((function(e){return!0===e.key})).map((function(e){return e.property})),this._duplicates=e.filter((function(e){return!0===e.duplicate})).map((function(e){return e.property}))},e.propDecorators={autoRouter:[{type:t.Input,args:["p-auto-router"]}],breadcrumb:[{type:t.Input,args:["p-breadcrumb"]}],fields:[{type:t.Input,args:["p-fields"]}],serviceApi:[{type:t.Input,args:["p-service-api"]}],title:[{type:t.Input,args:["p-title"]}]},e}(),be={en:{pageAction:"New",pageActionRemoveAll:"Delete",tableActionView:"View",tableActionEdit:"Edit",tableActionDuplicate:"Duplicate",tableActionDelete:"Delete",confirmRemoveTitle:"Confirm delete",confirmRemoveMessage:"Are you sure you want to delete this record? You can not undo this action.",confirmRemoveAllTitle:"Confirm batch deletion",confirmRemoveAllMessage:"Are you sure you want to delete all these records? You can not undo this action.",loadDataErrorNotification:"Service not found",removeSuccessNotification:"Item deleted successfully",removeAllSuccessNotification:"Items deleted successfully"},es:{pageAction:"Nuevo",pageActionRemoveAll:"Borrar",tableActionView:"Visualizar",tableActionEdit:"Editar",tableActionDuplicate:"Duplicar",tableActionDelete:"Borrar",confirmRemoveTitle:"Confirmar la exclusión",confirmRemoveMessage:"¿Está seguro de que desea eliminar este registro? No puede deshacer esta acción.",confirmRemoveAllTitle:"Confirmar la exclusión por lotes",confirmRemoveAllMessage:"¿Está seguro de que desea eliminar todos estos registros? No puede deshacer esta acción.",loadDataErrorNotification:"Servicio no informado.",removeSuccessNotification:"Elemento eliminado con éxito",removeAllSuccessNotification:"Elementos eliminados con éxito"},pt:{pageAction:"Novo",pageActionRemoveAll:"Excluir",tableActionView:"Visualizar",tableActionEdit:"Editar",tableActionDuplicate:"Duplicar",tableActionDelete:"Excluir",confirmRemoveTitle:"Confirmar exclusão",confirmRemoveMessage:"Tem certeza de que deseja excluir esse registro? Você não poderá desfazer essa ação.",confirmRemoveAllTitle:"Confirmar exclusão em lote",confirmRemoveAllMessage:"Tem certeza de que deseja excluir todos esses registros? Você não poderá desfazer essa ação.",loadDataErrorNotification:"Serviço não informado.",removeSuccessNotification:"Item excluido com sucesso",removeAllSuccessNotification:"Items excluidos com sucesso"}},Pe=function(e){function r(t,r,o,n,i,s){var a=e.call(this)||this;return a.router=t,a.activatedRoute=r,a.poDialogService=o,a.poNotification=n,a.poPageDynamicService=i,a.poPageCustomizationService=s,a._actions={},a._pageActions=[],a._tableActions=[],a.page=1,a.params={},a.subscriptions=[],a.hasNext=!1,a.items=[],a.literals=u({},be[f],be[y()]),a}return l(r,e),Object.defineProperty(r.prototype,"actions",{get:function(){return this._actions},set:function(e){this._actions=e&&"object"==typeof e&&Object.keys(e).length>0?e:{},this.setPageActions(this.actions),this.setRemoveAllAction(),this.setTableActions(this.actions)},enumerable:!0,configurable:!0}),r.prototype.ngOnInit=function(){this.loadDataFromAPI()},r.prototype.ngOnDestroy=function(){this.subscriptions&&this.subscriptions.forEach((function(e){e.unsubscribe()}))},r.prototype.onAdvancedSearch=function(e){this.subscriptions.push(this.loadData(u({page:1},e)).subscribe()),this.params=e},r.prototype.onChangeDisclaimers=function(e){var t={};e.forEach((function(e){t[e.property]=e.value})),this.onAdvancedSearch(t)},r.prototype.onQuickSearch=function(e){this.subscriptions.push(this.loadData(e?{page:1,search:e}:undefined).subscribe()),this.params=e?{search:e}:{}},r.prototype.onSort=function(e){this.sortedColumn=e},r.prototype.showMore=function(){this.subscriptions.push(this.loadData(u({page:++this.page},this.params)).subscribe())},Object.defineProperty(r.prototype,"hasActionRemoveAll",{get:function(){return!!this.actions.removeAll},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pageActions",{get:function(){return m(this._pageActions)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tableActions",{get:function(){return this._tableActions},enumerable:!0,configurable:!0}),r.prototype.confirmRemove=function(e){var t={title:this.literals.confirmRemoveTitle,message:this.literals.confirmRemoveMessage,confirm:this.remove.bind(this,e)};this.poDialogService.confirm(t)},r.prototype.confirmRemoveAll=function(){var e={title:this.literals.confirmRemoveAllTitle,message:this.literals.confirmRemoveAllMessage,confirm:this.removeAll.bind(this)};this.poDialogService.confirm(e)},r.prototype.formatUniqueKey=function(e){return C(S(e,this.keys)).join("|")},r.prototype.getOrderParam=function(e){void 0===e&&(e={type:undefined});var t=e.column,r=e.type;return t?r===n.PoTableColumnSortType.Descending?{order:"-"+t.property}:{order:""+t.property}:{}},r.prototype.loadData=function(e){var t=this;if(void 0===e&&(e={}),!this.serviceApi)return this.poNotification.error(this.literals.loadDataErrorNotification),c.throwError(this.literals.loadDataErrorNotification);var r=this.getOrderParam(this.sortedColumn),o=u({},{page:1,pageSize:10},e,r);return this.poPageDynamicService.getResources(o).pipe(a.tap((function(e){t.items=1===o.page?e.items:m(t.items,e.items),t.page=o.page,t.hasNext=e.hasNext})))},r.prototype.getMetadata=function(e){var t=this;return e?this.poPageDynamicService.getMetadata().pipe(a.tap((function(e){t.autoRouter=e.autoRouter||t.autoRouter,t.actions=e.actions||t.actions,t.breadcrumb=e.breadcrumb||t.breadcrumb,t.fields=e.fields||t.fields,t.title=e.title||t.title}))):c.EMPTY},r.prototype.navigateTo=function(e,t){var r=this;void 0===t&&(t=!1),this.router.navigate([e.url||e.path],{queryParams:e.params})["catch"]((function(){!t&&r.autoRouter&&(r.router.config.unshift({path:e.path,component:e.component,data:{serviceApi:r.serviceApi,autoRouter:!0}}),r.navigateTo(e,!0))}))},r.prototype.openDetail=function(e,t){var r=this.resolveUrl(t,e);this.navigateTo({path:e,url:r,component:oe})},r.prototype.openDuplicate=function(e,t){var r=S(t,this.duplicates);this.navigateTo({path:e,params:{duplicate:JSON.stringify(r)}})},r.prototype.openEdit=function(e,t){var r=this.resolveUrl(t,e);this.navigateTo({path:e,url:r})},r.prototype.openNew=function(e){this.navigateTo({path:e})},r.prototype.remove=function(e){var t=this,r=this.formatUniqueKey(e);this.poPageDynamicService.deleteResource(r).toPromise().then((function(){t.removeLocalItems([e]),t.poNotification.success(t.literals.removeSuccessNotification)}))},r.prototype.removeAll=function(){var e=this,t=this.items.filter((function(e){return e.$selected}));if(0!==t.length){var r,o,n=(r=t,o=this.keys,void 0===r&&(r=[]),void 0===o&&(o=[]),r.map((function(e){return S(e,o)})));this.poPageDynamicService.deleteResources(n).toPromise().then((function(){e.removeLocalItems(t),e.poNotification.success(e.literals.removeAllSuccessNotification)}))}},r.prototype.removeLocalItems=function(e){var t=this;void 0===e&&(e=[]),e.forEach((function(e){var r=t.items.indexOf(e);t.items.splice(r,1)}))},r.prototype.resolveUrl=function(e,t){var r=this.formatUniqueKey(e);return t.replace(/:id/g,r)},r.prototype.setPageActions=function(e){e&&(this._pageActions=[{label:this.literals.pageAction,action:this.openNew.bind(this,e["new"]),disabled:!this._actions["new"]}])},r.prototype.setRemoveAllAction=function(){this._actions.removeAll&&this._pageActions.push({label:this.literals.pageActionRemoveAll,action:this.confirmRemoveAll.bind(this),disabled:!this._actions.removeAll})},r.prototype.setTableActions=function(e){e&&(this._tableActions=[{action:this.openDetail.bind(this,e.detail),label:this.literals.tableActionView,visible:!!this._actions.detail},{action:this.openEdit.bind(this,e.edit),label:this.literals.tableActionEdit,visible:!!this._actions.edit},{action:this.openDuplicate.bind(this,e.duplicate),label:this.literals.tableActionDuplicate,visible:!!this._actions.duplicate},{action:this.confirmRemove.bind(this),label:this.literals.tableActionDelete,separator:!0,type:"danger",visible:!!this._actions.remove}])},r.prototype.loadDataFromAPI=function(){var e=this.activatedRoute.snapshot.data,t=e.serviceApi,r=e.serviceMetadataApi;this.serviceApi=t||this.serviceApi,this.poPageDynamicService.configServiceApi({endpoint:this.serviceApi,metadata:r});var o=this.getMetadata(t),n=this.loadData(),i=this.loadOptionsOnInitialize(this.onLoad);this.subscriptions.push(c.concat(o,n,i).subscribe())},r.prototype.loadOptionsOnInitialize=function(e){var t=this;return e?this.getPoDynamicPageOptions(e).pipe(a.tap((function(e){return t.poPageCustomizationService.changeOriginalOptionsToNewOptions(t,e)}))):c.EMPTY},r.prototype.getPoDynamicPageOptions=function(e){var t={fields:this.fields,actions:this.actions,breadcrumb:this.breadcrumb,title:this.title};return this.poPageCustomizationService.getCustomOptions(e,t,{schema:[{nameProp:"fields",merge:!0,keyForMerge:"property"},{nameProp:"actions",merge:!0},{nameProp:"breadcrumb"},{nameProp:"title"}]})},r.decorators=[{type:t.Component,args:[{selector:"po-page-dynamic-table",template:'<po-page-dynamic-search\r\n  [p-actions]="pageActions"\r\n  [p-breadcrumb]="breadcrumb"\r\n  [p-filters]="filters"\r\n  [p-title]="title"\r\n  (p-advanced-search)="onAdvancedSearch($event)"\r\n  (p-change-disclaimers)="onChangeDisclaimers($event)"\r\n  (p-quick-search)="onQuickSearch($event)">\r\n\r\n  <po-table\r\n    p-sort="true"\r\n    [p-actions]="tableActions"\r\n    [p-checkbox]="hasActionRemoveAll"\r\n    [p-columns]="columns"\r\n    [p-items]="items"\r\n    [p-show-more-disabled]="!hasNext"\r\n    (p-show-more)="showMore()"\r\n    (p-sort-by)="onSort($event)">\r\n  </po-table>\r\n\r\n</po-page-dynamic-search>\r\n',providers:[te]}]}],r.ctorParameters=function(){return[{type:i.Router},{type:i.ActivatedRoute},{type:n.PoDialogService},{type:n.PoNotificationService},{type:te},{type:pe}]},r.propDecorators={onLoad:[{type:t.Input,args:["p-load"]}],actions:[{type:t.Input,args:["p-actions"]}]},r}(ve),we=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[r.CommonModule,o.FormsModule,i.RouterModule,n.PoTableModule,ye,le,ne],declarations:[Pe],exports:[Pe]}]}],e}(),ke=function(){function e(){this.periodicity="single",this.firstExecution=new Date,this.firstExecutionHour=this.getCurrentHour(this.firstExecution),this.recurrent=!0}return e.prototype.getCurrentHour=function(e){return(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())},e}(),Se=function(){function e(e){this.poPageJobSchedulerService=e,this.breadcrumb={items:[]},this.model=new ke}return e.prototype.loadData=function(e){var t=this;e?this.poPageJobSchedulerService.getResource(e).toPromise().then((function(e){t.model=e}))["catch"]((function(){t.model=new ke})):this.model=new ke},e.prototype.markAsDirtyInvalidControls=function(e){for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];r.invalid&&r.markAsDirty()}},e.propDecorators={breadcrumb:[{type:t.Input,args:["p-breadcrumb"]}],serviceApi:[{type:t.Input,args:["p-service-api"]}],title:[{type:t.Input,args:["p-title"]}]},e}(),Ce={en:{at:"at",back:"Back",next:"Next",periodicity:"Periodicity",execution:"Execution",process:"Process",enterProcess:"Enter a process",recurrent:"Recurrent",single:"Single",daily:"Daily",weekly:"Weekly",monthly:"Monthly",scheduling:"Scheduling",parameterization:"Parameterization",conclude:"Conclude",firstExecution:"First Execution",hour:"Hour",day:"Day",weekDays:"Week days",sunday:"Sunday",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",parameters:"Parameters",yes:"Yes",no:"No",notReported:"Not reported",periodicityData:"Periodicity data",confirmation:"Confirmation",confirmSaveMessage:"Are you sure you want to complete this schedule?",confirmUpdateMessage:"Are you sure you want to update this schedule?",saveNotificationSuccessUpdate:"Successfully updated scheduling",saveNotificationSuccessSave:"Successfully saved scheduling",parametersNotFound:"Parameters not found."},es:{at:"a las",back:"Volver",next:"Avanzar",periodicity:"Periodicidad",execution:"Ejecución",process:"Proceso",enterProcess:"Informe un proceso",recurrent:"Recurrente",single:"Única",daily:"Diaria",weekly:"Semanal",monthly:"Mensual",scheduling:"Programación",parameterization:"Parametrización",conclude:"Completar",firstExecution:"Primera ejecución",hour:"Horario",day:"Día",weekDays:"Dias de la semana",sunday:"Domingo",monday:"Lunes",tuesday:"Martes",wednesday:"Miércoles",thursday:"Jueves",friday:"Viernes",saturday:"Sábado",parameters:"Parámetros",yes:"Sí",no:"No",notReported:"No informado",periodicityData:"Dados da periodicidade",confirmation:"Confirmación",confirmSaveMessage:"¿Está seguro de que desea completar esta programación de proceso?",confirmUpdateMessage:"¿Está seguro de que desea cambiar esta programación de proceso?",saveNotificationSuccessUpdate:"Programación de proceso actualizada con éxito.",saveNotificationSuccessSave:"Programación de proceso salvo con éxito.",parametersNotFound:"No se encontraron parámetros."},pt:{at:"às",back:"Voltar",next:"Avançar",periodicity:"Periodicidade",execution:"Execução",process:"Processo",enterProcess:"Informe um processo",recurrent:"Recorrente",single:"Única",daily:"Diária",weekly:"Semanal",monthly:"Mensal",scheduling:"Agendamento",parameterization:"Parametrização",conclude:"Concluir",firstExecution:"Primeira execução",hour:"Horário",day:"Dia",weekDays:"Dias de semana",sunday:"Domingo",monday:"Segunda-feira",tuesday:"Terça-feira",wednesday:"Quarta-feira",thursday:"Quinta-feira",friday:"Sexta-feira",saturday:"Sábado",parameters:"Parâmetros",yes:"Sim",no:"Não",notReported:"Não informado",periodicityData:"Dados da periodicidade",confirmation:"Confirmação",confirmSaveMessage:"Tem certeza que deseja concluir este agendamento de processo?",confirmUpdateMessage:"Tem certeza que deseja alterar este agendamento de processo?",saveNotificationSuccessUpdate:"Agendamento de processo atualizado com sucesso.",saveNotificationSuccessSave:"Agendamento de processo salvo com sucesso.",parametersNotFound:"Parâmetros não foram encontrados."}},Ae=function(){function e(e){this.http=e,this.endpoint="/",this.headers=new s.HttpHeaders({"X-PORTINARI-SCREEN-LOCK":"true"})}return e.prototype.configServiceApi=function(e){void 0===e&&(e={}),this.endpoint=e.endpoint},e.prototype.createResource=function(e){var t=this.convertToJobScheduler(e);return this.http.post(""+this.endpoint,t,{headers:this.headers})},e.prototype.getHeadProcesses=function(){return this.http.head(this.endpoint+"/processes",{headers:{"X-Portinari-No-Error":"true"}})},e.prototype.getParametersByProcess=function(e){return this.http.get(this.endpoint+"/processes/"+e+"/parameters",{headers:this.headers}).pipe(a.map((function(e){return e.items})))},e.prototype.getProcess=function(e){return this.http.get(this.endpoint+"/processes/"+e,{headers:this.headers})},e.prototype.getProcesses=function(e){return void 0===e&&(e={}),this.http.get(this.endpoint+"/processes",{params:e})},e.prototype.getResource=function(e){var t=this;return this.http.get(this.endpoint+"/"+e,{headers:this.headers}).pipe(a.map((function(e){return t.convertToJobSchedulerInternal(e)})))},e.prototype.updateResource=function(e,t){var r=this.convertToJobScheduler(t);return this.http.put(this.endpoint+"/"+e,r,{headers:this.headers})},e.prototype.convertToJobScheduler=function(e){var t=u({},e);return e.periodicity&&("single"===e.periodicity?t.recurrent=!1:Object.assign(t,this.convertToPeriodicity(e))),e.firstExecutionHour&&(t.firstExecution=this.replaceHourFirstExecution(e.firstExecution,e.firstExecutionHour)),Object.keys(this.returnValidExecutionParameter(t.executionParameter)).length||delete t.executionParameter,this.removeInvalidKeys(t),t},e.prototype.convertToJobSchedulerInternal=function(e){void 0===e&&(e={});var t=u({},e);return e.firstExecution&&(t.firstExecutionHour=this.getHourFirstExecution(e.firstExecution)),Object.assign(t,this.convertToPeriodicityInternal(e)),this.removeInvalidKeys(t,["weekly","monthly","daily"]),t},e.prototype.convertToPeriodicity=function(e){var t={},r=e.periodicity;return r&&(t[r]={},"monthly"===r?t[r].day=e.dayOfMonth?parseInt(e.dayOfMonth,10):0:"weekly"===r&&(t[r].daysOfWeek=e.daysOfWeek),t[r].hour=e.hour?parseInt(e.hour.split(":")[0],10):0,t[r].minute=e.hour?parseInt(e.hour.split(":")[1],10):0),t},e.prototype.convertToPeriodicityInternal=function(e){return void 0===e&&(e={}),e.monthly?{periodicity:"monthly",hour:A(e.monthly.hour)+":"+A(e.monthly.minute),dayOfMonth:e.monthly.day}:e.daily?{periodicity:"daily",hour:A(e.daily.hour)+":"+A(e.daily.minute)}:e.weekly?{periodicity:"weekly",hour:A(e.weekly.hour)+":"+A(e.weekly.minute),daysOfWeek:m(e.weekly.daysOfWeek)}:{periodicity:"single"}},e.prototype.getCurrentHour=function(e){return A(e.getHours())+":"+A(e.getMinutes())},e.prototype.getHourFirstExecution=function(e){return this.getCurrentHour(new Date(e))},e.prototype.removeInvalidKeys=function(e,t){var r=t||["periodicity","hour","minute","day","daysOfWeek","dayOfMonth","firstExecutionHour"];Object.keys(e).forEach((function(t){r.includes(t)&&delete e[t]}))},e.prototype.replaceHourFirstExecution=function(e,t){var r=new Date(e),o=t.split(":"),n=parseInt(o[0],10),i=parseInt(o[1],10);return r.setHours(n,i),function(e,t){if(e){var r=e.getMonth()+1,o=e.getDate()<10?"0"+e.getDate():e.getDate(),n=r<10?"0"+r:r,i=function(e){if(e>=1e3)return e.toString();if(e>99&&e<1e3)return"0"+e;if(e>9&&e<100)return"00"+e;if(e>=0&&e<10)return"000"+e}(e.getFullYear()),s=e.toString();return t?i+"-"+n+"-"+o+t:i+"-"+n+"-"+o+"T"+s.substring(16,24)+s.substring(28,31)+":"+s.substring(31,33)}return null}(r)},e.prototype.returnValidExecutionParameter=function(e){var t=u({},e);for(var r in t)t.hasOwnProperty(r)&&t[r]===undefined&&delete t[r];return t},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:s.HttpClient}]},e}(),Ee=function(){function e(e){this.poPageJobSchedulerService=e}return e.prototype.getFilteredData=function(e,t,r){var o={page:t,pageSize:r,search:e};return this.poPageJobSchedulerService.getProcesses(o)},e.prototype.getObjectByValue=function(e){return this.poPageJobSchedulerService.getProcess(e)},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:Ae}]},e}(),Ie=function(e){function r(t,r,o,n,i,s){var a=e.call(this,s)||this;return a.poPageDynamicLookupService=t,a.activatedRoute=r,a.poDialogService=o,a.poNotification=n,a.router=i,a.isEdit=!1,a.literals=u({},Ce[f],Ce[y()]),a.parameters=[],a.step=1,a.backPageAction={label:a.literals.back,action:a.nextStepOperation.bind(a,"back"),disabled:a.isDisabledBack.bind(a)},a.concludePageActions=[{label:a.literals.conclude,action:a.confirmJobScheduler.bind(a)},u({},a.backPageAction)],a.nextPageActions=[{label:a.literals.next,action:a.nextStepOperation.bind(a,"next"),disabled:a.isDisabledAdvance.bind(a)},u({},a.backPageAction)],a.jobSchedulerActions=m(a.nextPageActions),a.steps=[{label:a.literals.scheduling},{label:a.literals.parameterization},{label:a.literals.conclude}],a}return l(r,e),Object.defineProperty(r.prototype,"stepperOrientation",{get:function(){return window.innerWidth>481&&window.innerWidth<960?"horizontal":"vertical"},enumerable:!0,configurable:!0}),r.prototype.ngOnInit=function(){var e=this.activatedRoute.snapshot.params.id;this.isEdit=!!e,this.poPageJobSchedulerService.configServiceApi({endpoint:this.serviceApi}),this.loadData(e)},r.prototype.changePageActionsBySteps=function(e,t){var r=this.steps.length;t===r?this.jobSchedulerActions=m(this.concludePageActions):e===r&&t<e&&(this.jobSchedulerActions=m(this.nextPageActions))},r.prototype.nextStep=function(e){if(e>1&&this.schedulerExecution.form.invalid)this.markAsDirtyInvalidControls(this.schedulerExecution.form.controls);else if(e>2&&this.schedulerParameters&&this.schedulerParameters.form&&this.schedulerParameters.form.invalid)this.markAsDirtyInvalidControls(this.schedulerParameters.form.controls);else{this.changePageActionsBySteps(this.step,e);var t=this.steps[this.step-1];this.step=e,t&&(t.status=n.PoStepperStatus.Done)}},r.prototype.onChangeProcess=function(e){if(e.existAPI&&e.processId)return this.getParametersByProcess(e.processId),void(this.isEdit||(this.model.executionParameter={}))},r.prototype.confirmJobScheduler=function(){var e=this,t=this.activatedRoute.snapshot.params.id,r=t?this.literals.confirmUpdateMessage:this.literals.confirmSaveMessage;this.poDialogService.confirm({title:this.literals.confirmation,message:r,confirm:function(){var r=Object.assign({},e.model);e.save(r,t)}})},r.prototype.emitSuccessMessage=function(e,t){return r=this,o=void 0,i=function(){return d(this,(function(r){switch(r.label){case 0:return[4,t.toPromise()];case 1:return r.sent(),this.poNotification.success(e),this.resetJobSchedulerForm(),[2]}}))},new((n=void 0)||(n=Promise))((function(e,t){function s(e){try{c(i.next(e))}catch(r){t(r)}}function a(e){try{c(i["throw"](e))}catch(r){t(r)}}function c(t){t.done?e(t.value):new n((function(e){e(t.value)})).then(s,a)}c((i=i.apply(r,o||[])).next())}));var r,o,n,i},r.prototype.getParametersByProcess=function(e){var t=this;this.poPageJobSchedulerService.getParametersByProcess(e).subscribe((function(e){t.parameters=e}))},r.prototype.isDisabledAdvance=function(){return!!this.schedulerExecution&&this.schedulerExecution.form.invalid},r.prototype.isDisabledBack=function(){return 1===this.step},r.prototype.nextStepOperation=function(e){var t="back"===e?this.step-1:this.step+1;this.nextStep(t)},r.prototype.resetJobSchedulerForm=function(){var e=this;this.schedulerExecution.form.reset(),setTimeout((function(){e.model=new ke,e.step=1,e.steps.forEach((function(e){e.status=n.PoStepperStatus.Default})),e.jobSchedulerActions=m(e.nextPageActions)}))},r.prototype.save=function(e,t){var r=t?this.poPageJobSchedulerService.updateResource(t,e):this.poPageJobSchedulerService.createResource(e),o=t?this.literals.saveNotificationSuccessUpdate:this.literals.saveNotificationSuccessSave;this.emitSuccessMessage(o,r)},r.decorators=[{type:t.Component,args:[{selector:"po-page-job-scheduler",template:'<po-page-default\r\n  [p-actions]="jobSchedulerActions"\r\n  [p-breadcrumb]="breadcrumb"\r\n  [p-title]="title">\r\n\r\n  <div class="po-row">\r\n\r\n    <po-stepper\r\n      class="po-lg-3 po-xl-2"\r\n      p-sequential="true"\r\n      [p-orientation]="stepperOrientation"\r\n      [p-step]="step"\r\n      [p-steps]="steps"\r\n      (p-change-step)="nextStep($event)">\r\n    </po-stepper>\r\n\r\n    <po-container class="po-lg-8 po-xl-6">\r\n      <form #formScheduler="ngForm">\r\n        <div class="po-row">\r\n          <po-page-job-scheduler-execution [hidden]="step !== 1"\r\n            #schedulerExecution\r\n            class="po-md-12"\r\n            [p-is-edit]="isEdit"\r\n            [p-literals]="literals"\r\n            [p-value]="model"\r\n            (p-change-process)="onChangeProcess($event)">\r\n          </po-page-job-scheduler-execution>\r\n\r\n          <po-page-job-scheduler-parameters *ngIf="step === 2"\r\n            #schedulerParameters\r\n            class="po-md-12"\r\n            [p-literals]="literals"\r\n            [p-parameters]="parameters || []"\r\n            [(p-value)]="model.executionParameter">\r\n          </po-page-job-scheduler-parameters>\r\n\r\n          <po-page-job-scheduler-summary *ngIf="step === 3"\r\n            class="po-md-12"\r\n            [p-literals]="literals"\r\n            [p-parameters]="parameters"\r\n            [p-value]="model">\r\n          </po-page-job-scheduler-summary>\r\n        </div>\r\n      </form>\r\n    </po-container>\r\n  </div>\r\n\r\n</po-page-default>\r\n',encapsulation:t.ViewEncapsulation.None,styles:["\n    po-container .po-container {\n      overflow-y: unset;\n    }\n  "]}]}],r.ctorParameters=function(){return[{type:Ee},{type:i.ActivatedRoute},{type:n.PoDialogService},{type:n.PoNotificationService},{type:i.Router},{type:Ae}]},r.propDecorators={schedulerExecution:[{type:t.ViewChild,args:["schedulerExecution",{"static":!0}]}],schedulerParameters:[{type:t.ViewChild,args:["schedulerParameters",{"static":!0}]}]},r}(Se),Me=function(){function e(e,r){this.poPageJobSchedulerService=e,this.poPageJobSchedulerLookup=r,this._value={},this.dayPattern="^(3[0-1]|[0-2][0-9]|[1-9]|0[1-9])$",this.existProcessAPI=!0,this.minDateFirstExecution=new Date,this.periodicityOptions=[],this.timePattern="^(2[0-3]|[01][0-9]):?([0-5][0-9])$",this.weekDays=[],this.isEdit=!1,this.literals={},this.changeProcess=new t.EventEmitter}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e&&w(e,"object")?e:{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startDateFirstExecution",{get:function(){return this.isEdit?undefined:this.minDateFirstExecution},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){var e=this;setTimeout((function(){e.subscribeProcessIdValueChanges()}))},e.prototype.ngOnInit=function(){this.periodicityTemplates={daily:this.dailyTemplate,monthly:this.monthlyTemplate,weekly:this.weeklyTempalte},this.checkExistsProcessesAPI(),this.periodicityOptions=this.getPeriodicityOptions(),this.weekDays=this.getWeekDays()},e.prototype.checkExistsProcessesAPI=function(){var e=this;this.poPageJobSchedulerService.getHeadProcesses().subscribe(undefined,(function(t){e.existProcessAPI=!1}))},e.prototype.getPeriodicityOptions=function(){return[{label:this.literals.single,value:"single"},{label:this.literals.daily,value:"daily"},{label:this.literals.weekly,value:"weekly"},{label:this.literals.monthly,value:"monthly"}]},e.prototype.getWeekDays=function(){return[{label:this.literals.sunday,value:"Sunday"},{label:this.literals.monday,value:"Monday"},{label:this.literals.tuesday,value:"Tuesday"},{label:this.literals.wednesday,value:"Wednesday"},{label:this.literals.thursday,value:"Thursday"},{label:this.literals.friday,value:"Friday"},{label:this.literals.saturday,value:"Saturday"}]},e.prototype.subscribeProcessIdValueChanges=function(){var e=this;this.form.controls.processID.valueChanges.subscribe((function(t){e.changeProcess.emit({processId:t,existAPI:e.existProcessAPI})}))},e.decorators=[{type:t.Component,args:[{selector:"po-page-job-scheduler-execution",template:'<form #formExecution="ngForm">\r\n  <div class="po-row">\r\n    <ng-container *ngIf="existProcessAPI; then lookupProcessesID; else inputProcessesID"></ng-container>\r\n  </div>\r\n\r\n  <div class="po-row">\r\n    <po-divider class="po-md-12" [p-label]="literals.firstExecution"></po-divider>\r\n\r\n    <po-datepicker\r\n      class="po-md-4"\r\n      name="firstExecution"\r\n      [(ngModel)]="value.firstExecution"\r\n      p-placeholder="dd/mm/aaaa"\r\n      p-required\r\n      [p-disabled]="isEdit"\r\n      [p-label]="literals.day"\r\n      [p-min-date]="startDateFirstExecution">\r\n    </po-datepicker>\r\n\r\n    <po-input\r\n      class="po-md-2"\r\n      name="firstExecutionHour"\r\n      [(ngModel)]="value.firstExecutionHour"\r\n      p-mask="99:99"\r\n      p-mask-format-model\r\n      p-placeholder="HH:mm"\r\n      p-required\r\n      [p-disabled]="isEdit"\r\n      [p-label]="literals.hour"\r\n      [p-pattern]="timePattern">\r\n    </po-input>\r\n\r\n  </div>\r\n\r\n  <hr>\r\n\r\n  <div class="po-row">\r\n    <po-radio-group\r\n      class="po-sm-12"\r\n      name="periodicity"\r\n      [(ngModel)]="value.periodicity"\r\n      p-columns="4"\r\n      p-required\r\n      [p-label]="literals.periodicity"\r\n      [p-options]="periodicityOptions">\r\n    </po-radio-group>\r\n\r\n    <ng-container *ngIf="value.periodicity !== \'single\'">\r\n      <po-divider class="po-md-12" [p-label]="literals.periodicityData">\r\n      </po-divider>\r\n\r\n      <div class="po-row">\r\n        <ng-container *ngTemplateOutlet="periodicityTemplates[value.periodicity]">\r\n        </ng-container>\r\n      </div>\r\n\r\n      <div class="po-row">\r\n        <po-switch\r\n          class="po-md-3"\r\n          name="recurrent"\r\n          [(ngModel)]="value.recurrent"\r\n          [p-label]="literals.recurrent"\r\n          [p-label-off]="literals.no"\r\n          [p-label-on]="literals.yes">\r\n        </po-switch>\r\n      </div>\r\n    </ng-container>\r\n  </div>\r\n\r\n  <ng-template #lookupProcessesID>\r\n    <po-lookup\r\n      class="po-md-12"\r\n      name="processID"\r\n      [(ngModel)]="value.processID"\r\n      p-field-label="description"\r\n      p-field-value="processID"\r\n      p-required\r\n      [p-disabled]="isEdit"\r\n      [p-filter-service]="poPageJobSchedulerLookup"\r\n      [p-label]="literals.process"\r\n      [p-placeholder]="literals.enterProcess">\r\n    </po-lookup>\r\n  </ng-template>\r\n\r\n  <ng-template #inputProcessesID>\r\n    <po-input\r\n      class="po-md-12"\r\n      name="processID"\r\n      [(ngModel)]="value.processID"\r\n      p-required\r\n      [p-disabled]="isEdit"\r\n      [p-label]="literals.process"\r\n      [p-placeholder]="literals.enterProcess">\r\n    </po-input>\r\n  </ng-template>\r\n\r\n  <ng-template #dailyTemplate>\r\n    <ng-container *ngTemplateOutlet="inputHourTemplate">\r\n    </ng-container>\r\n  </ng-template>\r\n\r\n  <ng-template #weeklyTemplate>\r\n    <div class="po-row">\r\n      <ng-container *ngTemplateOutlet="inputHourTemplate">\r\n      </ng-container>\r\n    </div>\r\n\r\n    <po-checkbox-group\r\n      class="po-md-12"\r\n      name="daysOfWeek"\r\n      [(ngModel)]="value.daysOfWeek"\r\n      p-columns="4"\r\n      p-required\r\n      [p-label]="literals.weekDays"\r\n      [p-options]="weekDays">\r\n    </po-checkbox-group>\r\n  </ng-template>\r\n\r\n  <ng-template #monthlyTemplate>\r\n    <po-number\r\n      class="po-md-3"\r\n      name="dayOfMonth"\r\n      [(ngModel)]="value.dayOfMonth"\r\n      p-required\r\n      [p-error-pattern]="\'Dia inválido\'"\r\n      [p-label]="literals.day"\r\n      [p-max]="31"\r\n      [p-pattern]="dayPattern">\r\n    </po-number>\r\n\r\n    <ng-container *ngTemplateOutlet="inputHourTemplate">\r\n    </ng-container>\r\n  </ng-template>\r\n\r\n  <ng-template #inputHourTemplate>\r\n    <po-input\r\n      class="po-md-2"\r\n      name="hour"\r\n      [(ngModel)]="value.hour"\r\n      p-mask="99:99"\r\n      p-mask-format-model\r\n      p-placeholder="HH:mm"\r\n      p-required\r\n      [p-label]="literals.hour"\r\n      [p-pattern]="timePattern">\r\n    </po-input>\r\n  </ng-template>\r\n</form>\r\n'}]}],e.ctorParameters=function(){return[{type:Ae},{type:Ee}]},e.propDecorators={form:[{type:t.ViewChild,args:["formExecution",{"static":!0}]}],dailyTemplate:[{type:t.ViewChild,args:["dailyTemplate",{"static":!0}]}],monthlyTemplate:[{type:t.ViewChild,args:["monthlyTemplate",{"static":!0}]}],weeklyTempalte:[{type:t.ViewChild,args:["weeklyTemplate",{"static":!0}]}],isEdit:[{type:t.Input,args:["p-is-edit"]}],literals:[{type:t.Input,args:["p-literals"]}],value:[{type:t.Input,args:["p-value"]}],changeProcess:[{type:t.Output,args:["p-change-process"]}]},e}(),Fe=function(){function e(){this.literals={},this.parameters=[],this.valueChange=new t.EventEmitter}return e.prototype.ngAfterViewInit=function(){var e=this;this.form&&setTimeout((function(){e.form.valueChanges.subscribe((function(t){e.valueChange.emit(t)}))}))},e.decorators=[{type:t.Component,args:[{selector:"po-page-job-scheduler-parameters",template:'<ng-container *ngIf="parameters && parameters.length; then formFieldsTemplate; else parametersNotFoundTemplate">\r\n</ng-container>\r\n\r\n<ng-template #parametersNotFoundTemplate>\r\n\r\n  <div class="po-text-center">\r\n    <span class="po-icon po-icon-info"></span>\r\n    <span class="po-font-text-large">\r\n      {{ literals.parametersNotFound }}\r\n    </span>\r\n  </div>\r\n\r\n</ng-template>\r\n\r\n<ng-template #formFieldsTemplate>\r\n  <form #parametersForm="ngForm">\r\n    <po-dynamic-form\r\n      p-group-form\r\n      [p-fields]="parameters"\r\n      [p-value]="value">\r\n    </po-dynamic-form>\r\n  </form>\r\n</ng-template>\r\n'}]}],e.propDecorators={form:[{type:t.ViewChild,args:["parametersForm",{"static":!0}]}],literals:[{type:t.Input,args:["p-literals"]}],parameters:[{type:t.Input,args:["p-parameters"]}],value:[{type:t.Input,args:["p-value"]}],valueChange:[{type:t.Output,args:["p-valueChange"]}]},e}(),Re=function(){function e(e){this.datePipe=e,this.executionValue="",this.firstExecutionValue="",this.infoOrientation=n.PoInfoOrientation.Horizontal,this.periodicityValue="",this.recurrentValue="",this.literals={},this.parameters=[],this.value={}}return e.prototype.ngOnInit=function(){var e=this.value,t=e.periodicity,r=e.hour,o=e.dayOfMonth,n=e.daysOfWeek,i=e.recurrent,s=e.firstExecution,a=e.firstExecutionHour;this.periodicityValue=this.getPeriodicityLabel(t),this.executionValue=this.getExecutionValue(t,r,n,o),this.firstExecutionValue=this.getFirstExecutionLabel(s,a),this.recurrentValue=this.getRecurrentValue(i)},e.prototype.getExecutionValue=function(e,t,r,o){switch(e){case"daily":return this.getHourLabel(t);case"monthly":return this.getMonthlyLabelExecution(o,t);case"weekly":return this.getWeeklyLabelExecution(r,t);default:return this.literals.notReported}},e.prototype.getFirstExecutionLabel=function(e,t){return e?this.datePipe.transform(e,"dd/MM/yyyy","-0200")+" "+this.getHourLabel(t):this.literals.notReported},e.prototype.getHourLabel=function(e){return this.literals.at+" "+(e||"00:00")+"h"},e.prototype.getMonthlyLabelExecution=function(e,t){var r=this.getHourLabel(t);return this.literals.day+" "+e+" "+r},e.prototype.getPeriodicityLabel=function(e){switch(e){case"daily":return this.literals.daily;case"monthly":return this.literals.monthly;case"weekly":return this.literals.weekly;default:return this.literals.single}},e.prototype.getRecurrentValue=function(e){return e?this.literals.yes:this.literals.no},e.prototype.getSorterWeekDays=function(){return{sunday:0,monday:1,tuesday:2,wednesday:3,thursday:4,friday:5,saturday:6}},e.prototype.getTranslateWeekDay=function(e){return{Sunday:this.literals.sunday,Monday:this.literals.monday,Tuesday:this.literals.tuesday,Wednesday:this.literals.wednesday,Thursday:this.literals.thursday,Friday:this.literals.friday,Saturday:this.literals.saturday}[e]||""},e.prototype.getWeekDaysLabel=function(e){var t=this;return void 0===e&&(e=[]),this.sortWeekDays(e).map((function(e){return t.getTranslateWeekDay(e)})).join(", ")},e.prototype.getWeeklyLabelExecution=function(e,t){return e&&Array.isArray(e)?this.getWeekDaysLabel(e)+" "+this.getHourLabel(t):this.literals.notReported},e.prototype.sortWeekDays=function(e){void 0===e&&(e=[]);var t=this.getSorterWeekDays();return e.sort((function(e,r){var o=e.toLowerCase(),n=r.toLowerCase();return t[o]>t[n]?1:-1}))},e.decorators=[{type:t.Component,args:[{selector:"po-page-job-scheduler-summary",template:'<div class="po-md-12">\r\n  <po-info\r\n    [p-label]="literals.process"\r\n    [p-orientation]="infoOrientation"\r\n    [p-value]="value.processID">\r\n  </po-info>\r\n\r\n  <po-info\r\n    [p-label]="literals.periodicity"\r\n    [p-orientation]="infoOrientation"\r\n    [p-value]="periodicityValue">\r\n  </po-info>\r\n\r\n  <po-info *ngIf="value.periodicity !== \'single\'"\r\n    [p-label]="literals.execution"\r\n    [p-orientation]="infoOrientation"\r\n    [p-value]="executionValue">\r\n  </po-info>\r\n\r\n  <po-info\r\n    [p-label]="literals.recurrent"\r\n    [p-orientation]="infoOrientation"\r\n    [p-value]="recurrentValue">\r\n  </po-info>\r\n\r\n  <po-info\r\n    [p-label]="literals.firstExecution"\r\n    [p-orientation]="infoOrientation"\r\n    [p-value]="firstExecutionValue">\r\n  </po-info>\r\n</div>\r\n\r\n<po-widget *ngIf="parameters && parameters.length"\r\n  class="po-pt-1 po-pb-1 po-md-12"\r\n  [p-title]="literals.parameters">\r\n\r\n  <po-dynamic-view\r\n    [p-fields]="parameters"\r\n    [p-value]="value.executionParameter">\r\n  </po-dynamic-view>\r\n\r\n</po-widget>\r\n\r\n'}]}],e.ctorParameters=function(){return[{type:r.DatePipe}]},e.propDecorators={literals:[{type:t.Input,args:["p-literals"]}],parameters:[{type:t.Input,args:["p-parameters"]}],value:[{type:t.Input,args:["p-value"]}]},e}(),Oe=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[Ie,Me,Fe,Re],exports:[Ie],imports:[r.CommonModule,o.FormsModule,n.PoButtonModule,n.PoContainerModule,n.PoDialogModule,n.PoDividerModule,n.PoDynamicModule,n.PoFieldModule,n.PoInfoModule,n.PoPageModule,n.PoStepperModule,n.PoWidgetModule],providers:[Ae,Ee]}]}],e}(),xe={Basic:"Basic",Bearer:"Bearer"},De={en:{title:"Welcome",loginErrorPattern:"Invalid Login",loginHint:"Your login user was given to you at your first day.\n    If you don't have this information contact support",loginPlaceholder:"Insert your e-mail",passwordErrorPattern:"Invalid Password",passwordPlaceholder:"Insert your password",customFieldErrorPattern:"Invalid value",customFieldPlaceholder:"Please enter a value",rememberUser:"Automatic login",rememberUserHint:"You can disable this option in system configuration",submitLabel:"Enter",submittedLabel:"Loading...",forgotPassword:"Forgot your Password?",highlightInfo:"",registerUrl:"New register",titlePopover:"Oops!",forgotYourPassword:"Forgot your password?",ifYouTryHarder:"If you try ",attempts:"{0} more time(s) ",yourUserWillBeBlocked:"without success your user will be blocked and you will be left 24 hours without being able to access :(",createANewPasswordNow:"Better create a new password now! You will be able to log into the system right away.",iForgotMyPassword:"I forgot my password"},es:{title:"Bienvenido",loginErrorPattern:"Login inválido",loginHint:"Su usuario ha sido entregado para usted en su primer día.\n    Si no tiene esta información, póngase en contacto con el soporte técnico",loginPlaceholder:"Inserte su e-mail",passwordErrorPattern:"Contraseña inválida",passwordPlaceholder:"Inserte su contraseña",customFieldErrorPattern:"Valor no válido.",customFieldPlaceholder:"Por favor introduzca un valor",rememberUser:"Inicio de sesión automáticamente",rememberUserHint:"Puede deshabilitar esta opción en el menú del sistema.",submitLabel:"Entrar",submittedLabel:"Cargando...",forgotPassword:"Olvidaste tu contraseña?",highlightInfo:"",registerUrl:"Nuevo registro",titlePopover:"Opa!",forgotYourPassword:"Olvidaste tu contraseña?",ifYouTryHarder:"Si intenta más ",attempts:"{0} vez/veces ",yourUserWillBeBlocked:"sin éxito su usuario sera bloqueado y usted vás permanecer 24 horas sin poder acceder a :(",createANewPasswordNow:"¡Mejor crear una nueva contraseña ahora! Usted podrá entrar en el sistema inmediatamente después.",iForgotMyPassword:"Olvide mi contraseña"},pt:{title:"Bem-vindo",loginErrorPattern:"Login inválido",loginHint:"Seu usuário foi entregue a você no seu primeiro dia.\n    Caso não tenha mais essa informação contacte o suporte",loginPlaceholder:"Insira seu e-mail",passwordErrorPattern:"Senha inválida",passwordPlaceholder:"Insira sua senha",customFieldErrorPattern:"Valor inválido.",customFieldPlaceholder:"Por favor insira um valor",rememberUser:"Logar automaticamente",rememberUserHint:"Você pode desabilitar essa opção no menu do sistema",submitLabel:"Entrar",submittedLabel:"Carregando...",forgotPassword:"Esqueceu sua senha?",highlightInfo:"",registerUrl:"Novo registro",titlePopover:"Opa!",forgotYourPassword:"Esqueceu sua senha?",ifYouTryHarder:"Se tentar mais ",attempts:"{0} vez(es) ",yourUserWillBeBlocked:"sem sucesso seu usuário será bloqueado e você fica 24 horas sem poder acessar :(",createANewPasswordNow:"Melhor criar uma senha nova agora! Você vai poder entrar no sistema logo em seguida.",iForgotMyPassword:"Esqueci minha senha"},ru:{title:"Добро пожаловать!",loginErrorPattern:"Неверный логин",loginHint:"Ваш логин был предоставлен вам в первый день.\n    Если у вас нет этой информации, обратитесь в службу поддержки",loginPlaceholder:"Вставьте свой адрес электронной почты",passwordErrorPattern:"Неверный пароль",passwordPlaceholder:"Введите свой пароль",customFieldErrorPattern:"Неверное значение.",customFieldPlaceholder:"Пожалуйста, введите значение",rememberUser:"Автоматический вход",rememberUserHint:"Вы можете отключить эту опцию в конфигурации системы",submitLabel:"Войти",submittedLabel:"3агрузка...",forgotPassword:"Забыли пароль?",highlightInfo:"",registerUrl:"Новый регистр",titlePopover:"Ой!",forgotYourPassword:"Забыли пароль?",ifYouTryHarder:"Если вы безуспешно попытаетесь войти еще ",attempts:"{0} раз(а) ",yourUserWillBeBlocked:"Ваш пользователь будет заблокирован, и Вы останетесь на 24 часа без возможности доступа :(",createANewPasswordNow:"Лучше создайте новый пароль сейчас! Вы сможете сразу войти в систему.",iForgotMyPassword:"Я забыл свой пароль"}},Le={en:"in",es:"en",pt:"em",ru:"в"},Te={en:"to",es:"al",pt:"ao",ru:"к"},Ne=function(){function e(e,r){this.loginService=e,this.router=r,this.allLoginErrors=[],this.allPasswordErrors=[],this.rememberUser=!1,this.showExceededAttemptsWarning=!1,this._authenticationType=xe.Basic,this._hideRememberUser=!1,this._loading=!1,this._loginErrors=[],this._passwordErrors=[],this.loginChange=new t.EventEmitter,this.loginSubmit=new t.EventEmitter,this.passwordChange=new t.EventEmitter}return Object.defineProperty(e.prototype,"customField",{get:function(){return this._customField},set:function(e){if(e){if(w(e,"string"))return this.customFieldType="input",this._customField=e,void(this.customFieldObject=this.getDefaultCustomFieldObject(e));if(w(e,"object")&&!Array.isArray(e)&&e.property)return this._customField=e,this.customFieldObject=e,void(this.customFieldObject.options||this.customFieldObject.url?this.customFieldType=this.customFieldObject.options?"select":"combo":this.customFieldType="input")}this._customField=undefined,this.customFieldObject=undefined},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contactEmail",{get:function(){return this._contactEmail},set:function(e){this._contactEmail=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"productName",{get:function(){return this._productName},set:function(e){this._productName=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"environment",{get:function(){return this._environment},set:function(e){e&&e.length>40?this._environment=e.substring(0,40):this._environment=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exceededAttemptsWarning",{get:function(){return this._exceededAttemptsWarning},set:function(e){this._exceededAttemptsWarning=function(e,t){var r=parseInt(e,10),o=parseInt(t,10),n=o||0===o?o:undefined;return r||0===r?r:n}(e),this.showExceededAttemptsWarning=this.exceededAttemptsWarning>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hideRememberUser",{get:function(){return this._hideRememberUser},set:function(e){this._hideRememberUser=""===e||P(e),this._hideRememberUser&&(this.rememberUser=!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"literals",{get:function(){return this._literals},set:function(e){this._literals=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loading",{get:function(){return this._loading},set:function(e){this._loading=P(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"login",{get:function(){return this._login},set:function(e){this._login=e,this.authenticationUrl||this.loginChange.emit(this._login)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loginErrors",{get:function(){return this._loginErrors},set:function(e){this._loginErrors=e||[],this.setLoginErrors(this._loginErrors)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"passwordErrors",{get:function(){return this._passwordErrors},set:function(e){this._passwordErrors=e||[],this.setPasswordErrors(this._passwordErrors)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recovery",{get:function(){return this._recovery},set:function(e){this._recovery=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"registerUrl",{get:function(){return this._registerUrl},set:function(e){this._registerUrl=w(e,"string")?e:undefined},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"authenticationType",{get:function(){return this._authenticationType},set:function(e){this._authenticationType=Object.values(xe).includes(e)?e:xe.Basic},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"authenticationUrl",{get:function(){return this._authenticationUrl},set:function(e){this._authenticationUrl=w(e,"string")?e:undefined},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blockedUrl",{get:function(){return this._blockedUrl},set:function(e){this._blockedUrl=w(e,"string")?e:undefined},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"language",{get:function(){return this.selectedLanguage||b()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageLoginLiterals",{get:function(){var e=this.contactEmail?this.concatenateLoginHintWithContactEmail(this.contactEmail):undefined,t=this.productName?this.concatenateTitleWithProductName(this.productName):undefined;return u({},De[f],De[this.language],e,t,this.literals)},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.loginSubscription&&this.loginSubscription.unsubscribe()},e.prototype.closePopover=function(){this.showExceededAttemptsWarning=!1},e.prototype.onLoginSubmit=function(){var e=this,t={login:this.login,password:this.password,rememberUser:this.rememberUser};this.customField&&(t[this.customFieldObject.property]=this.customFieldObject.value),this.authenticationUrl?this.loginSubscription=this.loginService.onLogin(this.authenticationUrl,this.authenticationType,t).subscribe((function(t){e.setValuesToProperties(),sessionStorage.setItem("PO_USER_LOGIN",JSON.stringify(t)),e.openInternalLink("/")}),(function(t){"400"!==t.error.code&&"401"!==t.error.code||(e.setValuesToProperties(t),e.redirectBlockedUrl(e.exceededAttemptsWarning,e.blockedUrl))})):(this.loginSubmit.emit(t),this.showExceededAttemptsWarning=this.exceededAttemptsWarning>0)},e.prototype.getDefaultCustomFieldObject=function(e){return{property:e}},e.prototype.openExternalLink=function(e){window.open(e,"_blank")},e.prototype.openInternalLink=function(e){this.router.navigate([e])},e.prototype.redirectBlockedUrl=function(e,t){0===e&&t&&(this.showExceededAttemptsWarning=!1,k(t)?this.openExternalLink(t):this.openInternalLink(t))},e.prototype.setValuesToProperties=function(e){e?(this.exceededAttemptsWarning=e.error.maxAttemptsRemaining,this.loginErrors=e.error.loginWarnings,this.passwordErrors=e.error.passwordWarnings,this.blockedUrl=e.error.blockedUrl):(this.exceededAttemptsWarning=0,this.loginErrors=[],this.passwordErrors=[],this.blockedUrl="")},e.propDecorators={customField:[{type:t.Input,args:["p-custom-field"]}],background:[{type:t.Input,args:["p-background"]}],contactEmail:[{type:t.Input,args:["p-contact-email"]}],productName:[{type:t.Input,args:["p-product-name"]}],environment:[{type:t.Input,args:["p-environment"]}],exceededAttemptsWarning:[{type:t.Input,args:["p-exceeded-attempts-warning"]}],hideRememberUser:[{type:t.Input,args:["p-hide-remember-user"]}],literals:[{type:t.Input,args:["p-literals"]}],loading:[{type:t.Input,args:["p-loading"]}],login:[{type:t.Input,args:["p-login"]}],logo:[{type:t.Input,args:["p-logo"]}],loginPattern:[{type:t.Input,args:["p-login-pattern"]}],loginErrors:[{type:t.Input,args:["p-login-errors"]}],passwordErrors:[{type:t.Input,args:["p-password-errors"]}],passwordPattern:[{type:t.Input,args:["p-password-pattern"]}],recovery:[{type:t.Input,args:["p-recovery"]}],registerUrl:[{type:t.Input,args:["p-register-url"]}],secondaryLogo:[{type:t.Input,args:["p-secondary-logo"]}],authenticationType:[{type:t.Input,args:["p-authentication-type"]}],authenticationUrl:[{type:t.Input,args:["p-authentication-url"]}],blockedUrl:[{type:t.Input,args:["p-blocked-url"]}],loginChange:[{type:t.Output,args:["p-login-change"]}],loginSubmit:[{type:t.Output,args:["p-login-submit"]}],passwordChange:[{type:t.Output,args:["p-password-change"]}]},e}(),_e=function(){function e(e){this.http=e}return e.prototype.onLogin=function(e,t,r){if(t===xe.Bearer)return r.password=btoa(r.password),this.http.post(e,r);var o="("+r.login+":"+r.password+")",n=new s.HttpHeaders({Authorization:t+" "+btoa(o)});return delete r.login,delete r.password,this.http.post(e,r,{headers:n})},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:s.HttpClient}]},e}(),je=function(e){function r(t,r,o,n,i,s){var a=e.call(this,i,s)||this;return a.changeDetector=t,a.activatedRoute=r,a.poComponentInjector=o,a.componentRef=null,a.customPasswordError={custom:!1},a.differ=n.find([]).create(null),a}return l(r,e),r.prototype.ngAfterViewChecked=function(){this.differ&&this.validateArrayChanges(this.differ,[{array:this.loginErrors,callback:this.generateLoginError.bind(this)},{array:this.passwordErrors,callback:this.generatePasswordError.bind(this)}])},r.prototype.ngOnInit=function(){this.checkingForRouteMetadata(this.activatedRoute.snapshot.data)},r.prototype.changeLoginModel=function(){this.authenticationUrl?this.loginErrors=[]:(this.setLoginErrors(this.loginErrors),this.loginChange.emit(this.login))},r.prototype.changePasswordModel=function(){this.authenticationUrl?this.passwordErrors=[]:(this.setPasswordErrors(this.passwordErrors),this.passwordChange.emit(this.password))},r.prototype.onSelectedLanguage=function(e){this.selectedLanguage=e},r.prototype.openUrl=function(e){switch(typeof e){case"string":this.setUrlRedirect(e);break;case"function":e();break;case"object":this.createModalPasswordRecoveryComponent(e)}},r.prototype.checkingForMetadataProperty=function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},r.prototype.checkingForRouteMetadata=function(e){0!==Object.keys(e).length&&(this.authenticationUrl=this.checkingForMetadataProperty(e,"serviceApi")||this.authenticationUrl,this.authenticationType=this.checkingForMetadataProperty(e,"authenticationType")||this.authenticationType,this.environment=this.checkingForMetadataProperty(e,"environment")||this.environment,this.recovery=this.checkingForMetadataProperty(e,"recovery")||this.recovery,this.registerUrl=this.checkingForMetadataProperty(e,"registerUrl")||this.registerUrl)},r.prototype.concatenate=function(e,t,r){return e+" "+t+" "+r},r.prototype.concatenateLiteral=function(e,t,r,o){var n;return(n={})[t]=this.concatenate(r,o,e),n},r.prototype.createModalPasswordRecoveryComponent=function(e){var t=this;this.componentRef&&this.poComponentInjector.destroyComponentInApplication(this.componentRef),this.componentRef=this.poComponentInjector.createComponentInApplication(T),this.componentRef.instance.urlRecovery=e.url,this.componentRef.instance.contactEmail=e.contactMail,this.componentRef.instance.phoneMask=e.phoneMask,this.componentRef.instance.type=e.type||I.Email,this.componentRef.changeDetectorRef.detectChanges(),setTimeout((function(){t.componentRef.instance.open()}))},r.prototype.generateLoginError=function(){if(this.loginErrors&&this.loginErrors.length)this.setLoginErrors(this.loginErrors);else{var e=this.loginForm.form.controls.login;e&&this.resetControl(e)}},r.prototype.generatePasswordError=function(){if(this.passwordErrors&&this.passwordErrors.length)this.setPasswordErrors(this.passwordErrors);else{var e=this.loginForm.form.controls.password;e&&this.resetControl(e)}},r.prototype.resetControl=function(e){e.markAsPristine(),e.markAsUntouched(),e.updateValueAndValidity()},r.prototype.setControlErrors=function(e,t,r,o){t&&(this[e]=t.hasError("pattern")?m(r,[o]):m(r),r&&r.length&&(t.valid||t.pristine)&&(t.markAsTouched(),t.markAsDirty(),t.setErrors(this.customPasswordError)))},r.prototype.setUrlRedirect=function(e){k(e)?window.open(e,"_blank"):this.router.navigate([e])},r.prototype.validateArrayChanges=function(e,t){var r=this;t.forEach((function(t){e.diff(t.array)&&(t.callback(),r.changeDetector.detectChanges())}))},r.prototype.concatenateLoginHintWithContactEmail=function(e){var t=De[this.language].loginHint,r=Le[this.language];return this.concatenateLiteral(e,"loginHint",t,r)},r.prototype.concatenateTitleWithProductName=function(e){var t=De[this.language].title,r=Te[this.language];return this.concatenateLiteral(e,"title",t,r)},r.prototype.setLoginErrors=function(e){var t=this.loginForm.form.controls.login;this.setControlErrors("allLoginErrors",t,e,this.pageLoginLiterals.loginErrorPattern)},r.prototype.setPasswordErrors=function(e){var t=this.loginForm.form.controls.password;this.setControlErrors("allPasswordErrors",t,e,this.pageLoginLiterals.passwordErrorPattern)},r.decorators=[{type:t.Component,args:[{selector:"po-page-login",template:'<po-page-background #pageLogin\r\n  p-show-select-language\r\n  [p-background]="background"\r\n  [p-highlight-info]="pageLoginLiterals.highlightInfo"\r\n  [p-logo]="logo"\r\n  [p-secondary-logo]="secondaryLogo"\r\n  (p-selected-language)="onSelectedLanguage($event)">\r\n\r\n  <div class="po-page-login-header po-mb-2 po-mb-sm-1 po-pt-sm-1">\r\n    <div class="po-page-login-header-title po-mb-sm-1">{{ pageLoginLiterals.title }}</div>\r\n    <po-tag\r\n      *ngIf="environment"\r\n      p-type="warning"\r\n      [p-value]="environment">\r\n    </po-tag>\r\n  </div>\r\n\r\n  <form #loginForm="ngForm" class="po-page-login-form">\r\n    <div class="po-row">\r\n      <div class="po-lg-12">\r\n        <div class="po-page-login-hint po-page-login-info-container">\r\n          <po-login\r\n            class="po-page-login-info-field"\r\n            name="login"\r\n            [(ngModel)]="login"\r\n            p-auto-focus\r\n            p-required\r\n            [p-label]="pageLoginLiterals.loginLabel"\r\n            [p-pattern]="loginPattern"\r\n            [p-placeholder]="pageLoginLiterals.loginPlaceholder"\r\n            (click)="closePopover()"\r\n            (keyup.enter)="loginForm.valid && onLoginSubmit()"\r\n            (p-change-model)="changeLoginModel()">\r\n          </po-login>\r\n\r\n          <div class="po-page-login-info-icon-container">\r\n            <span\r\n              class="po-icon po-field-icon po-icon-info"\r\n              p-tooltip-position="right"\r\n              [p-tooltip]="pageLoginLiterals.loginHint">\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class="po-field-container-bottom po-field-container-error-container">\r\n          <div *ngFor="let error of allLoginErrors" class="po-field-container-bottom-text-error po-field-container-error-item">\r\n            <span class="po-icon po-icon-exclamation"></span>\r\n            <span class="po-field-container-error-text">{{error}}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="po-lg-12">\r\n        <div class="po-page-login-password-container">\r\n          <po-password\r\n            class="po-page-login-field-size po-page-login-password-item"\r\n            name="password"\r\n            [(ngModel)]="password"\r\n            p-required\r\n            [p-label]="pageLoginLiterals.passwordLabel"\r\n            [p-pattern]="passwordPattern"\r\n            [p-placeholder]="pageLoginLiterals.passwordPlaceholder"\r\n            (click)="closePopover()"\r\n            (keyup.enter)="loginForm.valid && onLoginSubmit()"\r\n            (p-change-model)="changePasswordModel()">\r\n          </po-password>\r\n          <div class="po-page-login-password-item po-page-login-password-popover-container">\r\n            <po-page-login-popover *ngIf="showExceededAttemptsWarning && exceededAttemptsWarning"\r\n              [p-literals]="pageLoginLiterals"\r\n              [p-recovery]="recovery"\r\n              [p-remaining-attempts]="exceededAttemptsWarning"\r\n              (p-forgot-password) = "openUrl($event)">\r\n            </po-page-login-popover>\r\n          </div>\r\n        </div>\r\n        <div class="po-field-container-bottom po-field-container-error-container">\r\n          <div *ngFor="let error of allPasswordErrors" class="po-field-container-bottom-text-error po-field-container-error-item">\r\n            <span class="po-icon po-icon-exclamation"></span>\r\n            <span class="po-field-container-error-text">{{error}}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <po-input *ngIf="customField && customFieldType === \'input\'"\r\n        class="po-page-login-field-size po-lg-12"\r\n        name="customFieldInput"\r\n        [(ngModel)]="customFieldObject.value"\r\n        p-required\r\n        [p-error-pattern]="customFieldObject.errorPattern || pageLoginLiterals.customFieldErrorPattern"\r\n        [p-pattern]="customFieldObject.pattern"\r\n        [p-placeholder]="customFieldObject.placeholder || pageLoginLiterals.customFieldPlaceholder"\r\n        (keyup.enter)="loginForm.valid && onLoginSubmit()">\r\n      </po-input>\r\n\r\n      <po-combo *ngIf="customField && customFieldType === \'combo\'"\r\n        class="po-page-login-field-size po-lg-12"\r\n        name="customFieldCombo"\r\n        [(ngModel)]="customFieldObject.value"\r\n        p-required\r\n        [p-field-value]="customFieldObject.fieldValue"\r\n        [p-filter-service]="customFieldObject.url"\r\n        [p-placeholder]="customFieldObject.placeholder || pageLoginLiterals.customFieldPlaceholder">\r\n      </po-combo>\r\n\r\n      <po-select *ngIf="customField && customFieldType === \'select\'"\r\n        class="po-page-login-field-size po-lg-12"\r\n        name="customFieldSelect"\r\n        [(ngModel)]="customFieldObject.value"\r\n        p-required\r\n        [p-placeholder]="customFieldObject.placeholder || pageLoginLiterals.customFieldPlaceholder"\r\n        [p-options]="customFieldObject.options">\r\n      </po-select>\r\n\r\n      <div class="po-lg-12">\r\n        <div *ngIf="!hideRememberUser" class="po-page-login-hint po-page-login-info-container">\r\n          <po-switch\r\n            class="po-page-login-info-field po-lg-7 po-offset-lg-5 po-offset-xl-5"\r\n            name="rememberUser"\r\n            [(ngModel)]="rememberUser"\r\n            p-label-position="1"\r\n            [p-label-off]="pageLoginLiterals.rememberUser"\r\n            [p-label-on]="pageLoginLiterals.rememberUser"\r\n            (keyup.enter)="loginForm.valid && onLoginSubmit()">\r\n          </po-switch>\r\n\r\n          <div class="po-page-login-info-icon-container po-page-login-info-icon-remember-user">\r\n            <span\r\n              class="po-icon po-field-icon po-icon-info"\r\n              p-tooltip-position="right"\r\n              [p-tooltip]="pageLoginLiterals.rememberUserHint">\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n\r\n      <po-button\r\n        class="po-lg-12 po-page-login-button po-page-login-field-size"\r\n        p-type="primary"\r\n        [p-disabled]="loginForm.invalid"\r\n        [p-label]="loading ? pageLoginLiterals.submittedLabel : pageLoginLiterals.submitLabel"\r\n        [p-loading]="loading"\r\n        (p-click)="onLoginSubmit()">\r\n      </po-button>\r\n\r\n      <div *ngIf="recovery"\r\n        class="po-page-login-recovery-link">\r\n        <a class="po-font-text-large-bold" (click)="openUrl(recovery)">{{ pageLoginLiterals.forgotPassword }}</a>\r\n      </div>\r\n\r\n      <div *ngIf="registerUrl"\r\n        class="po-page-login-register-link">\r\n        <a class="po-font-text-large-bold" (click)="openUrl(registerUrl)">{{ pageLoginLiterals.registerUrl }}</a>\r\n      </div>\r\n    </div>\r\n  </form>\r\n</po-page-background>\r\n'}]}],r.ctorParameters=function(){return[{type:t.ChangeDetectorRef},{type:i.ActivatedRoute},{type:n.PoComponentInjectorService},{type:t.IterableDiffers},{type:_e},{type:i.Router}]},r.propDecorators={loginForm:[{type:t.ViewChild,args:["loginForm",{read:o.NgForm,"static":!0}]}],pageLogin:[{type:t.ViewChild,args:["pageLogin",{read:t.ViewContainerRef,"static":!0}]}]},r}(Ne),qe=function(){function e(){this.forgotPassword=new t.EventEmitter}return Object.defineProperty(e.prototype,"recovery",{get:function(){return this._recovery},set:function(e){this._recovery=e,w(e,"string")&&(this.recoveryType=k(e)?"externalLink":"internalLink")},enumerable:!0,configurable:!0}),e.prototype.onForgotPasswordClick=function(e){this.forgotPassword.emit(e)},e.decorators=[{type:t.Component,args:[{selector:"po-page-login-popover",template:'<div class="po-page-login-popover-container">\r\n  <div class="po-page-login-popover">\r\n    <div class="po-page-login-popover-arrow"></div>\r\n    <div class="po-page-login-popover-content">\r\n      <p class="po-font-text-bold po-page-login-popover-title">\r\n        {{ literals?.titlePopover }}\r\n      </p>\r\n      <p class="po-font-text">\r\n        {{ literals?.forgotYourPassword }}\r\n      </p>\r\n      <p class="po-font-text">\r\n        {{ literals?.ifYouTryHarder }}\r\n        <span class="po-font-text-bold po-page-login-popover-attempts">\r\n          {{ literals?.attempts | poI18n:remainingAttempts }}\r\n        </span>{{ literals?.yourUserWillBeBlocked }}\r\n      </p>\r\n      <br>\r\n      <p class="po-font-text">\r\n        {{ literals?.createANewPasswordNow }}\r\n      </p>\r\n      <div *ngIf="recovery" class="po-font-text-bold po-mt-1 po-page-login-popover-link-container">\r\n        <a *ngIf="recoveryType === \'internalLink\'"\r\n          class="po-page-login-popover-link"\r\n          [routerLink]="recovery">\r\n          {{ literals?.iForgotMyPassword }}\r\n        </a>\r\n        <a *ngIf="recoveryType === \'externalLink\'"\r\n          class="po-page-login-popover-link"\r\n          [href]="recovery"\r\n          target="_blank">\r\n          {{ literals?.iForgotMyPassword }}\r\n        </a>\r\n        <a *ngIf="!recoveryType"\r\n          class="po-page-login-popover-link"\r\n          (click)="onForgotPasswordClick(recovery)">\r\n          {{ literals?.iForgotMyPassword }}\r\n        </a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n'}]}],e.propDecorators={literals:[{type:t.Input,args:["p-literals"]}],recovery:[{type:t.Input,args:["p-recovery"]}],remainingAttempts:[{type:t.Input,args:["p-remaining-attempts"]}],forgotPassword:[{type:t.Output,args:["p-forgot-password"]}]},e}(),Be=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[r.CommonModule,o.FormsModule,i.RouterModule,q,n.PoModule],declarations:[je,qe],entryComponents:[T],exports:[je],providers:[_e]}]}],e}(),Ue=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[_,q,K,ee,ie,ce,ye,we,Oe,Be],exports:[_,q,K,ee,ie,ce,ye,we,Oe,Be]}]}],e}(),Ve=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[le,ne],exports:[le,ne]}]}],e}(),He=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[Ue,Ve],exports:[Ue,Ve]}]}],e}();e.PoComponentsModule=Ue,e.PoModalPasswordRecoveryComponent=T,e.PoModalPasswordRecoveryModalContent=D,e.PoModalPasswordRecoveryModule=_,e.PoModalPasswordRecoveryType=I,e.PoPageBackgroundComponent=j,e.PoPageBackgroundModule=q,e.PoPageBlockedUserComponent=z,e.PoPageBlockedUserModule=K,e.PoPageBlockedUserReason=B,e.PoPageChangePasswordComponent=Z,e.PoPageChangePasswordModule=ee,e.PoPageCustomizationModule=le,e.PoPageCustomizationService=pe,e.PoPageDynamicDetailComponent=oe,e.PoPageDynamicDetailModule=ie,e.PoPageDynamicEditComponent=ae,e.PoPageDynamicEditModule=ce,e.PoPageDynamicModule=ne,e.PoPageDynamicSearchComponent=fe,e.PoPageDynamicSearchModule=ye,e.PoPageDynamicService=te,e.PoPageDynamicTableComponent=Pe,e.PoPageDynamicTableModule=we,e.PoPageJobSchedulerComponent=Ie,e.PoPageJobSchedulerModule=Oe,e.PoPageLoginAuthenticationType=xe,e.PoPageLoginComponent=je,e.PoPageLoginModule=Be,e.PoServicesModule=Ve,e.PoTemplatesModule=He,e.poModalPasswordRecoveryLiterals=E,e.poPageBlockedUserButtonLiterals=W,e.poPageBlockedUserLiterals=G,e.poPageChangePasswordLiterals=Q,e.poPageDynamicDetailLiteralsDefault=re,e.poPageDynamicEditLiteralsDefault=se,e.poPageDynamicTableLiteralsDefault=be,e.ɵa=x,e.ɵb=L,e.ɵc=N,e.ɵd=H,e.ɵe=J,e.ɵf=Y,e.ɵg=$,e.ɵh=X,e.ɵi=he,e.ɵj=de,e.ɵk=ge,e.ɵl=ve,e.ɵm=Se,e.ɵn=Ae,e.ɵo=Ee,e.ɵp=Me,e.ɵq=Fe,e.ɵr=Re,e.ɵs=Ne,e.ɵt=_e,e.ɵu=qe,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=portinari-portinari-templates.umd.min.js.map